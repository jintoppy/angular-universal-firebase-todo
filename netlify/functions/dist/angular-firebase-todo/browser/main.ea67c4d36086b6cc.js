"use strict";(self.webpackChunkangular_firebase_todo=self.webpackChunkangular_firebase_todo||[]).push([[179],{2011:(at,Te,P)=>{P.d(Te,{Dh:()=>he,GT:()=>fe,cc:()=>xe,hO:()=>Be,on:()=>j,pX:()=>oe,xv:()=>pe});var u=P(4650),ne=P(127),N=P(5813);at=P.hmd(at);const ue=["ngOnDestroy"],oe=(me,Qe,st,Me={})=>new Proxy(me,{get:(be,Ce)=>st.runOutsideAngular(()=>{var He;if(me[Ce])return!(null===(He=Me?.spy)||void 0===He)&&He.get&&Me.spy.get(Ce,me[Ce]),me[Ce];if(ue.indexOf(Ce)>-1)return()=>{};const je=Qe.toPromise().then(H=>{const ye=H&&H[Ce];return"function"==typeof ye?ye.bind(H):ye&&ye.then?ye.then(Y=>st.run(()=>Y)):st.run(()=>ye)});return new Proxy(()=>{},{get:(H,ye)=>je[ye],apply:(H,ye,Y)=>je.then(X=>{var ae;const re=X&&X(...Y);return!(null===(ae=Me?.spy)||void 0===ae)&&ae.apply&&Me.spy.apply(Ce,Y,re),re})})})}),fe=(me,Qe)=>{Qe.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Me=>{Object.defineProperty(me.prototype,Me,Object.getOwnPropertyDescriptor(st.prototype||st,Me))})})};class ie{constructor(Qe){return Qe}}const he=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function j(me,Qe,st){const be="object"==typeof st&&st||{};be.name=be.name||"string"==typeof st&&st||"[DEFAULT]";const He=ne.Z.apps.filter(je=>je&&je.name===be.name)[0]||Qe.runOutsideAngular(()=>ne.Z.initializeApp(me,be));try{JSON.stringify(me)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(He)}const $=(me,...Qe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...Qe)},Q={provide:ie,useFactory:j,deps:[he,u.R0b,[new u.FiY,pe]]};let Be=(()=>{class me{constructor(st){ne.Z.registerVersion("angularfire",N.q4.full,"core"),ne.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ne.Z.registerVersion("angular",u.q4F.full,st.toString())}static initializeApp(st,Me){return{ngModule:me,providers:[{provide:he,useValue:st},{provide:pe,useValue:Me}]}}}return me.\u0275fac=function(st){return new(st||me)(u.LFG(u.Lbi))},me.\u0275mod=u.oAB({type:me}),me.\u0275inj=u.cJS({providers:[Q]}),me})();function xe(me,Qe,st,Me,be){const[,Ce,He]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===me)||[];if(Ce)return function we(me,Qe){try{return me.toString()===Qe.toString()}catch{return me===Qe}}(be,He)||(_e("error",`${Qe} was already initialized on the ${st} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:be,was:He})),Ce;{const je=Me();return globalThis.\u0275AngularfireInstanceCache.push([me,je,be]),je}}const tt=!!at.hot,_e=(me,...Qe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Te,P)=>{P.d(Te,{q4:()=>ze,iC:()=>_s,HU:()=>ei,vb:()=>ys,JM:()=>ol});var u=P(4650),ne=P(5867),N=P(5861),ue=P(9681),oe=P(2090),fe=P(4859),ie=P(1877),he=P(8766);const pe="@firebase/installations",j="0.5.12",Q=`w:${j}`,Be="FIS_v2",Qe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Me({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function be(C){return{token:C.token,requestStatus:2,expiresIn:X(C.expiresIn),creationTime:Date.now()}}function Ce(C,T){return He.apply(this,arguments)}function He(){return(He=(0,N.Z)(function*(C,T){const L=(yield T.json()).error;return Qe.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function H(C,{refreshToken:T}){const x=je(C);return x.append("Authorization",function ae(C){return`${Be} ${C}`}(T)),x}function ye(C){return Y.apply(this,arguments)}function Y(){return(Y=(0,N.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function X(C){return Number(C.replace("s","000"))}function re(C,T){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:x}){const L=Me(C),J=je(C),se=T.getImmediate({optional:!0});if(se){const bt=yield se.getHeartbeatsHeader();bt&&J.append("x-firebase-client",bt)}const Re={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:Be,appId:C.appId,sdkVersion:Q})},nt=yield ye(()=>fetch(L,Re));if(nt.ok){const bt=yield nt.json();return{fid:bt.fid||x,registrationStatus:2,refreshToken:bt.refreshToken,authToken:be(bt.authToken)}}throw yield Ce("Create Installation",nt)})).apply(this,arguments)}function Oe(C){return new Promise(T=>{setTimeout(T,C)})}const Gt=/^[cdef][\w-]{21}$/;function We(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function sn(C){return function pt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Gt.test(x)?x:""}catch{return""}}function Nn(C){return`${C.appName}!${C.appId}`}const Wt=new Map;function Kt(C,T){const x=Nn(C);tn(x,T),function Fa(C,T){const x=function Tr(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=C=>{tn(C.data.key,C.data.fid)}),Wr}();x&&x.postMessage({key:C,fid:T}),function Kr(){0===Wt.size&&Wr&&(Wr.close(),Wr=null)}()}(x,T)}function tn(C,T){const x=Wt.get(C);if(x)for(const L of x)L(T)}let Wr=null;const Zr="firebase-installations-store";let bi=null;function Go(){return bi||(bi=(0,he.X3)("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Zr)}})),bi}function Ze(C,T){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,N.Z)(function*(C,T){const x=Nn(C),J=(yield Go()).transaction(Zr,"readwrite"),se=J.objectStore(Zr),Ie=yield se.get(x);return yield se.put(T,x),yield J.done,(!Ie||Ie.fid!==T.fid)&&Kt(C,T.fid),T})).apply(this,arguments)}function os(C){return On.apply(this,arguments)}function On(){return(On=(0,N.Z)(function*(C){const T=Nn(C),L=(yield Go()).transaction(Zr,"readwrite");yield L.objectStore(Zr).delete(T),yield L.done})).apply(this,arguments)}function wi(C,T){return ii.apply(this,arguments)}function ii(){return(ii=(0,N.Z)(function*(C,T){const x=Nn(C),J=(yield Go()).transaction(Zr,"readwrite"),se=J.objectStore(Zr),Ie=yield se.get(x),Re=T(Ie);return void 0===Re?yield se.delete(x):yield se.put(Re,x),yield J.done,Re&&(!Ie||Ie.fid!==Re.fid)&&Kt(C,Re.fid),Re})).apply(this,arguments)}function Pn(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(C){let T;const x=yield wi(C.appConfig,L=>{const J=gn(L),se=gt(C,J);return T=se.registrationPromise,se.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function gn(C){return Ct(C||{fid:We(),registrationStatus:0})}function gt(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Qe.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function lt(C,T){return dn.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ar(C)}:{installationEntry:T}}function dn(){return(dn=(0,N.Z)(function*(C,T){try{const x=yield re(C,T);return Ze(C.appConfig,x)}catch(x){throw st(x)&&409===x.customData.serverCode?yield os(C.appConfig):yield Ze(C.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ar(C){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*(C){let T=yield kr(C.appConfig);for(;1===T.registrationStatus;)yield Oe(100),T=yield kr(C.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Pn(C);return L||x}return T})).apply(this,arguments)}function kr(C){return wi(C,T=>{if(!T)throw Qe.create("installation-not-found");return Ct(T)})}function Ct(C){return function as(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Zt(C,T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:T},x){const L=zt(C,x),J=H(C,x),se=T.getImmediate({optional:!0});if(se){const bt=yield se.getHeartbeatsHeader();bt&&J.append("x-firebase-client",bt)}const Re={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:C.appId}})},nt=yield ye(()=>fetch(L,Re));if(nt.ok)return be(yield nt.json());throw yield Ce("Generate Auth Token",nt)})).apply(this,arguments)}function zt(C,{fid:T}){return`${Me(C)}/${T}/authTokens:generate`}function K(C){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(C,T=!1){let x;const L=yield wi(C.appConfig,se=>{if(!ot(se))throw Qe.create("not-registered");const Ie=se.authToken;if(!T&&fn(Ie))return se;if(1===Ie.requestStatus)return x=B(C,T),se;{if(!navigator.onLine)throw Qe.create("app-offline");const Re=Yn(se);return x=De(C,Re),Re}});return x?yield x:L.authToken})).apply(this,arguments)}function B(C,T){return z.apply(this,arguments)}function z(){return(z=(0,N.Z)(function*(C,T){let x=yield W(C.appConfig);for(;1===x.authToken.requestStatus;)yield Oe(100),x=yield W(C.appConfig);const L=x.authToken;return 0===L.requestStatus?K(C,T):L})).apply(this,arguments)}function W(C){return wi(C,T=>{if(!ot(T))throw Qe.create("not-registered");return function Bt(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function De(C,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(C,T){try{const x=yield Zt(C,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield Ze(C.appConfig,L),x}catch(x){if(!st(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ze(C.appConfig,L)}else yield os(C.appConfig);throw x}})).apply(this,arguments)}function ot(C){return void 0!==C&&2===C.registrationStatus}function fn(C){return 2===C.requestStatus&&!function Yt(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Yn(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function bn(){return(bn=(0,N.Z)(function*(C){const T=C,{installationEntry:x,registrationPromise:L}=yield Pn(T);return L?L.catch(console.error):K(T).catch(console.error),x.fid})).apply(this,arguments)}function Li(){return(Li=(0,N.Z)(function*(C,T=!1){const x=C;return yield Rr(x),(yield K(x,T)).token})).apply(this,arguments)}function Rr(C){return jn.apply(this,arguments)}function jn(){return(jn=(0,N.Z)(function*(C){const{registrationPromise:T}=yield Pn(C);T&&(yield T)})).apply(this,arguments)}function Ns(C){return Qe.create("missing-app-config-values",{valueName:C})}const zo="installations",wn=C=>{const T=C.getProvider("app").getImmediate(),x=function yn(C){if(!C||!C.options)throw Ns("App Configuration");if(!C.name)throw Ns("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!C.options[x])throw Ns(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ue._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},co=C=>{const T=C.getProvider("app").getImmediate(),x=(0,ue._getProvider)(T,zo).getImmediate();return{getId:()=>function Ot(C){return bn.apply(this,arguments)}(x),getToken:J=>function Hn(C){return Li.apply(this,arguments)}(x,J)}};(function $u(){(0,ue._registerComponent)(new fe.wA(zo,wn,"PUBLIC")),(0,ue._registerComponent)(new fe.wA("installations-internal",co,"PRIVATE"))})(),(0,ue.registerVersion)(pe,j),(0,ue.registerVersion)(pe,j,"esm2017");const Vi="@firebase/remote-config",Gn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gf{constructor(T,x,L,J){this.client=T,this.storage=x,this.storageCache=L,this.logger=J}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,J=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var x=this;return(0,N.Z)(function*(){const[L,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return J;T.eTag=J&&J.eTag;const se=yield x.client.fetch(T),Ie=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ie.push(x.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ie),se})()}}function Ku(C=navigator){return C.languages&&C.languages[0]||C.language}class Zu{constructor(T,x,L,J,se,Ie){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=J,this.apiKey=se,this.appId=Ie}fetch(T){var x=this;return(0,N.Z)(function*(){var L,J,se;const[Ie,Re]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,At={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ct={sdk_version:x.sdkVersion,app_instance_id:Ie,app_instance_id_token:Re,app_id:x.appId,language_code:Ku()},En={method:"POST",headers:At,body:JSON.stringify(ct)},Er=fetch(bt,En),aa=new Promise((la,Mo)=>{T.signal.addEventListener(()=>{const ki=new Error("The operation was aborted.");ki.name="AbortError",Mo(ki)})});let vs;try{yield Promise.race([Er,aa]),vs=yield Er}catch(la){let Mo="fetch-client-network";throw"AbortError"===(null===(L=la)||void 0===L?void 0:L.name)&&(Mo="fetch-timeout"),Gn.create(Mo,{originalErrorMessage:null===(J=la)||void 0===J?void 0:J.message})}let St=vs.status;const Gi=vs.headers.get("ETag")||void 0;let Ys,ci;if(200===vs.status){let la;try{la=yield vs.json()}catch(Mo){throw Gn.create("fetch-client-parse",{originalErrorMessage:null===(se=Mo)||void 0===se?void 0:se.message})}Ys=la.entries,ci=la.state}if("INSTANCE_STATE_UNSPECIFIED"===ci?St=500:"NO_CHANGE"===ci?St=304:("NO_TEMPLATE"===ci||"EMPTY_CONFIG"===ci)&&(Ys={}),304!==St&&200!==St)throw Gn.create("fetch-status",{httpStatus:St});return{status:St,eTag:Gi,config:Ys}})()}}class wm{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,N.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var J=this;return(0,N.Z)(function*(){yield function Jn(C,T){return new Promise((x,L)=>{const J=Math.max(T-Date.now(),0),se=setTimeout(x,J);C.addEventListener(()=>{clearTimeout(se),L(Gn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const se=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),se}catch(se){if(!function wd(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(se))throw se;const Ie={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(Ie),J.attemptFetch(T,Ie)}})()}}class Yu{constructor(T,x,L,J,se){this.app=T,this._client=x,this._storageCache=L,this._storage=J,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qu(C,T){var x;const L=C.target.error||void 0;return Gn.create(T,{originalErrorMessage:L&&(null===(x=L)||void 0===x?void 0:x.message)})}const Ls="app_namespace_store";class Dm{constructor(T,x,L,J=function Cm(){return new Promise((C,T)=>{var x;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=J=>{T(Qu(J,"storage-open"))},L.onsuccess=J=>{C(J.target.result)},L.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Ls,{keyPath:"compositeKey"})}}catch(L){T(Gn.create("storage-open",{originalErrorMessage:null===(x=L)||void 0===x?void 0:x.message}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,N.Z)(function*(){const L=yield x.openDbPromise;return new Promise((J,se)=>{var Ie;const nt=L.transaction([Ls],"readonly").objectStore(Ls),bt=x.createCompositeKey(T);try{const At=nt.get(bt);At.onerror=ct=>{se(Qu(ct,"storage-get"))},At.onsuccess=ct=>{const En=ct.target.result;J(En?En.value:void 0)}}catch(At){se(Gn.create("storage-get",{originalErrorMessage:null===(Ie=At)||void 0===Ie?void 0:Ie.message}))}})})()}set(T,x){var L=this;return(0,N.Z)(function*(){const J=yield L.openDbPromise;return new Promise((se,Ie)=>{var Re;const bt=J.transaction([Ls],"readwrite").objectStore(Ls),At=L.createCompositeKey(T);try{const ct=bt.put({compositeKey:At,value:x});ct.onerror=En=>{Ie(Qu(En,"storage-set"))},ct.onsuccess=()=>{se()}}catch(ct){Ie(Gn.create("storage-set",{originalErrorMessage:null===(Re=ct)||void 0===Re?void 0:Re.message}))}})})()}delete(T){var x=this;return(0,N.Z)(function*(){const L=yield x.openDbPromise;return new Promise((J,se)=>{var Ie;const nt=L.transaction([Ls],"readwrite").objectStore(Ls),bt=x.createCompositeKey(T);try{const At=nt.delete(bt);At.onerror=ct=>{se(Qu(ct,"storage-delete"))},At.onsuccess=()=>{J()}}catch(At){se(Gn.create("storage-delete",{originalErrorMessage:null===(Ie=At)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Id{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),se=yield x;se&&(T.lastFetchStatus=se);const Ie=yield L;Ie&&(T.lastSuccessfulFetchTimestampMillis=Ie);const Re=yield J;Re&&(T.activeConfig=Re)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Rl(){return yf.apply(this,arguments)}function yf(){return(yf=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Vs(){(0,ue._registerComponent)(new fe.wA("remote-config",function C(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gn.create("registration-window");if(!(0,oe.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:se,apiKey:Ie,appId:Re}=L.options;if(!se)throw Gn.create("registration-project-id");if(!Ie)throw Gn.create("registration-api-key");if(!Re)throw Gn.create("registration-app-id");const nt=new Dm(Re,L.name,x=x||"firebase"),bt=new Id(nt),At=new ie.Yd(Vi);At.logLevel=ie.in.ERROR;const ct=new Zu(J,ue.SDK_VERSION,x,se,Ie,Re),En=new wm(ct,nt),Er=new gf(En,nt,bt,At),aa=new Yu(L,Er,bt,nt,At);return function An(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(aa),aa},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Vi,"0.3.11"),(0,ue.registerVersion)(Vi,"0.3.11","esm2017")}();const Bi="/firebase-messaging-sw.js",us="/firebase-cloud-messaging-push-scope",cs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ua="google.c.a.c_id",Nl="google.c.a.c_l",Ju="google.c.a.ts",_f="google.c.a.e";var ds=(()=>{return(C=ds||(ds={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ds;var C})();function oi(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qr(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),J=new Uint8Array(L.length);for(let se=0;se<L.length;++se)J[se]=L.charCodeAt(se);return J}const Wo="fcm_token_details_db",cr="fcm_token_object_Store";function vf(C){return bf.apply(this,arguments)}function bf(){return bf=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(Wo))return null;let T=null;return(yield(0,he.X3)(Wo,5,{upgrade:(L=(0,N.Z)(function*(J,se,Ie,Re){var nt;if(se<2||!J.objectStoreNames.contains(cr))return;const bt=Re.objectStore(cr),At=yield bt.index("fcmSenderId").get(C);if(yield bt.clear(),At)if(2===se){const ct=At;if(!ct.auth||!ct.p256dh||!ct.endpoint)return;T={token:ct.fcmToken,createTime:null!==(nt=ct.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:ct.auth,p256dh:ct.p256dh,endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:"string"==typeof ct.vapidKey?ct.vapidKey:oi(ct.vapidKey)}}}else if(3===se){const ct=At;T={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:oi(ct.auth),p256dh:oi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:oi(ct.vapidKey)}}}else if(4===se){const ct=At;T={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:oi(ct.auth),p256dh:oi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:oi(ct.vapidKey)}}}}),function(se,Ie,Re,nt){return L.apply(this,arguments)})})).close(),yield(0,he.Lj)(Wo),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Sn(T)?T:null;var L}),bf.apply(this,arguments)}function Sn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ai="firebase-messaging-store";let Or=null;function Fl(){return Or||(Or=(0,he.X3)("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ai)}})),Or}function go(C){return hs.apply(this,arguments)}function hs(){return(hs=(0,N.Z)(function*(C){const T=Di(C),L=yield(yield Fl()).transaction(ai).objectStore(ai).get(T);if(L)return L;{const J=yield vf(C.appConfig.senderId);if(J)return yield $t(C,J),J}})).apply(this,arguments)}function $t(C,T){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,N.Z)(function*(C,T){const x=Di(C),J=(yield Fl()).transaction(ai,"readwrite");return yield J.objectStore(ai).put(T,x),yield J.done,T})).apply(this,arguments)}function yo(C){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,N.Z)(function*(C){const T=Di(C),L=(yield Fl()).transaction(ai,"readwrite");yield L.objectStore(ai).delete(T),yield L.done})).apply(this,arguments)}function Di({appConfig:C}){return C.appId}const In=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(C,T){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,N.Z)(function*(C,T){var x;const L=yield ec(C),J=Ae(T),se={method:"POST",headers:L,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(fs(C.appConfig),se)).json()}catch(Re){throw In.create("token-subscribe-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(Ie.error)throw In.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw In.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Ef(C,T){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(C,T){var x;const L=yield ec(C),J=Ae(T.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(`${fs(C.appConfig)}/${T.token}`,se)).json()}catch(Re){throw In.create("token-update-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(Ie.error)throw In.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw In.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function jl(C,T){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,N.Z)(function*(C,T){var x;const J={method:"DELETE",headers:yield ec(C)};try{const Ie=yield(yield fetch(`${fs(C.appConfig)}/${T}`,J)).json();if(Ie.error)throw In.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(se){throw In.create("token-unsubscribe-failed",{errorInfo:null===(x=se)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function fs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ec(C){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*({appConfig:C,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Ae({p256dh:C,auth:T,endpoint:x,vapidKey:L}){const J={web:{endpoint:x,auth:T,p256dh:C}};return L!==cs&&(J.web.applicationPubKey=L),J}const Ut=6048e5;function $l(C){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,N.Z)(function*(C){const T=yield tc(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:oi(T.getKey("auth")),p256dh:oi(T.getKey("p256dh"))},L=yield go(C.firebaseDependencies);if(L){if(Td(L.subscriptionOptions,x))return Date.now()>=L.createTime+Ut?Ko(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield jl(C.firebaseDependencies,L.token)}catch(J){console.warn(J)}return ja(C.firebaseDependencies,x)}return ja(C.firebaseDependencies,x)})).apply(this,arguments)}function Mn(C){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(C){const T=yield go(C.firebaseDependencies);T&&(yield jl(C.firebaseDependencies,T.token),yield yo(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ko(C,T){return li.apply(this,arguments)}function li(){return(li=(0,N.Z)(function*(C,T){try{const x=yield Ef(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield $t(C.firebaseDependencies,L),x}catch(x){throw yield Mn(C),x}})).apply(this,arguments)}function ja(C,T){return $a.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*(C,T){const L={token:yield Dt(C,T),createTime:Date.now(),subscriptionOptions:T};return yield $t(C,L),L.token})).apply(this,arguments)}function tc(C,T){return nc.apply(this,arguments)}function nc(){return(nc=(0,N.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qr(T)})})).apply(this,arguments)}function Td(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Ga(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function xn(C,T){if(!T.notification)return;C.notification={};const x=T.notification.title;x&&(C.notification.title=x);const L=T.notification.body;L&&(C.notification.body=L);const J=T.notification.image;J&&(C.notification.image=J)}(T,C),function Ui(C,T){!T.data||(C.data=T.data)}(T,C),function rc(C,T){var x,L,J,se,Ie;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const Re=null!==(J=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==J?J:null===(se=T.notification)||void 0===se?void 0:se.click_action;Re&&(C.fcmOptions.link=Re);const nt=null===(Ie=T.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;nt&&(C.fcmOptions.analyticsLabel=nt)}(T,C),T}function _o(C){return"object"==typeof C&&!!C&&Ua in C}function ps(C,T){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function za(C){return In.create("missing-app-config-values",{valueName:C})}ps("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ps("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Am{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Tm(C){if(!C||!C.options)throw za("App Configuration Object");if(!C.name)throw za("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of T)if(!x[L])throw za(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ic(C){return ql.apply(this,arguments)}function ql(){return(ql=(0,N.Z)(function*(C){var T;try{C.swRegistration=yield navigator.serviceWorker.register(Bi,{scope:us}),C.swRegistration.update().catch(()=>{})}catch(x){throw In.create("failed-service-worker-registration",{browserErrorMessage:null===(T=x)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function qa(C,T){return sc.apply(this,arguments)}function sc(){return(sc=(0,N.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield ic(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Wa(C,T){return oc.apply(this,arguments)}function oc(){return(oc=(0,N.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=cs)})).apply(this,arguments)}function Kl(){return(Kl=(0,N.Z)(function*(C,T){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield Wa(C,T?.vapidKey),yield qa(C,T?.serviceWorkerRegistration),$l(C)})).apply(this,arguments)}function ac(C,T,x){return lc.apply(this,arguments)}function lc(){return(lc=(0,N.Z)(function*(C,T,x){const L=uc(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[Ua],message_name:x[Nl],message_time:x[Ju],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uc(C){switch(C){case ds.NOTIFICATION_CLICKED:return"notification_open";case ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vo(){return(vo=(0,N.Z)(function*(C,T){const x=T.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===ds.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ga(x)):C.onMessageHandler.next(Ga(x)));const L=x.data;_o(L)&&"1"===L[_f]&&(yield ac(C,x.messageType,L))})).apply(this,arguments)}const bo="@firebase/messaging",Xn=C=>{const T=new Am(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Ad(C,T){return vo.apply(this,arguments)}(T,x)),T},Jr=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function Wl(C,T){return Kl.apply(this,arguments)}(T,L)}};function Sd(){return cc.apply(this,arguments)}function cc(){return(cc=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _n(){(0,ue._registerComponent)(new fe.wA("messaging",Xn,"PUBLIC")),(0,ue._registerComponent)(new fe.wA("messaging-internal",Jr,"PRIVATE")),(0,ue.registerVersion)(bo,"0.9.16"),(0,ue.registerVersion)(bo,"0.9.16","esm2017")}();const Qo="analytics",kd="firebase_id",wo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ql="https://www.googletagmanager.com/gtag/js",kn=new ie.Yd("@firebase/analytics");function Jl(C){return Promise.all(C.map(T=>T.catch(x=>x)))}function Xl(C,T){const x=document.createElement("script");x.src=`${Ql}?l=${C}&id=${T}`,x.async=!0,document.head.appendChild(x)}function Cf(C,T,x,L,J,se){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,N.Z)(function*(C,T,x,L,J,se){const Ie=L[J];try{if(Ie)yield T[Ie];else{const nt=(yield Jl(x)).find(bt=>bt.measurementId===J);nt&&(yield T[nt.appId])}}catch(Re){kn.error(Re)}C("config",J,se)})).apply(this,arguments)}function Jo(C,T,x,L,J){return Io.apply(this,arguments)}function Io(){return(Io=(0,N.Z)(function*(C,T,x,L,J){try{let se=[];if(J&&J.send_to){let Ie=J.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Re=yield Jl(x);for(const nt of Ie){const bt=Re.find(ct=>ct.measurementId===nt),At=bt&&T[bt.appId];if(!At){se=[];break}se.push(At)}}0===se.length&&(se=Object.values(T)),yield Promise.all(se),C("event",L,J||{})}catch(se){kn.error(se)}})).apply(this,arguments)}function Nd(){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(Ql))return T;return null}const dr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qa=new class Hi{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Pd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ja(C){return fc.apply(this,arguments)}function fc(){return(fc=(0,N.Z)(function*(C){var T;const{appId:x,apiKey:L}=C,J={method:"GET",headers:Pd(L)},se=wo.replace("{app-id}",x),Ie=yield fetch(se,J);if(200!==Ie.status&&304!==Ie.status){let Re="";try{const nt=yield Ie.json();null!==(T=nt.error)&&void 0!==T&&T.message&&(Re=nt.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Re})}return Ie.json()})).apply(this,arguments)}function Fn(C){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,N.Z)(function*(C,T=Qa,x){const{appId:L,apiKey:J,measurementId:se}=C.options;if(!L)throw dr.create("no-app-id");if(!J){if(se)return{measurementId:se,appId:L};throw dr.create("no-api-key")}const Ie=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new ru;return setTimeout((0,N.Z)(function*(){Re.abort()}),void 0!==x?x:6e4),tu({appId:L,apiKey:J,measurementId:se},Ie,Re,T)})).apply(this,arguments)}function tu(C,T,x){return Co.apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:x},L,J=Qa){var se,Ie;const{appId:Re,measurementId:nt}=C;try{yield Xa(L,T)}catch(bt){if(nt)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${null===(se=bt)||void 0===se?void 0:se.message}]`),{appId:Re,measurementId:nt};throw bt}try{const bt=yield Ja(C);return J.deleteThrottleMetadata(Re),bt}catch(bt){const At=bt;if(!nu(At)){if(J.deleteThrottleMetadata(Re),nt)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:Re,measurementId:nt};throw bt}const ct=503===Number(null===(Ie=At?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,oe.$s)(x,J.intervalMillis,30):(0,oe.$s)(x,J.intervalMillis),En={throttleEndTimeMillis:Date.now()+ct,backoffCount:x+1};return J.setThrottleMetadata(Re,En),kn.debug(`Calling attemptFetch again in ${ct} millis`),tu(C,En,L,J)}})).apply(this,arguments)}function Xa(C,T){return new Promise((x,L)=>{const J=Math.max(T-Date.now(),0),se=setTimeout(x,J);C.addEventListener(()=>{clearTimeout(se),L(dr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function nu(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class ru{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Hs,tl;function js(){return(js=(0,N.Z)(function*(C,T,x,L,J){if(J&&J.global)C("event",x,L);else{const se=yield T;C("event",x,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function To(C){tl=C}function mc(C){Hs=C}function gs(){return ou.apply(this,arguments)}function ou(){return(ou=(0,N.Z)(function*(){var C;if(!(0,oe.hl)())return kn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return kn.warn(dr.create("indexeddb-unavailable",{errorInfo:null===(C=T)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(C,T,x,L,J,se,Ie){var Re;const nt=Fn(C);nt.then(Er=>{x[Er.measurementId]=Er.appId,C.options.measurementId&&Er.measurementId!==C.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Er.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Er=>kn.error(Er)),T.push(nt);const bt=gs().then(Er=>{if(Er)return L.getId()}),[At,ct]=yield Promise.all([nt,bt]);Nd()||Xl(se,At.measurementId),tl&&(J("consent","default",tl),To(void 0)),J("js",new Date);const En=null!==(Re=Ie?.config)&&void 0!==Re?Re:{};return En.origin="firebase",En.update=!0,null!=ct&&(En[kd]=ct),J("config",At.measurementId,En),Hs&&(J("set",Hs),mc(void 0)),At.measurementId})).apply(this,arguments)}class au{constructor(T){this.app=T}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},$s=[];const na={};let Ao,Gs,ra="dataLayer",nl=!1;function Jy(C,T,x){!function Sm(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,J)=>`(${J+1}) ${L}`).join(" "),x=dr.create("invalid-analytics-context",{errorInfo:T});kn.warn(x.message)}}();const L=C.options.appId;if(!L)throw dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw dr.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[L])throw dr.create("already-exists",{id:L});if(!nl){!function Rd(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(ra);const{wrappedGtag:se,gtagCore:Ie}=function Ka(C,T,x,L,J){let se=function(...Ie){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(se=window[J]),window[J]=function eu(C,T,x,L){function se(){return(se=(0,N.Z)(function*(Ie,Re,nt){try{"event"===Ie?yield Jo(C,T,x,Re,nt):"config"===Ie?yield Cf(C,T,x,L,Re,nt):"consent"===Ie?C("consent","update",nt):C("set",Re)}catch(bt){kn.error(bt)}})).apply(this,arguments)}return function J(Ie,Re,nt){return se.apply(this,arguments)}}(se,C,T,x),{gtagCore:se,wrappedGtag:window[J]}}(Xr,$s,na,ra,"gtag");Gs=se,Ao=Ie,nl=!0}return Xr[L]=function ea(C,T,x,L,J,se,Ie){return ta.apply(this,arguments)}(C,$s,na,T,Ao,ra,x),new au(C)}function e_(){return Df.apply(this,arguments)}function Df(){return(Df=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function hn(){(0,ue._registerComponent)(new fe.wA(Qo,(T,{options:x})=>Jy(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue._registerComponent)(new fe.wA("analytics-internal",function C(T){try{const x=T.getProvider(Qo).getImmediate();return{logEvent:(L,J,se)=>function on(C,T,x,L){C=(0,oe.m9)(C),function Fd(C,T,x,L,J){return js.apply(this,arguments)}(Gs,Xr[C.app.options.appId],T,x,L).catch(J=>kn.error(J))}(x,L,J,se)}}catch(x){throw dr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.registerVersion)(Xe,"0.8.0"),(0,ue.registerVersion)(Xe,"0.8.0","esm2017")}();var Si=P(4408),er=P(7565);const uu=new class zs extends er.v{}(class rl extends Si.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):(T.flush(this),0)}});var gc=P(4986),il=P(8505),ia=P(9468),qs=P(5363);const ze=new u.GfV("7.4.1"),sl="__angularfire_symbol__analyticsIsSupportedValue",Ws="__angularfire_symbol__analyticsIsSupported",sa="__angularfire_symbol__remoteConfigIsSupportedValue",oa="__angularfire_symbol__remoteConfigIsSupported",Ln="__angularfire_symbol__messagingIsSupportedValue",yc="__angularfire_symbol__messagingIsSupported";function ol(C,T,x){if(T){if(1===T.length)return T[0];const se=T.filter(Ie=>Ie.app===x);if(1===se.length)return se[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ws]||(globalThis[Ws]=e_().then(C=>globalThis[sl]=C).catch(()=>globalThis[sl]=!1)),globalThis[yc]||(globalThis[yc]=Sd().then(C=>globalThis[Ln]=C).catch(()=>globalThis[Ln]=!1)),globalThis[oa]||(globalThis[oa]=Rl().then(C=>globalThis[sa]=C).catch(()=>globalThis[sa]=!1));const ys=(C,T)=>{const x=T?[T]:(0,ne.C6)(),L=[];return x.forEach(J=>{J.container.getProvider(C).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function ji(){}class Mi{constructor(T,x=uu){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const J=this.zone;return this.delegate.schedule(function(Ie){J.runGuarded(()=>{T.apply(this,[Ie])})},x,L)}}class du{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ji,{},ji,ji)),x.pipe((0,il.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ei=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Mi(Zone.current)),this.insideAngular=x.run(()=>new Mi(Zone.current,gc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Pr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function _s(C){return Pr(),function zn(C){return function(x){return(x=x.lift(new du(C.ngZone))).pipe((0,ia.R)(C.outsideAngular),(0,qs.Q)(C.insideAngular))}}(Pr())(C)}},2090:(at,Te,P)=>{P.d(Te,{$s:()=>as,BH:()=>Be,G6:()=>je,L:()=>he,LL:()=>Pe,Sg:()=>xe,UG:()=>_e,US:()=>fe,ZB:()=>$,ZR:()=>re,b$:()=>st,eu:()=>ye,hl:()=>H,jU:()=>me,m9:()=>zt,ne:()=>Go,pd:()=>Zr,r3:()=>xr,ru:()=>Qe,tV:()=>pe,uI:()=>tt,vZ:()=>Wr,w1:()=>be,xO:()=>Rs,xb:()=>tn,z$:()=>we,zI:()=>Y,zd:()=>Fi});const ue=function(K){const G=[];let B=0;for(let z=0;z<K.length;z++){let W=K.charCodeAt(z);W<128?G[B++]=W:W<2048?(G[B++]=W>>6|192,G[B++]=63&W|128):55296==(64512&W)&&z+1<K.length&&56320==(64512&K.charCodeAt(z+1))?(W=65536+((1023&W)<<10)+(1023&K.charCodeAt(++z)),G[B++]=W>>18|240,G[B++]=W>>12&63|128,G[B++]=W>>6&63|128,G[B++]=63&W|128):(G[B++]=W>>12|224,G[B++]=W>>6&63|128,G[B++]=63&W|128)}return G},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,G){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let W=0;W<K.length;W+=3){const De=K[W],Ue=W+1<K.length,ot=Ue?K[W+1]:0,fn=W+2<K.length,Yt=fn?K[W+2]:0;let Ot=(15&ot)<<2|Yt>>6,bn=63&Yt;fn||(bn=64,Ue||(Ot=64)),z.push(B[De>>2],B[(3&De)<<4|ot>>4],B[Ot],B[bn])}return z.join("")},encodeString(K,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(K):this.encodeByteArray(ue(K),G)},decodeString(K,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(K):function(K){const G=[];let B=0,z=0;for(;B<K.length;){const W=K[B++];if(W<128)G[z++]=String.fromCharCode(W);else if(W>191&&W<224){const De=K[B++];G[z++]=String.fromCharCode((31&W)<<6|63&De)}else if(W>239&&W<365){const fn=((7&W)<<18|(63&K[B++])<<12|(63&K[B++])<<6|63&K[B++])-65536;G[z++]=String.fromCharCode(55296+(fn>>10)),G[z++]=String.fromCharCode(56320+(1023&fn))}else{const De=K[B++],Ue=K[B++];G[z++]=String.fromCharCode((15&W)<<12|(63&De)<<6|63&Ue)}}return G.join("")}(this.decodeStringToByteArray(K,G))},decodeStringToByteArray(K,G){this.init_();const B=G?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let W=0;W<K.length;){const De=B[K.charAt(W++)],ot=W<K.length?B[K.charAt(W)]:0;++W;const Yt=W<K.length?B[K.charAt(W)]:64;++W;const Bt=W<K.length?B[K.charAt(W)]:64;if(++W,null==De||null==ot||null==Yt||null==Bt)throw Error();z.push(De<<2|ot>>4),64!==Yt&&(z.push(ot<<4&240|Yt>>2),64!==Bt&&z.push(Yt<<6&192|Bt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},he=function(K){return function(K){const G=ue(K);return fe.encodeByteArray(G,!0)}(K).replace(/\./g,"")},pe=function(K){try{return fe.decodeString(K,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function $(K,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return G}for(const B in G)!G.hasOwnProperty(B)||!Q(B)||(K[B]=$(K[B],G[B]));return K}function Q(K){return"__proto__"!==K}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,B)=>{this.resolve=G,this.reject=B})}wrapCallback(G){return(B,z)=>{B?this.reject(B):this.resolve(z),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(B):G(B,z))}}}function xe(K,G){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=G||"demo-project",W=K.iat||0,De=K.sub||K.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:W,exp:W+3600,auth_time:W,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},K);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ue)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function me(){return"object"==typeof self&&self.self===self}function Qe(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){const K=we();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function je(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){return"object"==typeof indexedDB}function ye(){return new Promise((K,G)=>{try{let B=!0;const z="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(z);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(z),K(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var De;G((null===(De=W.error)||void 0===De?void 0:De.message)||"")}}catch(B){G(B)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class re extends Error{constructor(G,B,z){super(B),this.code=G,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(G,B,z){this.service=G,this.serviceName=B,this.errors=z}create(G,...B){const z=B[0]||{},W=`${this.service}/${G}`,De=this.errors[G],Ue=De?function Oe(K,G){return K.replace(pt,(B,z)=>{const W=G[z];return null!=W?String(W):`<${z}?>`})}(De,z):"Error";return new re(W,`${this.serviceName}: ${Ue} (${W}).`,z)}}const pt=/\{\$([^}]+)}/g;function xr(K,G){return Object.prototype.hasOwnProperty.call(K,G)}function tn(K){for(const G in K)if(Object.prototype.hasOwnProperty.call(K,G))return!1;return!0}function Wr(K,G){if(K===G)return!0;const B=Object.keys(K),z=Object.keys(G);for(const W of B){if(!z.includes(W))return!1;const De=K[W],Ue=G[W];if(Tr(De)&&Tr(Ue)){if(!Wr(De,Ue))return!1}else if(De!==Ue)return!1}for(const W of z)if(!B.includes(W))return!1;return!0}function Tr(K){return null!==K&&"object"==typeof K}function Rs(K){const G=[];for(const[B,z]of Object.entries(K))Array.isArray(z)?z.forEach(W=>{G.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):G.push(encodeURIComponent(B)+"="+encodeURIComponent(z));return G.length?"&"+G.join("&"):""}function Fi(K){const G={};return K.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[W,De]=z.split("=");G[decodeURIComponent(W)]=decodeURIComponent(De)}}),G}function Zr(K){const G=K.indexOf("?");if(!G)return"";const B=K.indexOf("#",G);return K.substring(G,B>0?B:void 0)}function Go(K,G){const B=new Ze(K,G);return B.subscribe.bind(B)}class Ze{constructor(G,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{G(this)}).catch(z=>{this.error(z)})}next(G){this.forEachObserver(B=>{B.next(G)})}error(G){this.forEachObserver(B=>{B.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,B,z){let W;if(void 0===G&&void 0===B&&void 0===z)throw new Error("Missing Observer.");W=function os(K,G){if("object"!=typeof K||null===K)return!1;for(const B of G)if(B in K&&"function"==typeof K[B])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:B,complete:z},void 0===W.next&&(W.next=On),void 0===W.error&&(W.error=On),void 0===W.complete&&(W.complete=On);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),De}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,G)}sendOne(G,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{B(this.observers[G])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function as(K,G=1e3,B=2){const z=G*Math.pow(B,K),W=Math.round(.5*z*(Math.random()-.5)*2);return Math.min(144e5,z+W)}function zt(K){return K&&K._delegate?K._delegate:K}},211:(at,Te,P)=>{var u=P(4650);let ne=null;function N(){return ne}const ie=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function pe(){return(0,u.LFG)($)}()},providedIn:"platform"}),n})();const j=new u.OlP("Location Initialized");let $=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Be(){return new $((0,u.LFG)(ie))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Qe)},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let Qe=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+tt(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+tt(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+tt(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+tt(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(He(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tt,n.joinWithSlash=xe,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return new Me((0,u.LFG)(_e))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}function La(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let nn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Va{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fo=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Va(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),Fs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Fs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Fs(n,e){n.context.$implicit=e.item}let An=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ur("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ur("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qu{constructor(){this.$implicit=null,this.ngIf=null}}function ur(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Nr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ba=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),qo=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Nr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ba,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class wd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class wm{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ls=new wm,Em=new wd;let Yu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return ls;if((0,u.F4k)(t))return Em;throw function Jn(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const ds="browser";function Ol(n){return n===ds}function cr(n){return"server"===n}let Pl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new wf((0,u.LFG)(ie),window)}),n})();class wf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Or(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ai(this.window.history)||ai(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ai(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class go{}class vo extends class Ad extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){ne||(ne=n)}(new vo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zl(){return bo=bo||document.querySelector("base"),bo?bo.getAttribute("href"):null}();return null==t?null:function Jr(n){Xn=Xn||document.createElement("a"),Xn.setAttribute("href",n);const e=Xn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return La(document.cookie,e)}}let Xn,bo=null;const _n=new u.OlP("TRANSITION_ID"),cc=[{provide:u.ip1,useFactory:function Sd(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[_n,ie,u.zs3],multi:!0}];let dc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl=new u.OlP("EventManagerPlugins");let Md=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Yo=(()=>{class n extends Zo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(xd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function xd(n){N().remove(n)}const Qo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kd=/%COMP%/g;function Xl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xl(n,i,t):(i=i.replace(kd,n),t.push(i))}return t}function Rd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Eo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Jo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Nd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Od(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Md),u.LFG(Yo),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ka(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ka(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Qo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rd(r)):this.eventManager.addEventListener(e,t,Rd(r))}}function Ka(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nd extends Jo{constructor(e,t,r,i){super(e),this.component=r;const a=Xl(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function kn(n){return"_ngcontent-%COMP%".replace(kd,n)}(i+"-"+r.id),this.hostAttr=function Jl(n){return"_nghost-%COMP%".replace(kd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Od extends Jo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Xl(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dr=(()=>{class n extends hc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=["alt","control","meta","shift"],Ya={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qa=(()=>{class n extends hc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),Za.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),d+=w+".")}),d+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=Ya[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Za.forEach(d=>{d!==i&&(0,Hi[d])(t)&&(a+=d+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ru=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:ds},{provide:u.g9A,useValue:function tu(){vo.makeCurrent()},multi:!0},{provide:ie,useFactory:function Xa(){return(0,u.RDi)(document),document},deps:[]}]),Hs=new u.OlP(""),Fd=[{provide:u.rWj,useClass:class If{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(y){d=d||y,a--,0==a&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],js=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Co(){return new u.qLn},deps:[]},{provide:Yl,useClass:dr,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:Yl,useClass:Qa,multi:!0,deps:[ie]},{provide:Eo,useClass:Eo,deps:[Md,Yo,u.AFp]},{provide:u.FYo,useExisting:Eo},{provide:Zo,useExisting:Yo},{provide:Yo,useClass:Yo,deps:[ie]},{provide:Md,useClass:Md,deps:[Yl,u.R0b]},{provide:go,useClass:dc,deps:[]},[]];let iu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:_n,useExisting:u.AFp},cc]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hs,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...js,...Fd],imports:[mo,u.hGG]}),n})(),ms=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Xo(){return new ms((0,u.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ao=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(()=>{const e=(0,u.f3M)(ie),t=(0,u.f3M)(u.AFp),r=new n;return r.store=function Gs(n,e){const t=n.getElementById(e+"-state");let r={};if(t&&t.textContent)try{r=JSON.parse(function ra(n){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return n.replace(/&[^;]+;/g,t=>e[t])}(t.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return r}(e,t),r})()},providedIn:"root"}),n})(),So=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(km),r},providedIn:"root"}),n})(),km=(()=>{class n extends So{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xm(n){return new km(n.get(ie))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var on=P(8996),Ai=P(7669);function Xe(...n){const e=(0,Ai.yG)(n);return(0,on.D)(n,e)}var an=P(7579);class hn extends an.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const rl=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var er=P(9751);const{isArray:zs}=Array,{getPrototypeOf:uu,prototype:Rm,keys:gc}=Object;function il(n){if(1===n.length){const e=n[0];if(zs(e))return{args:e,keys:null};if(function ia(n){return n&&"object"==typeof n&&uu(n)===Rm}(e)){const t=gc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var qs=P(4671),ze=P(4004);const{isArray:sl}=Array;function sa(n){return(0,ze.U)(e=>function Ws(n,e){return sl(e)?n(...e):n(e)}(n,e))}function oa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ln=P(5403),yc=P(9672);function Ks(...n){const e=(0,Ai.yG)(n),t=(0,Ai.jO)(n),{args:r,keys:i}=il(n);if(0===r.length)return(0,on.D)([],e);const a=new er.y(function Nm(n,e,t=qs.y){return r=>{_c(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)_c(e,()=>{const w=(0,on.D)(n[y],e);let D=!1;w.subscribe((0,Ln.x)(r,M=>{a[y]=M,D||(D=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>oa(i,d):qs.y));return t?a.pipe(sa(t)):a}function _c(n,e,t){n?(0,yc.f)(t,n,e):e()}var cu=P(8189);function ys(...n){return function ol(){return(0,cu.J)(1)}()((0,on.D)(n,(0,Ai.yG)(n)))}var ji=P(8421);function Mi(n){return new er.y(e=>{(0,ji.Xf)(n()).subscribe(e)})}var du=P(9635),ei=P(576);function Pr(n,e){const t=(0,ei.m)(n)?n:()=>n,r=i=>i.error(t());return new er.y(e?i=>e.schedule(r,0,i):r)}var $i=P(515),ui=P(727),fr=P(4482);function Zs(){return(0,fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ln.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _s extends er.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ui.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ln.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ui.w0.EMPTY)}return e}refCount(){return Zs()(this)}}function zn(n,e){return(0,fr.e)((t,r)=>{let i=null,a=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,Ln.x)(r,y=>{i?.unsubscribe();let w=0;const D=a++;(0,ji.Xf)(n(y,D)).subscribe(i=(0,Ln.x)(r,M=>r.next(e?e(y,M,D,w++):M),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function ln(n){return n<=0?()=>$i.E:(0,fr.e)((e,t)=>{let r=0;e.subscribe((0,Ln.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xi(...n){const e=(0,Ai.yG)(n);return(0,fr.e)((t,r)=>{(e?ys(n,t,e):ys(n,t)).subscribe(r)})}function C(n,e){return(0,fr.e)((t,r)=>{let i=0;t.subscribe((0,Ln.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var T=P(5577);function x(n){return(0,fr.e)((e,t)=>{let r=!1;e.subscribe((0,Ln.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function L(n=J){return(0,fr.e)((e,t)=>{let r=!1;e.subscribe((0,Ln.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function J(){return new rl}function se(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,a)=>n(i,a,r)):qs.y,ln(1),t?x(e):L(()=>new rl))}function Ie(n,e){return(0,ei.m)(e)?(0,T.z)(n,e,1):(0,T.z)(n,1)}var Re=P(8505);function nt(n){return(0,fr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Ln.x)(t,void 0,void 0,d=>{a=(0,ji.Xf)(n(d,nt(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function bt(n,e,t,r,i){return(a,d)=>{let f=t,y=e,w=0;a.subscribe((0,Ln.x)(d,D=>{const M=w++;y=f?n(y,D,M):(f=!0,D),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function At(n,e){return(0,fr.e)(bt(n,e,arguments.length>=2,!0))}function ct(n){return n<=0?()=>$i.E:(0,fr.e)((e,t)=>{let r=[];e.subscribe((0,Ln.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function En(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,a)=>n(i,a,r)):qs.y,ct(1),t?x(e):L(()=>new rl))}function vs(n){return(0,fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const St="primary",Gi=Symbol("RouteTitle");class Ys{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ci(n){return new Ys(n)}function la(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ki(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Tf(n[i],e[i]))return!1;return!0}function Tf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Om(n){return Array.prototype.concat.apply([],n)}function Pm(n){return n.length>0?n[n.length-1]:null}function tr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zi(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,on.D)(Promise.resolve(n)):Xe(n)}const O0={exact:function Lm(n,e,t){if(!ko(n.segments,e.segments)||!xo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Lm(n.children[r],e.children[r],t))return!1;return!0},subset:al},Sf={exact:function Mf(n,e){return ki(n,e)},subset:function Vm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Tf(n[t],e[t]))},ignored:()=>!0};function n_(n,e,t){return O0[t.paths](n.root,e.root,t.matrixParams)&&Sf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function al(n,e,t){return Vd(n,e,e.segments,t)}function Vd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ko(i,t)||e.hasChildren()||!xo(i,t,r))}if(n.segments.length===t.length){if(!ko(n.segments,t)||!xo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!al(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(ko(n.segments,i)&&xo(n.segments,i,r)&&n.children[St])&&Vd(n.children[St],e,a,r)}}function xo(n,e,t){return e.every((r,i)=>Sf[t](n[i].parameters,r.parameters))}class ll{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ci(this.queryParams)),this._queryParamMap}toString(){return Ro.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,tr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}}class Bd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ci(this.parameters)),this._parameterMap}toString(){return Rf(this)}}function ko(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let xf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Ud},providedIn:"root"}),n})();class Ud{parse(e){const t=new u_(e);return new ll(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ul(e.root,!0)}`,r=function s_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bc(t)}=${bc(i)}`).join("&"):`${bc(t)}=${bc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function r_(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ro=new Ud;function Hd(n){return n.segments.map(e=>Rf(e)).join("/")}function ul(n,e){if(!n.hasChildren())return Hd(n);if(e){const t=n.children[St]?ul(n.children[St],!1):"",r=[];return tr(n.children,(i,a)=>{a!==St&&r.push(`${a}:${ul(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Bm(n,e){let t=[];return tr(n.children,(r,i)=>{i===St&&(t=t.concat(e(r,i)))}),tr(n.children,(r,i)=>{i!==St&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===St?[ul(n.children[St],!1)]:[`${i}:${ul(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Hd(n)}/${t[0]}`:`${Hd(n)}/(${t.join("//")})`}}function Um(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bc(n){return Um(n).replace(/%3B/gi,";")}function Ri(n){return Um(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function No(n){return decodeURIComponent(n)}function kf(n){return No(n.replace(/\+/g,"%20"))}function Rf(n){return`${Ri(n.path)}${function i_(n){return Object.keys(n).map(e=>`;${Ri(e)}=${Ri(n[e])}`).join("")}(n.parameters)}`}const o_=/^[^\/()?;=#]+/;function Nf(n){const e=n.match(o_);return e?e[0]:""}const ua=/^[^=?&#]+/,l_=/^[^&#]+/;class u_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new Ht(e,t)),r}parseSegment(){const e=Nf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Bd(No(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Nf(this.remaining);i&&(r=i,this.capture(r))}e[No(t)]=No(r)}parseQueryParam(e){const t=function a_(n){const e=n.match(ua);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Of(n){const e=n.match(l_);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=kf(t),a=kf(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=St);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[St]:new Ht([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function ca(n){return n.segments.length>0?new Ht([],{[St]:n}):n}function qi(n){const e={};for(const r of Object.keys(n.children)){const a=qi(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function wc(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}function Qs(n){return n instanceof ll}function F0(n,e,t,r,i){if(0===t.length)return Ec(e.root,e.root,e.root,r,i);const a=function $m(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ic(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return tr(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Ic(t,e,r)}(t);return a.toRoot()?Ec(e.root,e.root,new Ht([],{}),r,i):function d(y){const w=function Ff(n,e,t,r){if(n.isAbsolute)return new hu(e.root,!0,0);if(-1===r)return new hu(t,t===e.root,0);return function Lf(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new hu(r,!1,i-a)}(t,r+(cl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),D=w.processChildren?fl(w.segmentGroup,w.index,a.commands):hl(w.segmentGroup,w.index,a.commands);return Ec(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function cl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dl(n){return"object"==typeof n&&null!=n&&n.outlets}function Ec(n,e,t,r,i){let d,a={};r&&tr(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),d=n===e?t:jm(n,e,t);const f=ca(qi(d));return new ll(f,a,i)}function jm(n,e,t){const r={};return tr(n.children,(i,a)=>{r[a]=i===e?t:jm(i,e,t)}),new Ht(n.segments,r)}class Ic{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cl(r[0]))throw new u.vHH(4003,!1);const i=r.find(dl);if(i&&i!==Pm(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hl(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return fl(n,e,t);const r=function d_(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(dl(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Gd(y,w,d))return a;r+=2}else{if(!Gd(y,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Ht(n.segments.slice(0,r.pathIndex),{});return a.children[St]=new Ht(n.segments.slice(r.pathIndex),n.children),fl(a,0,i)}return r.match&&0===i.length?new Ht(n.segments,{}):r.match&&!n.hasChildren()?Rn(n,e,t):r.match?fl(n,0,i):Rn(n,e,t)}function fl(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const r=function $d(n){return dl(n[0])?n[0].outlets:{[St]:n}}(t),i={};return tr(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=hl(n.children[d],e,a))}),tr(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new Ht(n.segments,i)}}function Rn(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(dl(a)){const y=Gm(a.outlets);return new Ht(r,y)}if(0===i&&cl(t[0])){r.push(new Bd(n.segments[e].path,zm(t[0]))),i++;continue}const d=dl(a)?a.outlets[St]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&cl(f)?(r.push(new Bd(d,zm(f))),i+=2):(r.push(new Bd(d,{})),i++)}return new Ht(r,{})}function Gm(n){const e={};return tr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Rn(new Ht([],{}),0,t))}),e}function zm(n){const e={};return tr(n,(t,r)=>e[r]=`${t}`),e}function Gd(n,e,t){return n==t.path&&ki(e,t.parameters)}class Js{constructor(e,t){this.id=e,this.url=t}}class Vf extends Js{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bs extends Js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zd extends Js{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bf extends Js{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h_ extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L0 extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V0 extends Js{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cc extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qd extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kd{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uf{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Dc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Dc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fu(e,this._root).map(t=>t.value)}}function Dc(n,e){if(n===e.value)return e;for(const t of e.children){const r=Dc(n,t);if(r)return r}return null}function fu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fu(n,t);if(r.length)return r.unshift(e),r}return[]}class Wi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ki(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jf extends Hf{constructor(e,t){super(e),this.snapshot=t,Ir(this,e)}toString(){return this.snapshot.toString()}}function Qd(n,e){const t=function ws(n,e){const d=new Xs([],{},{},"",{},St,e,null,n.root,-1,{});return new eh("",new Wi(d,[]))}(n,e),r=new hn([new Bd("",{})]),i=new hn({}),a=new hn({}),d=new hn({}),f=new hn(""),y=new da(r,i,d,f,a,St,e,t.root);return y.snapshot=t.root,new jf(new Wi(y,[]),t)}class da{constructor(e,t,r,i,a,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,ze.U)(w=>w[Gi]))??Xe(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(e=>ci(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(e=>ci(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Xd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xs{constructor(e,t,r,i,a,d,f,y,w,D,M,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.title=this.data?.[Gi],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=F??D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ci(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ci(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eh extends Hf{constructor(e,t){super(t),this.url=e,Ir(this,t)}toString(){return th(this._root)}}function Ir(n,e){e.value._routerState=n,e.children.forEach(t=>Ir(n,t))}function th(n){const e=n.children.length>0?` { ${n.children.map(th).join(", ")} } `:"";return`${n.value}${e}`}function Tc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ki(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ki(e.params,t.params)||n.params.next(t.params),function Mo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ki(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ki(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nh(n,e){const t=ki(n.params,e.params)&&function vc(n,e){return ko(n,e)&&n.every((t,r)=>ki(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nh(n.parent,e.parent))}function Oo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Wm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Oo(n,r,i);return Oo(n,r)})}(n,e,t);return new Wi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Oo(n,f)),d}}const r=function Km(n){return new da(new hn(n.url),new hn(n.params),new hn(n.queryParams),new hn(n.fragment),new hn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Oo(n,a));return new Wi(r,i)}}const $f="ngNavigationCancelingError";function pu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zm(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Zm(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$f]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Gf(n){return Ym(n)&&Qs(n.url)}function Ym(n){return n&&n[$f]}class Qm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _,this.attachRef=null}}let _=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Qm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p=!1;let g=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||St,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,p);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,p);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,p);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,p);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new b(t,f,i.injector);if(r&&function S(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class b{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===da?this.route:e===_?this.childContexts:this.parent.get(e,t)}}let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[g],encapsulation:2}),n})();function Z(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rh(n){const e=n.children&&n.children.map(rh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=R),t}function hi(n){return n.outlet||St}function Ac(n,e){const t=n.filter(r=>hi(r)===e);return t.push(...n.filter(r=>hi(r)!==e)),t}function Sc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ih{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Tc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ki(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),tr(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ki(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ki(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ki(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new qm(a.value.snapshot))}),e.children.length&&this.forwardEvent(new f_(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Tc(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Tc(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=Sc(i.snapshot),y=f?.get(u._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Xm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mc{constructor(e,t){this.component=e,this.route=t}}function p_(n,e,t){const r=n._root;return xc(r,e?e._root:null,t,[r.value])}function pl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function xc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ki(e);return n.children.forEach(d=>{(function U0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function m_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,e.url)||!ki(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nh(n,e)||!ki(n.queryParams,e.queryParams);default:return!nh(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Xm(r)):(a.data=d.data,a._resolvedData=d._resolvedData),xc(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Mc(f.outlet.component,d))}else d&&sh(e,f,i),i.canActivateChecks.push(new Xm(r)),xc(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),tr(a,(d,f)=>sh(d,t.getContext(f),i)),i}function sh(n,e,t){const r=Ki(n),i=n.value;tr(r,(a,d)=>{sh(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Mc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function oh(n){return"function"==typeof n}function eg(n){return n instanceof rl||"EmptyError"===n?.name}const tg=Symbol("INITIAL_VALUE");function ah(){return zn(n=>Ks(n.map(e=>e.pipe(ln(1),xi(tg)))).pipe((0,ze.U)(e=>{for(const t of e)if(!0!==t){if(t===tg)return tg;if(!1===t||t instanceof ll)return t}return!0}),C(e=>e!==tg),ln(1)))}function fi(n){return(0,du.z)((0,Re.b)(e=>{if(Qs(e))throw pu(0,e)}),(0,ze.U)(e=>!0===e))}const ng={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rg(n,e,t,r,i){const a=Lr(n,e,t);return a.matched?function v_(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Xe(i.map(d=>{const f=pl(d,n);return zi(function _D(n){return n&&oh(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(ah(),fi()):Xe(!0)}(r=Z(e,r),e,t).pipe((0,ze.U)(d=>!0===d?a:{...ng})):Xe(a)}function Lr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ng}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||la)(t,n,e);if(!i)return{...ng};const a={};tr(i.posParams,(f,y)=>{a[y]=f.path});const d=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function gu(n,e,t,r,i="corrected"){if(t.length>0&&function SD(n,e,t){return t.some(r=>ig(n,e,r)&&hi(r)!==St)}(n,t,r)){const d=new Ht(e,function AD(n,e,t,r){const i={};i[St]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&hi(a)!==St){const d=new Ht([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[hi(a)]=d}return i}(n,e,r,new Ht(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function G0(n,e,t){return t.some(r=>ig(n,e,r))}(n,t,r)){const d=new Ht(n.segments,function $0(n,e,t,r,i,a){const d={};for(const f of r)if(ig(n,t,f)&&!i[hi(f)]){const y=new Ht([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[hi(f)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new Ht(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function ig(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function b_(n,e,t,r){return!!(hi(n)===r||r!==St&&ig(e,t,n))&&("**"===n.path||Lr(e,n,t).matched)}function z0(n,e,t){return 0===e.length&&!n.children[t]}const qf=!1;class sg{constructor(e){this.segmentGroup=e||null}}class q0{constructor(e){this.urlTree=e}}function Wf(n){return Pr(new sg(n))}function W0(n){return Pr(new q0(n))}class xD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=gu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,St).pipe((0,ze.U)(a=>this.createUrlTree(qi(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nt(a=>{if(a instanceof q0)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof sg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,St).pipe((0,ze.U)(i=>this.createUrlTree(qi(i),e.queryParams,e.fragment))).pipe(nt(i=>{throw i instanceof sg?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,qf)}createUrlTree(e,t,r){const i=ca(e);return new ll(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ze.U)(a=>new Ht([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,on.D)(i).pipe(Ie(a=>{const d=r.children[a],f=Ac(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,ze.U)(y=>({segment:y,outlet:a})))}),At((a,d)=>(a[d.outlet]=d.segment,a),{}),En())}expandSegment(e,t,r,i,a,d){return(0,on.D)(r).pipe(Ie(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe(nt(w=>{if(w instanceof sg)return Xe(null);throw w}))),se(f=>!!f),nt((f,y)=>{if(eg(f))return z0(t,i,a)?Xe(new Ht([],{})):Wf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return b_(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):Wf(t):Wf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?W0(a):this.lineralizeSegments(r,a).pipe((0,T.z)(d=>{const f=new Ht(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=Lr(t,i,a);if(!f)return Wf(t);const M=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?W0(M):this.lineralizeSegments(i,M).pipe((0,T.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Z(r,e),r.loadChildren?(r._loadedRoutes?Xe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ze.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Ht(i,{})))):Xe(new Ht(i,{}))):rg(t,r,i,e).pipe(zn(({matched:d,consumedSegments:f,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,T.z)(D=>{const M=D.injector??e,F=D.routes,{segmentGroup:V,slicedSegments:U}=gu(t,f,y,F),te=new Ht(V.segments,V.children);if(0===U.length&&te.hasChildren())return this.expandChildren(M,F,te).pipe((0,ze.U)(mt=>new Ht(f,mt)));if(0===F.length&&0===U.length)return Xe(new Ht(f,{}));const ve=hi(r)===a;return this.expandSegment(M,te,F,U,ve?St:a,!0).pipe((0,ze.U)(Ye=>new Ht(f.concat(Ye.segments),Ye.children)))})):Wf(t)))}getChildConfig(e,t,r){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function TD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Xe(!0):Xe(i.map(d=>{const f=pl(d,n);return zi(function g_(n){return n&&oh(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(ah(),fi())}(e,t,r).pipe((0,T.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Re.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function lh(n){return Pr(Zm(qf,3))}())):Xe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Xe(r);if(i.numberOfChildren>1||!i.children[St])return Pr(new u.vHH(4e3,qf));i=i.children[St]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ll(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return tr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return tr(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new Ht(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,qf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class WM{}class ha{constructor(e,t,r,i,a,d,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=gu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,St).pipe((0,ze.U)(t=>{if(null===t)return null;const r=new Xs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Wi(r,t),a=new eh(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Jd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(Ie(i=>{const a=r.children[i],d=Ac(t,i);return this.processSegmentGroup(e,d,a,i)}),At((i,a)=>i&&a?(i.push(...a),i):null),function Er(n,e=!1){return(0,fr.e)((t,r)=>{let i=0;t.subscribe((0,Ln.x)(r,a=>{const d=n(a,i++);(d||e)&&r.next(a),!d&&r.complete()}))})}(i=>null!==i),x(null),En(),(0,ze.U)(i=>{if(null===i)return null;const a=C_(i);return function E_(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,on.D)(t).pipe(Ie(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,a)),se(d=>!!d),nt(d=>{if(eg(d))return z0(r,i,a)?Xe([]):Xe(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!b_(t,r,i,a))return Xe(null);let d;if("**"===t.path){const f=i.length>0?Pm(i).parameters:{},y=Z0(r)+i.length;d=Xe({snapshot:new Xs(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,og(t),hi(t),t.component??t._loadedComponent??null,t,uh(r),y,ag(t),y),consumedSegments:[],remainingSegments:[]})}else d=rg(r,t,i,e).pipe((0,ze.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!f)return null;const M=Z0(r)+y.length;return{snapshot:new Xs(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,og(t),hi(t),t.component??t._loadedComponent??null,t,uh(r),M,ag(t),M),consumedSegments:y,remainingSegments:w}}));return d.pipe(zn(f=>{if(null===f)return Xe(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const M=t._loadedInjector??e,F=function I_(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:U}=gu(r,w,D,F.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===U.length&&V.hasChildren())return this.processChildren(M,F,V).pipe((0,ze.U)(ve=>null===ve?null:[new Wi(y,ve)]));if(0===F.length&&0===U.length)return Xe([new Wi(y,[])]);const te=hi(t)===a;return this.processSegment(M,F,V,U,te?St:a).pipe((0,ze.U)(ve=>null===ve?null:[new Wi(y,ve)]))}))}}function RD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function C_(n){const e=[],t=new Set;for(const r of n){if(!RD(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=C_(r.children);e.push(new Wi(r.value,i))}return e.filter(r=>!t.has(r))}function uh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function og(n){return n.data||{}}function ag(n){return n.resolve||{}}function lg(n){return"string"==typeof n.title||null===n.title}function T_(n){return zn(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,ze.U)(()=>e)):Xe(e)})}let X0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===St);return r}getResolvedTitleForRoute(t){return t.data[Gi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ew)},providedIn:"root"}),n})(),ew=(()=>{class n extends X0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ms))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PD{}class tw extends class FD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Kf=new u.OlP("",{providedIn:"root",factory:()=>({})}),S_=new u.OlP("ROUTES");let M_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=zi(t.loadComponent()).pipe((0,Re.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),vs(()=>{this.componentLoaders.delete(t)})),i=new _s(r,()=>new an.x).pipe(Zs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ze.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,D=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=Om(y.get(S_,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(rh),injector:y}}),vs(()=>{this.childrenLoaders.delete(r)})),d=new _s(a,()=>new an.x).pipe(Zs());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return zi(t()).pipe((0,T.z)(r=>r instanceof u.YKP||Array.isArray(r)?Xe(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nw{}class rw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function iw(n){throw n}function sw(n,e,t){return e.parse("/")}const LD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ow(){const n=(0,u.f3M)(xf),e=(0,u.f3M)(_),t=(0,u.f3M)(Me),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),a=(0,u.f3M)(S_,{optional:!0})??[],d=(0,u.f3M)(Kf,{optional:!0})??{},f=(0,u.f3M)(ew),y=(0,u.f3M)(X0,{optional:!0}),w=(0,u.f3M)(nw,{optional:!0}),D=(0,u.f3M)(PD,{optional:!0}),M=new pr(null,n,e,t,r,i,Om(a));return w&&(M.urlHandlingStrategy=w),D&&(M.routeReuseStrategy=D),M.titleStrategy=y??f,function cg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,M),M}let pr=(()=>{class n{constructor(t,r,i,a,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new an.x,this.errorHandler=iw,this.malformedUriErrorHandler=sw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new rw,this.routeReuseStrategy=new tw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(M_),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Kd(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new Wd(F)),this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const M=d.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Fm(){return new ll(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qd(this.currentUrlTree,this.rootComponentType),this.transitions=new hn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(C(i=>0!==i.id),(0,ze.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zn(i=>{let a=!1,d=!1;return Xe(i).pipe((0,Re.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return x_(f.source)&&(this.browserUrlTree=f.extractedUrl),Xe(f).pipe(zn(M=>{const F=this.transitions.getValue();return r.next(new Vf(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?$i.E:Promise.resolve(M)}),function kD(n,e,t,r){return zn(i=>function ml(n,e,t,r,i){return new xD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ze.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Re.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function Q0(n,e,t,r,i,a){return(0,T.z)(d=>function KM(n,e,t,r,i,a,d="emptyOnly",f="legacy"){return new ha(n,e,t,r,i,d,f,a).recognize().pipe(zn(y=>null===y?function K0(n){return new er.y(e=>e.error(n))}(new WM):Xe(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,a).pipe((0,ze.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Re.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(V,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new h_(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:V,source:U,restoredState:te,extras:ve}=f,Le=new Vf(F,this.serializeUrl(V),U,te);r.next(Le);const Ye=Qd(V,this.rootComponentType).snapshot;return Xe(i={...f,targetSnapshot:Ye,urlAfterRedirects:V,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),$i.E}),(0,Re.b)(f=>{const y=new L0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,ze.U)(f=>i={...f,guards:p_(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function bD(n,e){return(0,T.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?Xe({...t,guardsResult:!0}):function wD(n,e,t,r){return(0,on.D)(n).pipe((0,T.z)(i=>function DD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Xe(a.map(f=>{const y=Sc(e)??i,w=pl(f,y);return zi(function zf(n){return n&&oh(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(se())})).pipe(ah()):Xe(!0)}(i.component,i.route,t,e,r)),se(i=>!0!==i,!0))}(d,r,i,n).pipe((0,T.z)(f=>f&&function H0(n){return"boolean"==typeof n}(f)?function __(n,e,t,r){return(0,on.D)(e).pipe(Ie(i=>ys(function ID(n,e){return null!==n&&e&&e(new Uf(n)),Xe(!0)}(i.route.parent,r),function ED(n,e){return null!==n&&e&&e(new Zd(n)),Xe(!0)}(i.route,r),function j0(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function B0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Mi(()=>Xe(d.guards.map(y=>{const w=Sc(d.node)??t,D=pl(y,w);return zi(function y_(n){return n&&oh(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(se())})).pipe(ah())));return Xe(a).pipe(ah())}(n,i.path,t),function CD(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const i=r.map(a=>Mi(()=>{const d=Sc(e)??t,f=pl(a,d);return zi(function yD(n){return n&&oh(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(se())}));return Xe(i).pipe(ah())}(n,i.route,t))),se(i=>!0!==i,!0))}(r,a,n,e):Xe(f)),(0,ze.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Re.b)(f=>{if(i.guardsResult=f.guardsResult,Qs(f.guardsResult))throw pu(0,f.guardsResult);const y=new V0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),C(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),T_(f=>{if(f.guards.canActivateChecks.length)return Xe(f).pipe((0,Re.b)(y=>{const w=new Cc(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),zn(y=>{let w=!1;return Xe(y).pipe(function ZM(n,e){return(0,T.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Xe(t);let a=0;return(0,on.D)(i).pipe(Ie(d=>function ch(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!lg(i)&&(a[Gi]=i.title),function D_(n,e,t,r){const i=function J0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Xe({});const a={};return(0,on.D)(i).pipe((0,T.z)(d=>function OD(n,e,t,r){const i=Sc(e)??r,a=pl(n,i);return zi(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[d],e,t,r).pipe(se(),(0,Re.b)(f=>{a[d]=f}))),ct(1),function aa(n){return(0,ze.U)(()=>n)}(a),nt(d=>eg(d)?$i.E:Pr(d)))}(a,n,e,r).pipe((0,ze.U)(d=>(n._resolvedData=d,n.data=Jd(n,t).resolve,i&&lg(i)&&(n.data[Gi]=i.title),null)))}(d.route,r,n,e)),(0,Re.b)(()=>a++),ct(1),(0,T.z)(d=>a===i.length?Xe(t):$i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Re.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Re.b)(y=>{const w=new qd(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),T_(f=>{const y=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Re.b)(M=>{w.component=M}),(0,ze.U)(()=>{})));for(const M of w.children)D.push(...y(M));return D};return Ks(y(f.targetSnapshot.root)).pipe(x(),ln(1))}),T_(()=>this.afterPreactivation()),(0,ze.U)(f=>{const y=function di(n,e,t){const r=Oo(n,e._root,t?t._root:void 0);return new jf(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Re.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ze.U)(r=>(new ih(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Re.b)({next(){a=!0},complete(){a=!0}}),vs(()=>{a||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),nt(f=>{if(d=!0,Ym(f)){Gf(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new zd(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),Gf(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x_(i.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Bf(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return $i.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(rh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:d;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),F0(w,this.currentUrlTree,t,M,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Qs(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function aw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...LD}:!1===r?{...QM}:r,Qs(t))return n_(this.currentUrlTree,t,i);const a=this.parseUrl(t);return n_(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){if(this.disposed)return Promise.resolve(!1);let f,y,w;d?(f=d.resolve,y=d.reject,w=d.promise):w=new Promise((F,V)=>{f=F,y=V});const D=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:D,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new zd(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return ow()},providedIn:"root"}),n})();function x_(n){return"imperative"!==n}let Yf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new an.x,this.subscription=t.events.subscribe(a=>{a instanceof bs&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,d){return!!(0!==t||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pr),u.Y36(da),u.Y36(_e))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class k_{}let R_=(()=>{class n{constructor(t,r,i,a,d){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(C(t=>t instanceof bs),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const d=a._injector??t,f=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,on.D)(i).pipe((0,cu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Xe(null);const a=i.pipe((0,T.z)(d=>null===d?Xe(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,on.D)([a,d]).pipe((0,cu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(k_),u.LFG(M_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kc=new u.OlP("");let uw=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Fr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Rc(n,e){return{\u0275kind:n,\u0275providers:e}}function Jf(n){return[{provide:S_,multi:!0,useValue:n}]}function UD(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(pr),i=n.get(N_);1===n.get(O_)&&r.initialNavigation(),n.get(eo,null,u.XFs.Optional)?.setUpPreloading(),n.get(kc,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const N_=new u.OlP("",{factory:()=>new an.x}),O_=new u.OlP("",{providedIn:"root",factory:()=>1});const eo=new u.OlP("");function $D(n){return Rc(0,[{provide:eo,useExisting:R_},{provide:k_,useExisting:n}])}const hw=new u.OlP("ROUTER_FORROOT_GUARD"),zD=[Me,{provide:xf,useClass:Ud},{provide:pr,useFactory:ow},_,{provide:da,useFactory:function cw(n){return n.routerState.root},deps:[pr]},M_];function fw(){return new u.PXZ("Router",pr)}let pw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zD,[],Jf(t),{provide:hw,useFactory:mw,deps:[[pr,new u.FiY,new u.tp0]]},{provide:Kf,useValue:r||{}},r?.useHash?{provide:_e,useClass:st}:{provide:_e,useClass:Qe},{provide:kc,useFactory:()=>{const n=(0,u.f3M)(pr),e=(0,u.f3M)(Pl),t=(0,u.f3M)(Kf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new uw(n,e,t)}},r?.preloadingStrategy?$D(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:fw},r?.initialNavigation?gw(r):[],[{provide:P_,useFactory:UD},{provide:u.tb,multi:!0,useExisting:P_}]]}}static forChild(t){return{ngModule:n,providers:[Jf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hw,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[R]}),n})();function mw(n){return"guarded"}function gw(n){return["disabled"===n.initialNavigation?Rc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(pr);return()=>{e.setUpLocationChangeListener()}}},{provide:O_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Rc(2,[{provide:O_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const d=e.get(pr),f=e.get(N_);(function i(a){e.get(pr).events.pipe(C(f=>f instanceof bs||f instanceof zd||f instanceof Bf),(0,ze.U)(f=>f instanceof bs||f instanceof zd&&(0===f.code||1===f.code)&&null),C(f=>null!==f),ln(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),d.afterPreactivation=()=>(a(!0),r||f.closed?Xe(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const P_=new u.OlP("");var F_=P(127);const yw=(0,ze.U)(n=>!!n);var Ew=P(4986),pi=P(5813);function Iw(){return(0,fr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ln.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function QD(n,e=qs.y){return n=n??JD,(0,fr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Ln.x)(r,d=>{const f=e(d);(a||!n(i,f))&&(a=!1,i=f,r.next(d))}))})}function JD(n,e){return n===e}var ht,to=P(2011),XD=(P(2476),P(3942)),ge=P(5861),Nc=P(9681),Xf=P(4859),Po=P(1877),rn=P(2090),Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gl={},L_=L_||{},Rt=Cw||self;function pg(){}function ep(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var mg="closure_uid_"+(1e9*Math.random()>>>0),V_=0;function rx(n,e,t){return n.call.apply(n.bind,arguments)}function B_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function mi(n,e,t){return(mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rx:B_).apply(null,arguments)}function U_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function rr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function yl(){this.s=this.s,this.o=this.o}var gg={};yl.prototype.s=!1,yl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Dw(n){return Object.prototype.hasOwnProperty.call(n,mg)&&n[mg]||(n[mg]=++V_)}(this);delete gg[n]}},yl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const no=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Aw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ep(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let d=0;d<a;d++)n[i+d]=r[d]}else n.push(r)}}function Vr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Vr.prototype.h=function(){this.defaultPrevented=!0};var _l=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",pg,e),Rt.removeEventListener("test",pg,e)}catch{}return n}();function hh(n){return/^[\s\xa0]*$/.test(n)}var H_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function np(n,e){return n<e?-1:n>e?1:0}function j_(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function Fo(n){return-1!=j_().indexOf(n)}function Sw(n){return Sw[" "](n),n}Sw[" "]=pg;var wg,n,vg=Fo("Opera"),yu=Fo("Trident")||Fo("MSIE"),bg=Fo("Edge"),rp=bg||yu,eT=Fo("Gecko")&&!(-1!=j_().toLowerCase().indexOf("webkit")&&!Fo("Edge"))&&!(Fo("Trident")||Fo("MSIE"))&&!Fo("Edge"),tT=-1!=j_().toLowerCase().indexOf("webkit")&&!Fo("Edge");function Mw(){var n=Rt.document;return n?n.documentMode:void 0}e:{var $_="",Eg=(n=j_(),eT?/rv:([^\);]+)(\)|;)/.exec(n):bg?/Edge\/([\d\.]+)/.exec(n):yu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tT?/WebKit\/(\S+)/.exec(n):vg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Eg&&($_=Eg?Eg[1]:""),yu){var xw=Mw();if(null!=xw&&xw>parseFloat($_)){wg=String(xw);break e}}wg=$_}var nT={};var rT=Rt.document&&yu&&(Mw()||parseInt(wg,10))||void 0;function Oc(n,e){if(Vr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eT){e:{try{Sw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Oc.X.h.call(this)}}rr(Oc,Vr);var sx={2:"touch",3:"pen",4:"mouse"};Oc.prototype.h=function(){Oc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cg="closure_listenable_"+(1e6*Math.random()|0),ox=0;function ax(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++ox,this.ba=this.ea=!1}function z_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function kw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function iT(n){const e={};for(const t in n)e[t]=n[t];return e}const sT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oT(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<sT.length;a++)t=sT[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function q_(n){this.src=n,this.g={},this.h=0}function pa(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=no(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(z_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ip(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}q_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=ip(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new ax(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var W_="closure_lm_"+(1e6*Math.random()|0),Dg={};function Tg(n,e,t,r,i){if(r&&r.once)return Rw(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Tg(n,e[a],t,r,i);return null}return t=Q_(t),n&&n[Cg]?n.N(e,t,tp(r)?!!r.capture:!!r,i):K_(n,e,t,!1,r,i)}function K_(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=tp(i)?!!i.capture:!!i,f=Sg(n);if(f||(n[W_]=f=new q_(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function Z_(){const e=aT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)_l||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Nw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Rw(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Rw(n,e[a],t,r,i);return null}return t=Q_(t),n&&n[Cg]?n.O(e,t,tp(r)?!!r.capture:!!r,i):K_(n,e,t,!0,r,i)}function vl(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)vl(n,e[a],t,r,i);else r=tp(r)?!!r.capture:!!r,t=Q_(t),n&&n[Cg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ip(a=n.g[e],t,r,i))&&(z_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Sg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ip(e,t,r,i)),(t=-1<n?e[n]:null)&&Ag(t))}function Ag(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Cg])pa(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Nw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Sg(e))?(pa(t,n),0==t.h&&(t.src=null,e[W_]=null)):z_(n)}}}function Nw(n){return n in Dg?Dg[n]:Dg[n]="on"+n}function aT(n,e){if(n.ba)n=!0;else{e=new Oc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Ag(n),n=t.call(r,e)}return n}function Sg(n){return(n=n[W_])instanceof q_?n:null}var Y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q_(n){return"function"==typeof n?n:(n[Y_]||(n[Y_]=function(e){return n.handleEvent(e)}),n[Y_])}function mr(){yl.call(this),this.i=new q_(this),this.P=this,this.I=null}function ir(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Vr(e,n);else if(e instanceof Vr)e.target=e.target||n;else{var i=e;oT(e=new Vr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=fh(d,r,!0,e)&&i}if(i=fh(d=e.g=n,r,!0,e)&&i,i=fh(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=fh(d=e.g=t[a],r,!1,e)&&i}function fh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&pa(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}rr(mr,yl),mr.prototype[Cg]=!0,mr.prototype.removeEventListener=function(n,e,t,r){vl(this,n,e,t,r)},mr.prototype.M=function(){if(mr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)z_(t[r]);delete n.g[e],n.h--}}this.I=null},mr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},mr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _u=Rt.JSON.stringify;function J_(){var n=lT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kg,X_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ow,n=>n.reset());class Ow{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ev(n){Rt.setTimeout(()=>{throw n},0)}function xg(n,e){kg||function tv(){var n=Rt.Promise.resolve(void 0);kg=function(){n.then(uT)}}(),nv||(kg(),nv=!0),lT.add(n,e)}var nv=!1,lT=new class Mg{constructor(){this.h=this.g=null}add(e,t){const r=X_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function uT(){for(var n;n=J_();){try{n.h.call(n.g)}catch(t){ev(t)}var e=X_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nv=!1}function sp(n,e){mr.call(this),this.h=n||1,this.g=e||Rt,this.j=mi(this.kb,this),this.l=Date.now()}function rv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Rg(n,e,t){if("function"==typeof n)t&&(n=mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function iv(n){n.g=Rg(()=>{n.g=null,n.i&&(n.i=!1,iv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}rr(sp,mr),(ht=sp.prototype).ca=!1,ht.R=null,ht.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ir(this,"tick"),this.ca&&(rv(this),this.start()))}},ht.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){sp.X.M.call(this),rv(this),delete this.g};class cT extends yl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iv(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(n){yl.call(this),this.h=n,this.g={}}rr(ti,yl);var sv=[];function Pw(n,e,t,r){Array.isArray(t)||(t&&(sv[0]=t.toString()),t=sv);for(var i=0;i<t.length;i++){var a=Tg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function dT(n){kw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ag(e)},n),n.g={}}function Ng(){this.g=!0}function ph(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return _u(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ti.prototype.M=function(){ti.X.M.call(this),dT(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ng.prototype.Aa=function(){this.g=!1},Ng.prototype.info=function(){};var vu={},Lw=null;function op(){return Lw=Lw||new mr}function Vw(n){Vr.call(this,vu.Oa,n)}function ap(n){const e=op();ir(e,new Vw(e,n))}function av(n,e){Vr.call(this,vu.STAT_EVENT,n),this.stat=e}function gi(n){const e=op();ir(e,new av(e,n))}function Bw(n,e){Vr.call(this,vu.Pa,n),this.size=e}function Yi(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}vu.Oa="serverreachability",rr(Vw,Vr),vu.STAT_EVENT="statevent",rr(av,Vr),vu.Pa="timingevent",rr(Bw,Vr);var mh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Uw={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lv(){}function uv(){}lv.prototype.h=null;var up,lp={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function cv(){Vr.call(this,"d")}function dv(){Vr.call(this,"c")}function Og(){}function cp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ti(this),this.O=hv,this.T=new sp(n=rp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new dp}function dp(){this.i=null,this.g="",this.h=!1}rr(cv,Vr),rr(dv,Vr),rr(Og,lv),Og.prototype.g=function(){return new XMLHttpRequest},Og.prototype.i=function(){return{}},up=new Og;var hv=45e3,gh={},fv={};function hp(n,e,t){n.K=1,n.v=Lg(bl(e)),n.s=t,n.P=!0,mT(n,null)}function mT(n,e){n.F=Date.now(),yh(n),n.A=bl(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Eu(t.i,"t",r),n.C=0,t=n.l.H,n.h=new dp,n.g=tE(n.l,t?e:null,!n.s),0<n.N&&(n.L=new cT(mi(n.Ka,n,n.g),n.N)),Pw(n.S,n.g,"readystatechange",n.hb),e=n.H?iT(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ap(1),function ov(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var D=w[0];w=w[1];var M=D.split("_");d=2<=M.length&&"type"==M[1]?d+(D+"=")+w+"&":d+(D+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function pv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function mv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Hw(n,t),i==fv){4==e&&(n.o=4,gi(14),r=!1),ph(n.j,n.m,null,"[Incomplete Response]");break}if(i==gh){n.o=4,gi(15),ph(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ph(n.j,n.m,i,null),Pc(n,i)}pv(n)&&i!=fv&&i!=gh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gg(e),e.K=!0,gi(11))):(ph(n.j,n.m,t,"[Invalid Chunked Response]"),ma(n),bu(n))}function Hw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fv:(t=Number(e.substring(t,r)),isNaN(t)?gh:(r+=1)+t>e.length?fv:(e=e.substr(r,t),n.C=r+t,e))}function yh(n){n.V=Date.now()+n.O,Pg(n,n.O)}function Pg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yi(mi(n.fb,n),e)}function ro(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function bu(n){0==n.l.G||n.I||eE(n.l,n)}function ma(n){ro(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rv(n.T),dT(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fc(t.h,n)))if(!n.J&&Fc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;wp(t),Bc(t)}$g(t),gi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yi(mi(t.bb,t),6e3));if(1>=Vo(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Du(t,11)}else if((n.J||t.g==n)&&wp(t),!hh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const M=w[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=r.h;a.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Br(a,a.h),a.h=null))}if(r.D){const te=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.za=te,Vn(r.F,r.D,te))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=kv(r,r.H?r.ka:null,r.V),d.J){Iu(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(ro(f),yh(f)),r.g=d}else jg(r);0<t.i.length&&Ug(t)}else"stop"!=w[0]&&"close"!=w[0]||Du(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Du(t,7):wh(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}ap(4)}catch{}}function yv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ep(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gv(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ep(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function gT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ep(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ht=cp.prototype).setTimeout=function(n){this.O=n},ht.hb=function(n){n=n.target;const e=this.L;e&&3==va(n)?e.l():this.Ka(n)},ht.Ka=function(n){try{if(n==this.g)e:{const D=va(this.g);var e=this.g.Ea();const M=this.g.aa();if(!(3>D)&&(3!=D||rp||this.g&&(this.h.h||this.g.fa()||Jw(this.g)))){this.I||4!=D||7==e||ap(8==e||0>=M?3:2),ro(this);var t=this.g.aa();this.Y=t;t:if(pv(this)){var r=Jw(this.g);n="";var i=r.length,a=4==va(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ma(this),bu(this);var d="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function Fw(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hh(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,gi(12),ma(this),bu(this);break e}ph(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pc(this,t)}this.P?(mv(this,D,d),rp&&this.i&&3==D&&(Pw(this.S,this.T,"tick",this.gb),this.T.start())):(ph(this.j,this.m,d,null),Pc(this,d)),4==D&&ma(this),this.i&&!this.I&&(4==D?eE(this.l,this):(this.i=!1,yh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),ma(this),bu(this)}}}catch{}},ht.gb=function(){if(this.g){var n=va(this.g),e=this.g.fa();this.C<e.length&&(ro(this),mv(this,n,e),this.i&&4!=n&&yh(this))}},ht.cancel=function(){this.I=!0,ma(this)},ht.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function hT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ap(3),gi(17)),ma(this),this.o=2,bu(this)):Pg(this,this.V-n)};var jw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lo){this.h=void 0!==e?e:n.h,_v(this,n.j),this.s=n.s,this.g=n.g,Fg(this,n.m),this.l=n.l,e=n.i;var t=new pp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_T(this,t),this.o=n.o}else n&&(t=String(n).match(jw))?(this.h=!!e,_v(this,t[1]||"",!0),this.s=fp(t[2]||""),this.g=fp(t[3]||"",!0),Fg(this,t[4]),this.l=fp(t[5]||"",!0),_T(this,t[6]||"",!0),this.o=fp(t[7]||"")):(this.h=!!e,this.i=new pp(null,this.h))}function bl(n){return new Lo(n)}function _v(n,e,t){n.j=t?fp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _T(n,e,t){e instanceof pp?(n.i=e,function yp(n,e){e&&!n.j&&(wu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Gw(this,r),Eu(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_h(e,bT)),n.i=new pp(e,n.h))}function Vn(n,e,t){n.i.set(e,t)}function Lg(n){return Vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _h(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_h(e,$w,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_h(e,$w,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_h(t,"/"==t.charAt(0)?vT:bv,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_h(t,wT)),n.join("")};var $w=/[#\/\?@]/g,bv=/[#\?:]/g,vT=/[#\?]/g,bT=/[#\?@]/g,wT=/#/g;function pp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wu(n){n.g||(n.g=new Map,n.h=0,n.i&&function yT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gw(n,e){wu(n),e=gp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function mp(n,e){return wu(n),e=gp(n,e),n.g.has(e)}function Eu(n,e,t){Gw(n,e),0<t.length&&(n.i=null,n.g.set(gp(n,e),yg(t)),n.h+=t.length)}function gp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zw(n){this.l=n||wv,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=pp.prototype).add=function(n,e){wu(this),this.i=null,n=gp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ht.forEach=function(n,e){wu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ht.oa=function(){wu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ht.W=function(n){wu(this);let e=[];if("string"==typeof n)mp(this,n)&&(e=e.concat(this.g.get(gp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ht.set=function(n,e){return wu(this),this.i=null,mp(this,n=gp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ht.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=a;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var wv=10;function qw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Vo(n){return n.h?1:n.g?n.g.size:0}function Fc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Br(n,e){n.g?n.g.add(e):n.h=e}function Iu(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _p(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yg(n.i)}function Qi(){}function Ev(){this.g=new Qi}function vh(n,e,t){const r=t||"";try{yv(n,function(i,a){let d=i;tp(i)&&(d=_u(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wl(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ga(n){this.l=n.$b||null,this.j=n.ib||!1}function El(n,e){mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Cu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zw.prototype.cancel=function(){if(this.i=_p(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Qi.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Qi.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},rr(ga,lv),ga.prototype.g=function(){return new El(this.l,this.j)},ga.prototype.i=function(n){return function(){return n}}({}),rr(El,mr);var Cu=0;function Lc(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function ya(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_a(n)}function _a(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=El.prototype).open=function(n,e){if(this.readyState!=Cu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_a(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ya(this)),this.readyState=Cu},ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lc(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ya(this):_a(this),3==this.readyState&&Lc(this)}},ht.Ua=function(n){this.g&&(this.response=this.responseText=n,ya(this))},ht.Ta=function(n){this.g&&(this.response=n,ya(this))},ht.ga=function(){this.g&&ya(this)},ht.setRequestHeader=function(n,e){this.v.append(n,e)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(El.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ww=Rt.JSON.parse;function gr(n){mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Iv,this.K=this.L=!1}rr(gr,mr);var Iv="",Kw=/^https?$/i,Zw=["POST","PUT"];function Cv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Dv(n),Vg(n)}function Dv(n){n.D||(n.D=!0,ir(n,"complete"),ir(n,"error"))}function Tv(n){if(n.h&&typeof L_<"u"&&(!n.C[1]||4!=va(n)||2!=n.aa()))if(n.v&&4==va(n))Rg(n.Ha,0,n);else if(ir(n,"readystatechange"),4==va(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(jw)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!Kw.test(i?i.toLowerCase():"")}t=r}if(t)ir(n,"complete"),ir(n,"success");else{n.m=6;try{var d=2<va(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Dv(n)}}finally{Vg(n)}}}function Vg(n,e){if(n.g){Qw(n);const t=n.g,r=n.C[0]?pg:null;n.g=null,n.C=null,e||ir(n,"ready");try{t.onreadystatechange=r}catch{}}}function Qw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function va(n){return n.g?n.g.readyState:0}function Jw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Iv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Av(n){let e="";return kw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function vp(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Av(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Vn(n,e,t))}function Vc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Xw(n){this.Ca=0,this.i=[],this.j=new Ng,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Vc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Vc("baseRetryDelayMs",5e3,n),this.ab=Vc("retryDelaySeedMs",1e4,n),this.Za=Vc("forwardChannelMaxRetries",2,n),this.ta=Vc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new zw(n&&n.concurrentRequestLimit),this.Fa=new Ev,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wh(n){if(Bg(n),3==n.G){var e=n.U++,t=bl(n.F);Vn(t,"SID",n.I),Vn(t,"RID",e),Vn(t,"TYPE","terminate"),Eh(n,t),(e=new cp(n,n.j,e,void 0)).K=2,e.v=Lg(bl(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=tE(e.l,null),e.g.da(e.v)),e.F=Date.now(),yh(e)}xv(n)}function Bc(n){n.g&&(Gg(n),n.g.cancel(),n.g=null)}function Bg(n){Bc(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),wp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Ug(n){qw(n.h)||n.m||(n.m=!0,xg(n.Ja,n),n.C=0)}function bp(n,e){var t;t=e?e.m:n.U++;const r=bl(n.F);Vn(r,"SID",n.I),Vn(r,"RID",t),Vn(r,"AID",n.T),Eh(n,r),n.o&&n.s&&vp(r,n.o,n.s),t=new cp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Sv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Br(n.h,t),hp(t,r,e)}function Eh(n,e){n.ia&&kw(n.ia,function(t,r){Vn(e,r,t)}),n.l&&yv({},function(t,r){Vn(e,r,t)})}function Sv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?mi(n.l.Qa,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=a,0>w)a=Math.max(0,i[y].h-100),f=!1;else try{vh(D,d,"req"+w+"_")}catch{r&&r(D)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function jg(n){n.g||n.u||(n.Z=1,xg(n.Ia,n),n.A=0)}function $g(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Yi(mi(n.Ia,n),Mv(n,n.A)),n.A++,0))}function Gg(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function zg(n){n.g=new cp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=bl(n.sa);Vn(e,"RID","rpc"),Vn(e,"SID",n.I),Vn(e,"CI",n.L?"0":"1"),Vn(e,"AID",n.T),Vn(e,"TYPE","xmlhttp"),Eh(n,e),n.o&&n.s&&vp(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Lg(bl(e)),t.s=null,t.P=!0,mT(t,n)}function wp(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function eE(n,e){var t=null;if(n.g==e){wp(n),Gg(n),n.g=null;var r=2}else{if(!Fc(n.h,e))return;t=e.D,Iu(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ir(r=op(),new Bw(r,t,e,i)),Ug(n)}else jg(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Hg(n,e){return!(Vo(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Yi(mi(n.Ja,n,e),Mv(n,n.C)),n.C++,0)))}(n,e)||2==r&&$g(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Du(n,5);break;case 4:Du(n,10);break;case 3:Du(n,6);break;default:Du(n,2)}}function Mv(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Du(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=mi(n.jb,n);t||(t=new Lo("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||_v(t,"https"),Lg(t)),function bh(n,e){const t=new Ng;if(Rt.Image){const r=new Image;r.onload=U_(wl,t,r,"TestLoadImage: loaded",!0,e),r.onerror=U_(wl,t,r,"TestLoadImage: error",!1,e),r.onabort=U_(wl,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=U_(wl,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gi(2);n.G=0,n.l&&n.l.va(e),xv(n),Bg(n)}function xv(n){if(n.G=0,n.la=[],n.l){const e=_p(n.h);(0!=e.length||0!=n.i.length)&&(Aw(n.la,e),Aw(n.la,n.i),n.h.i.length=0,yg(n.i),n.i.length=0),n.l.ua()}}function kv(n,e,t){var r=t instanceof Lo?bl(t):new Lo(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Fg(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Lo(null,void 0);r&&_v(a,r),e&&(a.g=e),i&&Fg(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Vn(r,t,e),Vn(r,"VER",n.ma),Eh(n,r),r}function tE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Da&&!n.ra?new ga({ib:!0}):n.ra)).L=n.H,e}function Rv(){}function Ep(){if(yu&&!(10<=Number(rT)))throw Error("Environmental error: no available transport.")}function Ji(n,e){mr.call(this),this.g=new Xw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!hh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Uc(this)}function qg(n){cv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Nv(){dv.call(this),this.status=1}function Uc(n){this.g=n}(ht=gr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():up.g(),this.C=function pT(n){return n.h||(n.h=n.i())}(this.u?this.u:up),this.g.onreadystatechange=mi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Cv(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=no(Zw,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of t)this.g.setRequestHeader(a,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qw(this),0<this.B&&((this.K=function Yw(n){return yu&&function ix(){return function _g(n){var e=nT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=H_(String(wg)).split("."),t=H_("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=np(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||np(0==i[2].length,0==a[2].length)||np(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mi(this.qa,this)):this.A=Rg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Cv(this,a)}},ht.qa=function(){typeof L_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ir(this,"complete"),ir(this,"abort"),Vg(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vg(this,!0)),gr.X.M.call(this)},ht.Ha=function(){this.s||(this.F||this.v||this.l?Tv(this):this.eb())},ht.eb=function(){Tv(this)},ht.aa=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},ht.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ht.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ww(e)}},ht.Ea=function(){return this.m},ht.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=Xw.prototype).ma=8,ht.G=1,ht.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new cp(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=iT(a),oT(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sv(this,i,e),Vn(t=bl(this.F),"RID",n),Vn(t,"CVER",22),this.D&&Vn(t,"X-HTTP-Session-Id",this.D),Eh(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(Av(a)))+"&"+e:this.o&&vp(t,this.o,a)),Br(this.h,i),this.Xa&&Vn(t,"TYPE","init"),this.O?(Vn(t,"$req",e),Vn(t,"SID","null"),i.Z=!0,hp(i,t,null)):hp(i,t,e),this.G=2}}else 3==this.G&&(n?bp(this,n):0==this.i.length||qw(this.h)||bp(this))},ht.Ia=function(){if(this.u=null,zg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Yi(mi(this.cb,this),n)}},ht.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gi(10),Bc(this),zg(this))},ht.bb=function(){null!=this.v&&(this.v=null,Bc(this),$g(this),gi(19))},ht.jb=function(n){n?(this.j.info("Successfully pinged google.com"),gi(2)):(this.j.info("Failed to ping google.com"),gi(1))},(ht=Rv.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Qa=function(){},Ep.prototype.g=function(n,e){return new Ji(n,e)},rr(Ji,mr),Ji.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;gi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=kv(n,null,n.V),Ug(n)},Ji.prototype.close=function(){wh(this.g)},Ji.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_u(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&Ug(e)},Ji.prototype.M=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,Ji.X.M.call(this)},rr(qg,cv),rr(Nv,dv),rr(Uc,Rv),Uc.prototype.xa=function(){ir(this.g,"a")},Uc.prototype.wa=function(n){ir(this.g,new qg(n))},Uc.prototype.va=function(n){ir(this.g,new Nv(n))},Uc.prototype.ua=function(){ir(this.g,"b")},Ep.prototype.createWebChannel=Ep.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,mh.NO_ERROR=0,mh.TIMEOUT=8,mh.HTTP_ERROR=6,Uw.COMPLETE="complete",uv.EventType=lp,lp.OPEN="a",lp.CLOSE="b",lp.ERROR="c",lp.MESSAGE="d",mr.prototype.listen=mr.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.Na,gr.prototype.getLastErrorCode=gr.prototype.Ea,gr.prototype.getStatus=gr.prototype.aa,gr.prototype.getResponseJson=gr.prototype.Ra,gr.prototype.getResponseText=gr.prototype.fa,gr.prototype.send=gr.prototype.da;var nE=gl.createWebChannelTransport=function(){return new Ep},rE=gl.getStatEventTarget=function(){return op()},Wg=gl.ErrorCode=mh,iE=gl.EventType=Uw,sE=gl.Event=vu,Ov=gl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lx=gl.FetchXmlHttpFactory=ga,Kg=gl.WebChannel=uv,IT=gl.XhrIo=gr;const Pv="@firebase/firestore";class Ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let Bn="9.10.0";const Il=new Po.Yd("@firebase/firestore");function Fv(){return Il.logLevel}function Ne(n,...e){if(Il.logLevel<=Po.in.DEBUG){const t=e.map(Zg);Il.debug(`Firestore (${Bn}): ${n}`,...t)}}function yr(n,...e){if(Il.logLevel<=Po.in.ERROR){const t=e.map(Zg);Il.error(`Firestore (${Bn}): ${n}`,...t)}}function Tu(n,...e){if(Il.logLevel<=Po.in.WARN){const t=e.map(Zg);Il.warn(`Firestore (${Bn}): ${n}`,...t)}}function Zg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${Bn}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function Mt(n,e){n||Je()}function Ke(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Lv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}}class ba{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TT{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ni,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,ge.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ni)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new Lv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new Ur(e)}}class AT{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Mt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class wa{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new AT(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class io{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.A;return this.A=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.A=t.token,new io(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class aE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oE(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function Ih(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function lE(n){return n+"\0"}class Cn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Cn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Cn(0,0))}static max(){return new _t(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ip{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ip.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ip?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qt extends Ip{construct(e,t,r){return new qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qt(t)}static emptyPath(){return new qt([])}}const MT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Ip{construct(e,t,r){return new qn(e,t,r)}static isValidIdentifier(e){return MT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(t)}static emptyPath(){return new qn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(qt.fromString(e))}static fromName(e){return new qe(qt.fromString(e).popFirst(5))}static empty(){return new qe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new qt(e.slice()))}}class Hc{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Bv(n){return n.fields.find(e=>2===e.kind)}function Au(n){return n.fields.filter(e=>2!==e.kind)}Hc.UNKNOWN_ID=-1;class Ch{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dh(0,Xi.min())}}function Uv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(1e9===r?new Cn(t+1,0):new Cn(t,r));return new Xi(i,qe.empty(),e)}function Hv(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(_t.min(),qe.empty(),-1)}static max(){return new Xi(_t.max(),qe.empty(),-1)}}function Qg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const jv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $v{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cl(n){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,ge.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==jv)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),Gv.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},y=>r(y))}),d=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,d=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(D=>{d[w]=D,++f,f===a&&r(d)},D=>i(D))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class Jg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ni,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Cp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=zv(r.target.error);this.P.reject(new Cp(e,i))}}static open(e,t,r,i){try{return new Jg(t,e.transaction(i,r))}catch(a){throw new Cp(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new kT(t)}}class Uo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Uo.D((0,rn.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),jc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,rn.hl)())return!1;if(Uo.N())return!0;const e=(0,rn.z$)(),t=Uo.D(e),r=0<t&&t<10,i=Uo.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new Cp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new ke(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Cp(e,f))},a.onupgradeneeded=d=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ge.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const y=Jg.open(a.db,e,d?"readonly":"readwrite",r),w=i(y).next(D=>(y.V(),D)).catch(D=>(y.abort(D),le.reject(D))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,D="FirebaseError"!==w.name&&f<3;if(Ne("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xT{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return jc(this.U.delete())}}class Cp extends ke{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Su(n){return"IndexedDbTransactionError"===n.name}class kT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jc(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),jc(this.store.add(e))}get(e){return jc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),jc(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),jc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new le((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=a=>{const d=zv(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new le((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new xT(f),w=t(f.primaryKey,f.value,y);if(w instanceof le){const D=w.catch(M=>(y.done(),le.reject(M)));r.push(D)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jc(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=zv(r.target.error);t(i)}})}let cE=!1;function zv(n){const e=Uo.D((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cE||(cE=!0,setTimeout(()=>{throw r},0)),r}}return n}class RT{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Su(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Cl(r)}yield t.nt(6e4)}))}}class NT{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return le.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ne("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,a)).next(f=>(Ne("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const d=Hv(a);Qg(d,r)>0&&(r=d)}),new Xi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class es{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function dE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $c(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}es.at=-1;class sr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dp(this.root,e,this.comparator,!0)}}class Dp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Hr.RED,this.left=i??Hr.EMPTY,this.right=a??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Hr(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gc(n){return n.hasNext()?n.getNext():void 0}class ts{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new ts([])}unionWith(e){let t=new mn(qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const pE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=pE.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wn(n.seconds),nanos:Wn(n.nanos)}}function Wn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Es(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function Wv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mE(n){const e=n.mapValue.fields.__previous_value__;return Wv(e)?mE(e):e}function Ia(n){const e=Ea(n.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}class ux{constructor(e,t,r,i,a,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Ca{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}function Xg(n){return null==n}function Th(n){return 0===n&&1/n==-1/0}function Kv(n){return"number"==typeof n&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yt={nullValue:"NULL_VALUE"};function qc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wv(n)?4:Yv(n)?9007199254740991:10:Je()}function Da(n,e){if(n===e)return!0;const t=qc(n);if(t!==qc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ia(n).isEqual(Ia(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ea(r.timestampValue),d=Ea(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Es(n.bytesValue).isEqual(Es(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Wn(r.geoPointValue.latitude)===Wn(i.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Wn(r.integerValue)===Wn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Wn(r.doubleValue),d=Wn(i.doubleValue);return a===d?Th(a)===Th(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Ih(n.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(dE(a)!==dE(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Da(a[f],d[f])))return!1;return!0}(n,e);default:return Je()}var i}function Tp(n,e){return void 0!==(n.values||[]).find(t=>Da(t,e))}function Is(n,e){if(n===e)return 0;const t=qc(n),r=qc(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=Wn(i.integerValue||i.doubleValue),f=Wn(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return gE(n.timestampValue,e.timestampValue);case 4:return gE(Ia(n),Ia(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=Es(i),f=Es(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let y=0;y<d.length&&y<f.length;y++){const w=Nt(d[y],f[y]);if(0!==w)return w}return Nt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Nt(Wn(i.latitude),Wn(a.latitude));return 0!==d?d:Nt(Wn(i.longitude),Wn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let y=0;y<d.length&&y<f.length;++y){const w=Is(d[y],f[y]);if(w)return w}return Nt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===zc.mapValue&&a===zc.mapValue)return 0;if(i===zc.mapValue)return 1;if(a===zc.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const M=Nt(f[D],w[D]);if(0!==M)return M;const F=Is(d[f[D]],y[w[D]]);if(0!==F)return F}return Nt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw Je()}}function gE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Ea(n),r=Ea(e),i=Nt(t.seconds,r.seconds);return 0!==i?i:Nt(t.nanos,r.nanos)}function Dl(n){return Ah(n)}function Ah(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ea(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Es(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=Ah(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${Ah(r.fields[f])}`;return a+"}"}(n.mapValue):Je();var e}function vn(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yE(n){return!!n&&"integerValue"in n}function Sh(n){return!!n&&"arrayValue"in n}function Zv(n){return!!n&&"nullValue"in n}function _E(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ap(n){return!!n&&"mapValue"in n}function Mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $c(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vE(n){return"nullValue"in n?yt:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vn(Ca.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function OT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vn(Ca.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zc:Je()}function bE(n,e){const t=Is(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function wE(n,e){const t=Is(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ap(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(t)}setAll(e){let t=qn.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Mh(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Ap(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$c(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _r(Mh(this.value))}}function EE(n){const e=[];return $c(n.fields,(t,r)=>{const i=new qn([t]);if(Ap(r)){const a=EE(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new ts(e)}class Dn{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,_t.min(),_t.min(),_r.empty(),0)}static newFoundDocument(e,t,r){return new Dn(e,1,t,_t.min(),r,0)}static newNoDocument(e,t){return new Dn(e,2,t,_t.min(),_r.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,_t.min(),_r.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class PT{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.ht=null}}function Sp(n,e=null,t=[],r=[],i=null,a=null,d=null){return new PT(n,e,t,r,i,a,d)}function Mu(n){const e=Ke(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Dl(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dl(r)).join(",")),e.ht=t}return e.ht}function xh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!cx(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Da(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jv(n.startAt,e.startAt)&&Jv(n.endAt,e.endAt)}function ey(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xu(n,e){return n.filters.filter(t=>t instanceof ri&&t.field.isEqual(e))}function kh(n,e,t){let r=yt,i=!0;for(const a of xu(n,e)){let d=yt,f=!0;switch(a.op){case"<":case"<=":d=vE(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=yt}bE({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];bE({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function CE(n,e,t){let r=zc,i=!0;for(const a of xu(n,e)){let d=zc,f=!0;switch(a.op){case">=":case">":d=OT(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=zc}wE({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];wE({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class ri extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new FT(e,t,r):"array-contains"===t?new LT(e,r):"in"===t?new AE(e,r):"not-in"===t?new VT(e,r):"array-contains-any"===t?new BT(e,r):new ri(e,t,r)}static lt(e,t,r){return"in"===t?new DE(e,r):new TE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Is(t,this.value)):null!==t&&qc(this.value)===qc(t)&&this.ft(Is(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class FT extends ri{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.ft(t)}}class DE extends ri{constructor(e,t){super(e,"in",t),this.keys=Qv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TE extends ri{constructor(e,t){super(e,"not-in",t),this.keys=Qv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class LT extends ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sh(t)&&Tp(t.arrayValue,this.value)}}class AE extends ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Tp(this.value.arrayValue,t)}}class VT extends ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Tp(this.value.arrayValue,t)}}class BT extends ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tp(this.value.arrayValue,r))}}class Wc{constructor(e,t){this.position=e,this.inclusive=t}}class Mp{constructor(e,t="asc"){this.field=e,this.dir=t}}function cx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function UT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?qe.comparator(qe.fromName(d.referenceValue),t.key):Is(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Jv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Da(n.position[t],e.position[t]))return!1;return!0}class so{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=y,this._t=null,this.wt=null}}function SE(n,e,t,r,i,a,d,f){return new so(n,e,t,r,i,a,d,f)}function Rh(n){return new so(n)}function Xv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Kc(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function eb(n){for(const e of n.filters)if(e.dt())return e.field;return null}function tb(n){return null!==n.collectionGroup}function Nh(n){const e=Ke(n);if(null===e._t){e._t=[];const t=eb(e),r=Kc(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Mp(t)),e._t.push(new Mp(qn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Mp(qn.keyField(),a))}}}return e._t}function ns(n){const e=Ke(n);if(!e.wt)if("F"===e.limitType)e.wt=Sp(e.path,e.collectionGroup,Nh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Nh(e))t.push(new Mp(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Wc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wc(e.startAt.position,e.startAt.inclusive):null;e.wt=Sp(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function ty(n,e,t){return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oh(n,e){return xh(ns(n),ns(e))&&n.limitType===e.limitType}function ME(n){return`${Mu(ns(n))}|lt:${n.limitType}`}function nb(n){return`Query(target=${function IE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Dl(r.value)}`;var r}).join(", ")}]`),Xg(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Dl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Dl(t)).join(",")),`Target(${e})`}(ns(n))}; limitType=${n.limitType})`}function Zc(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=UT(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,Nh(t),r)||t.endAt&&!function(i,a,d){const f=UT(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,Nh(t),r)));var t,r}function xE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rb(n){return(e,t)=>{let r=!1;for(const i of Nh(n)){const a=HT(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function HT(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),y=d.data.field(i);return null!==f&&null!==y?Is(f,y):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}function ib(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function kE(n){return{integerValue:""+n}}function sb(n,e){return Kv(e)?kE(e):ib(n,e)}class ny{constructor(){this._=void 0}}function ob(n,e,t){return n instanceof Yc?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Qc?RE(n,e):n instanceof Jc?ry(n,e):function(r,i){const a=ab(r,i),d=lb(a)+lb(r.yt);return yE(a)&&yE(r.yt)?kE(d):ib(r.It,d)}(n,e)}function jT(n,e,t){return n instanceof Qc?RE(n,e):n instanceof Jc?ry(n,e):t}function ab(n,e){return n instanceof Ph?yE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yc extends ny{}class Qc extends ny{constructor(e){super(),this.elements=e}}function RE(n,e){const t=NE(e);for(const r of n.elements)t.some(i=>Da(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jc extends ny{constructor(e){super(),this.elements=e}}function ry(n,e){let t=NE(e);for(const r of n.elements)t=t.filter(i=>!Da(i,r));return{arrayValue:{values:t}}}class Ph extends ny{constructor(e,t){super(),this.It=e,this.yt=t}}function lb(n){return Wn(n.integerValue||n.doubleValue)}function NE(n){return Sh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xp{constructor(e,t){this.field=e,this.transform=t}}class GT{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sy{}function OE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ku(n.key,Un.none()):new Xc(n.key,n.data,Un.none());{const t=n.data,r=_r.empty();let i=new mn(qn.comparator);for(let a of e.fields)if(!i.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?r.delete(a):r.set(a,d),i=i.add(a)}return new Tl(n.key,r,new ts(i.toArray()),Un.none())}}function PE(n,e,t){n instanceof Xc?function(r,i,a){const d=r.value.clone(),f=VE(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Tl?function(r,i,a){if(!iy(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=VE(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(LE(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fh(n,e,t,r){return n instanceof Xc?function(i,a,d,f){if(!iy(i.precondition,a))return d;const y=i.value.clone(),w=oy(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tl?function(i,a,d,f){if(!iy(i.precondition,a))return d;const y=oy(i.fieldTransforms,f,a),w=a.data;return w.setAll(LE(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(d=t,iy(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function zT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ab(r.transform,i||null);null!=a&&(null===t&&(t=_r.empty()),t.set(r.field,a))}return t||null}function FE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ih(t,r,(i,a)=>function $T(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qc&&r instanceof Qc||t instanceof Jc&&r instanceof Jc?Ih(t.elements,r.elements,Da):t instanceof Ph&&r instanceof Ph?Da(t.yt,r.yt):t instanceof Yc&&r instanceof Yc);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Xc extends sy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tl extends sy{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function VE(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,jT(d,f,t[i]))}return r}function oy(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,ob(a,d,e))}return r}class ku extends sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ay extends sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ub{constructor(e){this.count=e}}var Dr,Qt;function ly(n){switch(n){default:return Je();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function BE(n){if(void 0===n)return yr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Dr.OK:return de.OK;case Dr.CANCELLED:return de.CANCELLED;case Dr.UNKNOWN:return de.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return de.INTERNAL;case Dr.UNAVAILABLE:return de.UNAVAILABLE;case Dr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Dr.NOT_FOUND:return de.NOT_FOUND;case Dr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Dr.ABORTED:return de.ABORTED;case Dr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Dr.DATA_LOSS:return de.DATA_LOSS;default:return Je()}}(Qt=Dr||(Dr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class Al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}const Lh=new sr(qe.comparator);function Ni(){return Lh}const UE=new sr(qe.comparator);function uy(...n){let e=UE;for(const t of n)e=e.insert(t.key,t);return e}function cb(n){let e=UE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oo(){return ed()}function HE(){return ed()}function ed(){return new Al(n=>n.toString(),(n,e)=>n.isEqual(e))}const qT=new sr(qe.comparator),jE=new mn(qe.comparator);function Lt(...n){let e=jE;for(const t of n)e=e.add(t);return e}const $E=new mn(Nt);function kp(){return $E}class Vh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Vh(_t.min(),r,kp(),Ni(),Lt())}}class Bh{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Bh(Cr.EMPTY_BYTE_STRING,t,Lt(),Lt(),Lt())}}class cy{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class GE{constructor(e,t){this.targetId=e,this.At=t}}class zE{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class qE{constructor(){this.Rt=0,this.bt=db(),this.Pt=Cr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Lt(),t=Lt(),r=Lt();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new Bh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=db()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class WE{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ni(),this.qt=WT(),this.Kt=new mn(Nt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(ey(a))if(0===r){const d=new qe(a.path);this.jt(t,d,Dn.newNoDocument(d,_t.min()))}else Mt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,d)=>{const f=this.Xt(d);if(f){if(a.current&&ey(f.target)){const y=new qe(f.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Dn.newNoDocument(y,e))}a.Dt&&(t.set(d,a.xt()),a.Nt())}});let r=Lt();this.qt.forEach((a,d)=>{let f=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,d)=>d.setReadTime(e));const i=new Vh(e,t,this.Kt,this.Ut,r);return this.Ut=Ni(),this.qt=WT(),this.Kt=new mn(Nt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new qE,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new mn(Nt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new qE),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function WT(){return new sr(qe.comparator)}function db(){return new sr(qe.comparator)}const KT={asc:"ASCENDING",desc:"DESCENDING"},ZT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dx{constructor(e,t){this.databaseId=e,this.gt=t}}function dy(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(n,e){return n.gt?e.toBase64():e.toUint8Array()}function YT(n,e){return dy(n,e.toTimestamp())}function jr(n){return Mt(!!n),_t.fromTimestamp(function(e){const t=Ea(e);return new Cn(t.seconds,t.nanos)}(n))}function hy(n,e){return(t=n,new qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZE(n){const e=qt.fromString(n);return Mt(sI(e)),e}function Rp(n,e){return hy(n.databaseId,e.path)}function Ta(n,e){const t=ZE(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(QE(t))}function hb(n,e){return hy(n.databaseId,e)}function YE(n){const e=ZE(n);return 4===e.length?qt.emptyPath():QE(e)}function Np(n){return new qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QE(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function JE(n,e,t){return{name:Rp(n,e),fields:t.value.mapValue.fields}}function Uh(n,e,t){const r=Ta(n,e.name),i=jr(e.updateTime),a=new _r({mapValue:{fields:e.fields}}),d=Dn.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Hh(n,e){let t;if(e instanceof Xc)t={update:JE(n,e.key,e.value)};else if(e instanceof ku)t={delete:Rp(n,e.key)};else if(e instanceof Tl)t={update:JE(n,e.key,e.data),updateMask:Sa(e.fieldMask)};else{if(!(e instanceof ay))return Je();t={verify:Rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof Yc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Jc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ph)return{fieldPath:a.field.canonicalString(),increment:d.yt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:YT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}function fy(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Un.updateTime(jr(i.updateTime)):void 0!==i.exists?Un.exists(i.exists):Un.none():Un.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(Mt("REQUEST_TIME"===d.setToServerValue),f=new Yc):"appendMissingElements"in d?f=new Qc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Jc(d.removeAllFromArray.values||[]):"increment"in d?f=new Ph(a,d.increment):Je();const y=qn.fromServerFormat(d.fieldPath);return new xp(y,f)}(n,i)):[];var i;if(e.update){const i=Ta(n,e.update.name),a=new _r({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ts((e.updateMask.fieldPaths||[]).map(w=>qn.fromServerFormat(w)));return new Tl(i,a,d,t,r)}return new Xc(i,a,t,r)}if(e.delete){const i=Ta(n,e.delete);return new ku(i,t)}if(e.verify){const i=Ta(n,e.verify);return new ay(i,t)}return Je()}function fb(n,e){return{documents:[hb(n,e.path)]}}function nI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=hb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(D=>function(M){if("=="===M.op){if(_E(M.value))return{unaryFilter:{field:jh(M.field),op:"IS_NAN"}};if(Zv(M.value))return{unaryFilter:{field:jh(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(_E(M.value))return{unaryFilter:{field:jh(M.field),op:"IS_NOT_NAN"}};if(Zv(M.value))return{unaryFilter:{field:jh(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jh(M.field),op:XT(M.op),value:M.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:jh((D=w).field),direction:JT(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=e.limit,n.gt||Xg(w)?w:{value:w});var w,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function QT(n){let e=YE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=iI(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new Mp(Aa((M=D).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(D){let M;return M="object"==typeof D?D.value:D,Xg(M)?null:M}(t.limit));let y=null;var D;t.startAt&&(y=new Wc((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new Wc(D.values||[],!D.before)}(t.endAt)),SE(e,i,d,a,f,"F",y,w)}function iI(n){return n?void 0!==n.unaryFilter?[pb(n)]:void 0!==n.fieldFilter?[eA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>iI(e)).reduce((e,t)=>e.concat(t)):Je():[]}function JT(n){return KT[n]}function XT(n){return ZT[n]}function jh(n){return{fieldPath:n.canonicalString()}}function Aa(n){return qn.fromServerFormat(n.fieldPath)}function eA(n){return ri.create(Aa(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}function pb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Aa(n.unaryFilter.field);return ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Aa(n.unaryFilter.field);return ri.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Aa(n.unaryFilter.field);return ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Aa(n.unaryFilter.field);return ri.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function Sa(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oI(e)),e=Op(n.get(t),e);return oI(e)}function Op(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function oI(n){return n+"\x01\x01"}function Ma(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),qt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&Je(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:Je()}a=d+2}return new qt(r)}const aI=["userId","batchId"];function td(n,e){return[n,$r(e)]}function Pp(n,e,t){return[n,$r(e),t]}const tA={},nA=["prefixPath","collectionGroup","readTime","documentId"],lI=["prefixPath","collectionGroup","documentId"],uI=["collectionGroup","readTime","prefixPath","documentId"],mb=["canonicalId","targetId"],cI=["targetId","path"],rA=["path","targetId"],iA=["collectionId","parent"],hx=["indexId","uid"],gb=["uid","sequenceNumber"],yb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dI=["indexId","uid","orderedDocumentKey"],_b=["userId","collectionPath","documentId"],vb=["userId","collectionPath","largestBatchId"],sA=["userId","collectionGroup","largestBatchId"],hI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oA=[...hI,"documentOverlays"],fI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bb=fI,wb=[...bb,"indexConfiguration","indexState","indexEntries"];class py extends $v{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Sr(n,e){const t=Ke(n);return Uo.O(t.ie,e)}class my{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&PE(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HE();return this.mutations.forEach(i=>{const a=e.get(i.key),d=a.overlayedDocument;let f=this.applyToLocalView(d,a.mutatedFields);f=t.has(i.key)?null:f;const y=OE(d,f);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,(t,r)=>FE(t,r))&&Ih(this.baseMutations,e.baseMutations,(t,r)=>FE(t,r))}}class gy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=qT;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new gy(e,t,r,i)}}class Eb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sl{constructor(e,t,r,i,a=_t.min(),d=_t.min(),f=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ib{constructor(e){this.re=e}}function Cb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Rp(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:dy(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vr(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:vr(e.version)}}var i,a;return r}function Fp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vr(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ao(n){const e=new Cn(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function nd(n,e){const t=(e.baseMutations||[]).map(a=>fy(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>fy(n.re,a)),i=Cn.fromMillis(e.localWriteTimeMs);return new my(e.batchId,i,t,r)}function Lp(n){const e=ao(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ao(n.lastLimboFreeSnapshotVersion):_t.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=ns(Rh(YE(i.documents[0])))):r=ns(QT(n.query)),new Sl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function lA(n,e){const t=vr(e.snapshotVersion),r=vr(e.lastLimboFreeSnapshotVersion);let i;i=ey(e.target)?fb(n.re,e.target):nI(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pI(n){const e=QT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ty(e,e.limit,"L"):e}function yy(n,e){return new Eb(e.largestBatchId,fy(n.re,e.overlayMutation))}function Db(n,e){const t=e.path.lastSegment();return[n,$r(e.path.popLast()),t]}function $h(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:vr(r.readTime),documentKey:$r(r.documentKey.path),largestBatchId:r.largestBatchId}}class uA{getBundleMetadata(e,t){return _y(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ao(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return _y(e).put({bundleId:(r=t).id,createTime:vr(jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return mI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:pI(i.bundledQuery),readTime:ao(i.readTime)};var i})}saveNamedQuery(e,t){return mI(e).put({name:(r=t).name,readTime:vr(jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function _y(n){return Sr(n,"bundles")}function mI(n){return Sr(n,"namedQueries")}class Vp{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Vp(e,t.uid||"")}getOverlay(e,t){return Bp(e).get(Db(this.userId,t)).next(r=>r?yy(this.It,r):null)}getOverlays(e,t){const r=oo();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new Eb(t,d);i.push(this.ue(e,f))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add($r(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(Bp(e).Y("collectionPathOverlayIndex",f))}),le.waitFor(a)}getOverlaysForCollection(e,t,r){const i=oo(),a=$r(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bp(e).W("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const w=yy(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=oo();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bp(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,w,D)=>{const M=yy(this.It,w);a.size()<i||M.largestBatchId===d?(a.set(M.getKey(),M),d=M.largestBatchId):D.done()}).next(()=>a)}ue(e,t){return Bp(e).put(function(r,i,a){const[d,f,y]=Db(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Hh(r.re,a.mutation)}}(this.It,this.userId,t))}}function Bp(n){return Sr(n,"documentOverlays")}class rd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Wn(e.integerValue));else if("doubleValue"in e){const r=Wn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Th(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Es(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Yv(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Je()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),qe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function cA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function vy(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=cA(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}rd.Te=new rd;class gI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=vy(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=vy(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yI{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class by{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class id{constructor(){this.Be=new gI,this.Le=new yI(this.Be),this.Ue=new by(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Gh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gh(this.indexId,this.documentKey,this.arrayValue,r)}}function Ru(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_I(n.arrayValue,e.arrayValue),0!==t?t:(t=_I(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function _I(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class vI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Bv(e);if(void 0!==t&&!this.ze(t))return!1;const r=Au(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zh{constructor(){this.Ye=new Tb}addToCollectionParentIndex(e,t){return this.Ye.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Xi.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Tb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mn(qt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(qt.comparator)).toArray()}}const Up=new Uint8Array(0);class Ab{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Tb,this.Ze=new Al(r=>Mu(r),(r,i)=>xh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:$r(i)};return dA(e).put(a)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[lE(t),""],!1,!0);return dA(e).W(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(Ma(d.parent))}return r})}addFieldIndex(e,t){const r=Sb(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const a=r.add(i);if(t.indexState){const d=jp(e);return a.next(f=>{d.put($h(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Sb(e),i=jp(e),a=Hp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hp(e);let i=!0;const a=new Map;return le.forEach(this.tn(t),d=>this.en(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Lt();const f=[];return le.forEach(a,(y,w)=>{var D;Ne("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(mt=>`${mt.fieldPath}:${mt.kind}`).join(",")}`} to execute ${Mu(t)}`);const M=function(mt,it){const Tt=Bv(it);if(void 0===Tt)return null;for(const xt of xu(mt,Tt.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(w,y),F=function(mt,it){const Tt=new Map;for(const xt of Au(it))for(const en of xu(mt,xt.fieldPath))switch(en.op){case"==":case"in":Tt.set(xt.fieldPath.canonicalString(),en.value);break;case"not-in":case"!=":return Tt.set(xt.fieldPath.canonicalString(),en.value),Array.from(Tt.values())}return null}(w,y),V=function(mt,it){const Tt=[];let xt=!0;for(const en of Au(it)){const ks=0===en.kind?kh(mt,en.fieldPath,mt.startAt):CE(mt,en.fieldPath,mt.startAt);Tt.push(ks.value),xt&&(xt=ks.inclusive)}return new Wc(Tt,xt)}(w,y),U=function(mt,it){const Tt=[];let xt=!0;for(const en of Au(it)){const ks=0===en.kind?CE(mt,en.fieldPath,mt.endAt):kh(mt,en.fieldPath,mt.endAt);Tt.push(ks.value),xt&&(xt=ks.inclusive)}return new Wc(Tt,xt)}(w,y),te=this.nn(y,w,V),ve=this.nn(y,w,U),Le=this.sn(y,w,F),Ye=this.rn(y.indexId,M,te,V.inclusive,ve,U.inclusive,Le);return le.forEach(Ye,mt=>r.J(mt,t.limit).next(it=>{it.forEach(Tt=>{const xt=qe.fromSegments(Tt.documentKey);d.has(xt)||(d=d.add(xt),f.push(xt))})}))}).next(()=>f)}return le.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),D=[];for(let M=0;M<y;++M){const F=t?this.on(t[M/w]):Up,V=this.un(e,F,r[M%w],i),U=this.cn(e,F,a[M%w],d),te=f.map(ve=>this.un(e,F,ve,!0));D.push(...this.createRange(V,U,te))}return D}un(e,t,r,i){const a=new Gh(e,qe.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new Gh(e,qe.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new vI(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const f of a)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return le.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(d){let f=new mn(qn.comparator),y=!1;for(const w of d.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:f=f.add(D.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new id;for(const i of Au(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.qe(i.kind);rd.Te.ce(a,d)}return r.$e()}on(e){const t=new id;return rd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new id;return rd.Te.ce(vn(this.databaseId,t),r.qe(function(i){const a=Au(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new id);let a=0;for(const d of Au(e)){const f=r[a++];for(const y of i)if(this.ln(t,d.fieldPath)&&Sh(f))i=this.fn(i,d,f);else{const w=y.qe(d.kind);rd.Te.ce(f,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new id;y.seed(f.$e()),rd.Te.ce(d,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof ri&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Sb(e),i=jp(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const d=[];return le.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(w,D){const M=D?new Dh(D.sequenceNumber,new Xi(ao(D.readTime),new qe(Ma(D.documentKey)),D.largestBatchId)):Dh.empty(),F=w.fields.map(([V,U])=>new Ch(qn.fromServerFormat(V),U));return new Hc(w.indexId,w.collectionGroup,F,M)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Nt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Sb(e),a=jp(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>le.forEach(f,y=>a.put($h(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?le.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),le.forEach(f,y=>this.wn(e,i,y).next(w=>{const D=this.mn(a,y);return w.isEqual(D)?le.resolve():this.gn(e,a,y,w,D)}))))})}yn(e,t,r,i){return Hp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Hp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Hp(e);let a=new mn(Ru);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{a=a.add(new Gh(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let r=new mn(Ru);const i=this.an(t,e);if(null==i)return r;const a=Bv(t);if(null!=a){const d=e.data.field(a.fieldPath);if(Sh(d))for(const f of d.arrayValue.values||[])r=r.add(new Gh(t.indexId,e.key,this.on(f),i))}else r=r.add(new Gh(t.indexId,e.key,Up,i));return r}gn(e,t,r,i,a){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,w,D,M){const F=f.getIterator(),V=y.getIterator();let U=Gc(F),te=Gc(V);for(;U||te;){let ve=!1,Le=!1;if(U&&te){const Ye=w(U,te);Ye<0?Le=!0:Ye>0&&(ve=!0)}else null!=U?Le=!0:ve=!0;ve?(D(te),te=Gc(V)):Le?(M(U),U=Gc(F)):(U=Gc(F),te=Gc(V))}}(i,a,Ru,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),le.waitFor(d)}_n(e){let t=1;return jp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Ru(d,f)).filter((d,f,y)=>!f||0!==Ru(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=Ru(d,e),y=Ru(d,t);if(0===f)i[0]=e.Ke();else if(f>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Up,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Up,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bI)}getMinOffset(e,t){return le.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Je())).next(bI)}}function dA(n){return Sr(n,"collectionParents")}function Hp(n){return Sr(n,"indexEntries")}function Sb(n){return Sr(n,"indexConfiguration")}function jp(n){return Sr(n,"indexState")}function bI(n){Mt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Qg(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Xi(e.readTime,e.documentKey,t)}const wI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mb(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:d},(D,M,F)=>(f++,F.delete()));a.push(y.next(()=>{Mt(1===f)}));const w=[];for(const D of t.mutations){const M=Pp(e,D.key.path,t.batchId);a.push(i.delete(M)),w.push(D.key)}return le.waitFor(a).next(()=>w)}function wy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);class $p{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Mt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new $p(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nu(e).Z({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=qh(e),d=Nu(e);return d.add({}).next(f=>{Mt("number"==typeof f);const y=new my(f,t,r,i),w=function(F,V,U){const te=U.baseMutations.map(Le=>Hh(F.re,Le)),ve=U.mutations.map(Le=>Hh(F.re,Le));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:te,mutations:ve}}(this.It,this.userId,y),D=[];let M=new mn((F,V)=>Nt(F.canonicalString(),V.canonicalString()));for(const F of i){const V=Pp(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),D.push(d.put(w)),D.push(a.put(V,tA))}return M.forEach(F=>{D.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),le.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return Nu(e).get(t).next(r=>r?(Mt(r.userId===this.userId),nd(this.It,r)):null)}Tn(e,t){return this.In[t]?le.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Nu(e).Z({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(Mt(f.batchId>=r),a=nd(this.It,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Nu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nu(e).W("userMutationsIndex",t).next(r=>r.map(i=>nd(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=td(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qh(e).Z({range:i},(d,f,y)=>{const[w,D,M]=d,F=Ma(D);if(w===this.userId&&t.path.isEqual(F))return Nu(e).get(M).next(V=>{if(!V)throw Je();Mt(V.userId===this.userId),a.push(nd(this.It,V))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mn(Nt);const i=[];return t.forEach(a=>{const d=td(this.userId,a.path),f=IDBKeyRange.lowerBound(d),y=qh(e).Z({range:f},(w,D,M)=>{const[F,V,U]=w,te=Ma(V);F===this.userId&&a.path.isEqual(te)?r=r.add(U):M.done()});i.push(y)}),le.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=td(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new mn(Nt);return qh(e).Z({range:d},(y,w,D)=>{const[M,F,V]=y,U=Ma(F);M===this.userId&&r.isPrefixOf(U)?U.length===i&&(f=f.add(V)):D.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Nu(e).get(a).next(d=>{if(null===d)throw Je();Mt(d.userId===this.userId),r.push(nd(this.It,d))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Mb(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return qh(e).Z({range:r},(a,d,f)=>{if(a[0]===this.userId){const y=Ma(a[1]);i.push(y)}else f.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return xb(e,this.userId,t)}Rn(e){return kb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xb(n,e,t){const r=td(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return qh(n).Z({range:a,X:!0},(f,y,w)=>{const[D,M,F]=f;D===e&&M===i&&(d=!0),w.done()}).next(()=>d)}function Nu(n){return Sr(n,"mutations")}function qh(n){return Sr(n,"documentMutations")}function kb(n){return Sr(n,"mutationQueues")}class sd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sd(0)}static vn(){return new sd(-1)}}class EI{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new sd(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>_t.fromTimestamp(new Cn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>od(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return od(e).Z((d,f)=>{const y=Lp(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>le.waitFor(a)).next(()=>i)}forEachTarget(e,t){return od(e).Z((r,i)=>{const a=Lp(i);t(a)})}Vn(e){return Rb(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}Sn(e,t){return Rb(e).put("targetGlobalKey",t)}Dn(e,t){return od(e).put(lA(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Mu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return od(e).Z({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const w=Lp(f);xh(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ml(e);return t.forEach(d=>{const f=$r(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ml(e);return le.forEach(t,a=>{const d=$r(a.path);return le.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ml(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ml(e);let a=Lt();return i.Z({range:r,X:!0},(d,f,y)=>{const w=Ma(d[1]),D=new qe(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=$r(t.path),i=IDBKeyRange.bound([r],[lE(r)],!1,!0);let a=0;return Ml(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],y,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}se(e,t){return od(e).get(t).next(r=>r?Lp(r):null)}}function od(n){return Sr(n,"targets")}function Rb(n){return Sr(n,"targetGlobal")}function Ml(n){return Sr(n,"targetDocuments")}function II([n,e],[t,r]){const i=Nt(n,t);return 0===i?Nt(e,r):i}class hA{constructor(e){this.xn=e,this.buffer=new mn(II),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();II(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Su(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Cl(r)}yield t.Fn(3e5)}))}}class CI{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(es.at);const r=new hA(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(wI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wI):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,d,f,y,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),Fv()<=Po.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${M} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class px{constructor(e,t){this.db=e,this.garbageCollector=new CI(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Nb(e,r)}removeReference(e,t,r){return Nb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Nb(e,t)}Gn(e,t){return function(r,i){let a=!1;return kb(r).tt(d=>xb(r,d,i).next(f=>(f&&(a=!0),le.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(d,f)=>{if(f<=t){const y=this.Gn(e,d).next(w=>{if(!w)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,_t.min()),Ml(e).delete([0,$r(d.path)])))});i.push(y)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Nb(e,t)}Kn(e,t){const r=Ml(e);let i,a=es.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:w})=>{0===d?(a!==es.at&&t(new qe(Ma(i)),a),a=w,i=y):a=es.at}).next(()=>{a!==es.at&&t(new qe(Ma(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nb(n,e){return Ml(n).put((r=n.currentSequenceNumber,{targetId:0,path:$r(e.path),sequenceNumber:r}));var r}class fA{constructor(){this.changes=new Al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mx{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wh(e).put(r)}removeEntry(e,t,r){return Wh(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Fp(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Dn.newInvalidDocument(t);return Wh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ou(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Dn.newInvalidDocument(t)};return Wh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ou(t))},(i,a)=>{r={document:this.jn(t,a),size:wy(a)}}).next(()=>r)}getEntries(e,t){let r=Ni();return this.zn(e,t,(i,a)=>{const d=this.jn(i,a);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Ni(),i=new sr(qe.comparator);return this.zn(e,t,(a,d)=>{const f=this.jn(a,d);r=r.insert(a,f),i=i.insert(a,wy(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return le.resolve();let i=new mn(Ob);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Ou(i.first()),Ou(i.last())),d=i.getIterator();let f=d.getNext();return Wh(e).Z({index:"documentKeyIndex",range:a},(y,w,D)=>{const M=qe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Ob(f,M)<0;)r(f,null),f=d.getNext();f&&f.isEqual(M)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?D.j(Ou(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Fp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wh(e).W(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=Ni();for(const y of d){const w=this.jn(qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Ni();const d=gA(t,r),f=gA(t,Xi.max());return Wh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,w,D)=>{const M=this.jn(qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new gx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mA(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}Qn(e,t){return mA(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function aA(n,e){let t;if(e.document)t=Uh(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=ao(e.noDocument.readTime);t=Dn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=qe.fromSegments(e.unknownDocument.path),i=ao(e.unknownDocument.version);t=Dn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Cn(r[0],r[1]);return _t.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return Dn.newInvalidDocument(e)}}function pA(n){return new mx(n)}class gx extends fA{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Al(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new mn((a,d)=>Nt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const y=Cb(this.Yn.It,d);i=i.add(a.path.popLast()),r+=wy(y)-f.size,t.push(this.Yn.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=Cb(this.Yn.It,d.convertToNoDocument(_t.min()));t.push(this.Yn.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,d)=>{this.Xn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function mA(n){return Sr(n,"remoteDocumentGlobal")}function Wh(n){return Sr(n,"remoteDocumentsV14")}function Ou(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gA(n,e){const t=e.documentKey.path.toArray();return[n,Fp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ob(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Nt(t[a],r[a]),i)return i;return i=Nt(t.length,r.length),i||(i=Nt(t[t.length-2],r[r.length-2]),i||Nt(t[t.length-1],r[r.length-1]))}class Ey{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pb{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Fh(r.mutation,i,ts.empty(),Cn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Lt()){const i=oo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let d=uy();return a.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Lt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let a=Ni();const d=ed(),f=ed();return t.forEach((y,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof Tl)?a=a.insert(w.key,w):void 0!==D&&(d.set(w.key,D.mutation.getFieldMask()),Fh(D.mutation,w,D.mutation.getFieldMask(),Cn.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,D)=>d.set(w,D)),t.forEach((w,D)=>{var M;return f.set(w,new Ey(D,null!==(M=d.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=ed();let i=new sr((d,f)=>d-f),a=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=r.get(y)||ts.empty();D=f.applyToLocalView(w,D),r.set(y,D);const M=(i.get(f.batchId)||Lt()).add(y);i=i.insert(f.batchId,M)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,D=y.value,M=HE();D.forEach(F=>{if(!a.has(F)){const V=OE(t.get(F),r.get(F));null!==V&&M.set(F,V),a=a.add(F)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,M))}return le.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const d=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(oo());let f=-1,y=a;return d.next(w=>le.forEach(w,(D,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(D)?le.resolve():this.getBaseDocument(e,D,M).next(F=>{y=y.insert(D,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,Lt())).next(D=>({batchId:f,changes:cb(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=uy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=uy();return this.indexManager.getCollectionParents(e,i).next(d=>le.forEach(d,f=>{const y=(w=t,D=f.child(i),new so(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((D,M)=>{a=a.insert(D,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Dn.newInvalidDocument(w)))});let d=uy();return i.forEach((f,y)=>{const w=a.get(f);void 0!==w&&Fh(w.mutation,y,ts.empty(),Cn.now()),Zc(t,y)&&(d=d.insert(f,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):le.resolve(Dn.newInvalidDocument(t))}}class DI{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return le.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:jr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:pI(r.bundledQuery),readTime:jr(r.readTime)}),le.resolve();var r}}class yx{constructor(){this.overlays=new sr(qe.comparator),this.es=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=oo();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=oo(),a=t.length+1,d=new qe(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new sr((w,D)=>w-D);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=a.get(w.largestBatchId);null===D&&(D=oo(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=oo(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return le.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Eb(t,r));let a=this.es.get(t);void 0===a&&(a=Lt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class Gp{constructor(){this.ns=new mn(Mr.ss),this.rs=new mn(Mr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Mr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Mr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new qt([])),r=new Mr(t,e),i=new Mr(t,e+1),a=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),a.push(d.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new qt([])),r=new Mr(t,e),i=new Mr(t,e+1);let a=Lt();return this.rs.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new Mr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Nt(e._s,t._s)}static os(e,t){return Nt(e._s,t._s)||qe.comparator(e.key,t.key)}}class yA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new mn(Mr.ss)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const d=new my(a,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new Mr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,t){return le.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mr(t,0),i=new Mr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);a.push(f)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mn(Nt);return t.forEach(i=>{const a=new Mr(i,0),d=new Mr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,d],f=>{r=r.add(f._s)})}),le.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const d=new Mr(new qe(a),0);let f=new mn(Nt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y._s)),!0)},d),le.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return le.forEach(t.mutations,i=>{const a=new Mr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Mr(t,0),i=this.gs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TI{constructor(e){this.Es=e,this.docs=new sr(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Ni();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dn.newInvalidDocument(i))}),le.resolve(r)}getAllFromCollection(e,t,r){let i=Ni();const a=new qe(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Qg(Hv(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Je()}As(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _x(this)}getSize(e){return le.resolve(this.size)}}class _x extends fA{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class _A{constructor(e){this.persistence=e,this.Rs=new Al(t=>Mu(t),xh),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Gp,this.targetCount=0,this.vs=sd.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),le.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Dn(t),le.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ps.containsKey(t))}}class AI{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new es(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new _A(this),this.indexManager=new zh,this.remoteDocumentCache=new TI(r=>this.referenceDelegate.xs(r)),this.It=new Ib(t),this.Ns=new DI(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new yA(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new vA(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,t){return le.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class vA extends $v{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Fs=new Gp,this.$s=null}static Bs(e){return new ad(e)}get Ls(){if(this.$s)return this.$s;throw Je()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),le.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,r=>{const i=qe.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,_t.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return le.or([()=>le.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class bA{constructor(e){this.It=e}$(e,t,r,i){const a=new Jg("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aI,{unique:!0}),f.createObjectStore("documentMutations"),wA(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=le.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),wA(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aI,{unique:!0});const D=y.store("mutations"),M=w.map(F=>D.put(F));return le.waitFor(M)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(a))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:_b});y.createIndex("collectionPathOverlayIndex",vb,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",sA,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:nA});y.createIndex("documentKeyIndex",lI),y.createIndex("collectionGroupIndex",uI)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,a))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:hx}).createIndex("sequenceNumberIndex",gb,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:yb}).createIndex("documentKeyIndex",dI,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=wy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>le.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>le.forEach(f,y=>{Mt(y.userId===a.userId);const w=nd(this.It,y);return Mb(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((d,f)=>{const y=new qt(d),w=[0,$r(y)];a.push(t.get(w).next(D=>D?le.resolve():t.put({targetId:0,path:$r(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:iA});const r=t.store("collectionParents"),i=new Tb,a=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:$r(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const y=new qt(d);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,y],w)=>{const D=Ma(f);return a(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=Lp(i),d=lA(this.It,a);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,d)=>{const f=t.store("remoteDocumentsV14"),y=(w=d,w.document?new qe(qt.fromString(w.document.name).popFirst(5)):w.noDocument?qe.fromSegments(w.noDocument.path):w.unknownDocument?qe.fromSegments(w.unknownDocument.path):Je()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(D))}).next(()=>le.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=pA(this.It),a=new AI(ad.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(y=>{var w;let D=null!==(w=f.get(y.userId))&&void 0!==w?w:Lt();nd(this.It,y).keys().forEach(M=>D=D.add(M)),f.set(y.userId,D)}),le.forEach(f,(y,w)=>{const D=new Ur(w),M=Vp.oe(this.It,D),F=a.getIndexManager(D),V=$p.oe(D,this.It,F,a.referenceDelegate);return new Pb(i,V,M,F).recalculateAndSaveOverlaysForDocumentKeys(new py(t,es.at),y).next()})})}}function wA(n){n.createObjectStore("targetDocuments",{keyPath:cI}).createIndex("documentTargetsIndex",rA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mb,{unique:!0}),n.createObjectStore("targetGlobal")}const SI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class MI{constructor(e,t,r,i,a,d,f,y,w,D,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=d,this.document=f,this.Js=w,this.Ys=D,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!MI.C())throw new ke(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new px(this,i),this.ii=t+"main",this.It=new Ib(y),this.ri=new Uo(this.ii,this.Xs,new bA(this.It)),this.Cs=new EI(this.referenceDelegate,this.It),this.remoteDocumentCache=pA(this.It),this.Ns=new uA,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,SI);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new es(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ge.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Iy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Su(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return zp(e).get("owner").next(t=>le.resolve(this.mi(t)))}gi(e){return Iy(e).delete(this.clientId)}yi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Sr(r,"clientMetadata");return i.W().next(a=>{const d=e.Ii(a,18e5),f=a.filter(y=>-1===d.indexOf(y));return le.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?le.resolve(!0):zp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,SI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Iy(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new py(t,es.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Iy(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return $p.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ab(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Vp.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(d=this.Xs)?wb:14===d?bb:13===d?fI:12===d?oA:11===d?hI:void Je();var d;let f;return this.ri.runTransaction(e,i,a,y=>(f=new py(y,this.Ss?this.Ss.next():es.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(de.FAILED_PRECONDITION,jv);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return zp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(de.FAILED_PRECONDITION,SI)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zp(e).put("owner",t)}static C(){return Uo.C()}_i(e){const t=zp(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,rn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zp(n){return Sr(n,"owner")}function Iy(n){return Sr(n,"clientMetadata")}function Fb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class xI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Lt(),i=Lt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new xI(e,t.fromCache,r,i)}}class kI{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Mi(e,t,i,r)).next(a=>a||this.Oi(e,t))}ki(e,t){if(Xv(t))return le.resolve(null);let r=ns(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ty(t,null,"F"),r=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const d=Lt(...a);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,f);return this.$i(t,w,d,y.readTime)?this.ki(e,ty(t,null,"F")):this.Bi(e,w,t,y)}))})))}Mi(e,t,r,i){return Xv(t)||i.isEqual(_t.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(a=>{const d=this.Fi(t,a);return this.$i(t,d,r,i)?this.Oi(e,t):(Fv()<=Po.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nb(t)),this.Bi(e,d,t,Uv(i,-1)))})}Fi(e,t){let r=new mn(rb(e));return t.forEach((i,a)=>{Zc(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,t){return Fv()<=Po.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",nb(t)),this.Ni.getDocumentsMatchingQuery(e,t,Xi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class RI{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new sr(Nt),this.qi=new Al(a=>Mu(a),xh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Lb(n,e,t,r){return new RI(n,e,t,r)}function EA(n,e){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,ge.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let y=Lt();for(const w of i){d.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),Cs.apply(this,arguments)}function IA(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,w){const D=y.batch,M=D.keys();let F=le.resolve();return M.forEach(V=>{F=F.next(()=>w.getEntry(f,V)).next(U=>{const te=y.docVersions.get(V);Mt(null!==te),U.version.compareTo(te)<0&&(D.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),w.addEntry(U)))})}),F.next(()=>d.mutationQueue.removeMutationBatch(f,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Lt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Cy(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function CA(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((D,M)=>{const F=i.get(M);if(!F)return;f.push(t.Cs.removeMatchingKeys(a,D.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(a,D.addedDocuments,M)));let V=F.withSequenceNumber(a.currentSequenceNumber);var U,te,ve;e.targetMismatches.has(M)?V=V.withResumeToken(Cr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):D.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(D.resumeToken,r)),i=i.insert(M,V),te=V,ve=D,(0===(U=F).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,V))});let y=Ni(),w=Lt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(Ds(a,d,e.documentUpdates).next(D=>{y=D.Wi,w=D.zi})),!r.isEqual(_t.min())){const D=t.Cs.getLastRemoteSnapshotVersion(a).next(M=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(D)}return le.waitFor(f).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ui=i,a))}function Ds(n,e,t){let r=Lt(),i=Lt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let d=Ni();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(_t.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):Ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function DA(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pu(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Sl(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Kh(n,e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,ge.Z)(function*(n,e,t){const r=Ke(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Su(d))throw d;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),Vb.apply(this,arguments)}function Zh(n,e,t){const r=Ke(n);let i=_t.min(),a=Lt();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,w){const D=Ke(f),M=D.qi.get(w);return void 0!==M?le.resolve(D.Ui.get(M)):D.Cs.getTargetData(y,w)}(r,d,ns(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{a=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:_t.min(),t?a:Lt())).next(f=>(NI(r,xE(e),f),{documents:f,Hi:a})))}function Bb(n,e){const t=Ke(n),r=Ke(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(d=>d?d.target:null))}function Ub(n,e){const t=Ke(n),r=t.Ki.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Uv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(NI(t,e,i),i))}function NI(n,e,t){let r=_t.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function Dy(){return Dy=(0,ge.Z)(function*(n,e,t,r){const i=Ke(n);let a=Lt(),d=Ni();for(const w of t){const D=e.Ji(w.metadata.name);w.document&&(a=a.add(D));const M=e.Yi(w);M.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(D,M)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Pu(i,(w=r,ns(Rh(qt.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Ds(w,f,d).next(D=>(f.apply(w),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),Dy.apply(this,arguments)}function TA(n,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,ge.Z)(function*(n,e,t=Lt()){const r=yield Pu(n,ns(pI(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=jr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(Cr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Ty.apply(this,arguments)}function PI(n,e){return`firestore_clients_${n}_${e}`}function Ay(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xa(n,e){return`firestore_targets_${n}_${e}`}class qp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new ke(i.error.code,i.error.message))),d?new qp(e,t,i.state,a):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ld{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new ke(r.error.code,r.error.message))),a?new ld(e,r.state,i):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lo{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=kp();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Kv(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new lo(e,a):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hb{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hb(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class FI{constructor(){this.activeTargetIds=kp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jb{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new sr(Nt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=PI(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new FI),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(PI(e.persistenceKey,i));if(a){const d=lo.Zi(i,a);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xa(this.persistenceKey,e));if(r){const i=ld.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xa(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let d=es.at;if(null!=a)try{const f=JSON.parse(a);Mt("number"==typeof f),d=f}catch(f){yr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==es.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new qp(this.currentUser,e,t,r),a=Ay(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=Ay(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=xa(this.persistenceKey,e),a=new ld(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return lo.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return qp.Zi(new Ur(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return ld.Zi(i,t)}yr(e){return Hb.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),d=[],f=[];return a.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=kp();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class LI{constructor(){this.Lr=new FI,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new FI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AA{qr(e){}shutdown(){}}class VI{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const BI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vx{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class UI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const d=this.ao(e,t);Ne("RestConnection","Sending: ",d,r);const f={};return this.ho(f,i,a),this.lo(e,d,f,r).then(y=>(Ne("RestConnection","Received: ",y),y),y=>{throw Tu("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}fo(e,t,r,i,a,d){return this.co(e,t,r,i,a)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,t){return`${this.oo}/v1/${t}:${BI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((a,d)=>{const f=new IT;f.listenOnce(iE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Wg.NO_ERROR:const w=f.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(w)),a(w);break;case Wg.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),d(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:const D=f.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const F=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN}(M.status);d(new ke(F,M.message))}else d(new ke(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ke(de.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nE(),d=rE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new lx({})),this.ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");Ne("Connection","Creating WebChannel: "+y,f);const w=a.createWebChannel(y,f);let D=!1,M=!1;const F=new vx({Hr:U=>{M?Ne("Connection","Not sending because WebChannel is closed:",U):(D||(Ne("Connection","Opening WebChannel transport."),w.open(),D=!0),Ne("Connection","WebChannel sending:",U),w.send(U))},Jr:()=>w.close()}),V=(U,te,ve)=>{U.listen(te,Le=>{try{ve(Le)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return V(w,Kg.EventType.OPEN,()=>{M||Ne("Connection","WebChannel transport opened.")}),V(w,Kg.EventType.CLOSE,()=>{M||(M=!0,Ne("Connection","WebChannel transport closed"),F.io())}),V(w,Kg.EventType.ERROR,U=>{M||(M=!0,Tu("Connection","WebChannel transport errored:",U),F.io(new ke(de.UNAVAILABLE,"The operation could not be completed")))}),V(w,Kg.EventType.MESSAGE,U=>{var te;if(!M){const ve=U.data[0];Mt(!!ve);const Le=ve,Ye=Le.error||(null===(te=Le[0])||void 0===te?void 0:te.error);if(Ye){Ne("Connection","WebChannel received error:",Ye);const mt=Ye.status;let it=function(xt){const en=Dr[xt];if(void 0!==en)return BE(en)}(mt),Tt=Ye.message;void 0===it&&(it=de.INTERNAL,Tt="Unknown error status: "+mt+" with message "+Ye.message),M=!0,F.io(new ke(it,Tt)),w.close()}else Ne("Connection","WebChannel received:",ve),F.ro(ve)}}),V(d,sE.STAT_EVENT,U=>{U.stat===Ov.PROXY?Ne("Connection","Detected buffering proxy"):U.stat===Ov.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function HI(){return typeof window<"u"?window:null}function Wp(){return typeof document<"u"?document:null}function Sy(n){return new dx(n,!0)}class Kp{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class $b{constructor(e,t,r,i,a,d,f,y){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Kp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ge.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ge.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new ke(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ge.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jI extends $b{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function eI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Je(),i=e.targetChange.targetIds||[],a=function(y,w){return y.gt?(Mt(void 0===w||"string"==typeof w),Cr.fromBase64String(w||"")):(Mt(void 0===w||w instanceof Uint8Array),Cr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const w=void 0===y.code?de.UNKNOWN:BE(y.code);return new ke(w,y.message||"")}(d);t=new zE(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ta(n,r.document.name),a=jr(r.document.updateTime),d=new _r({mapValue:{fields:r.document.fields}}),f=Dn.newFoundDocument(i,a,d);t=new cy(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ta(n,r.document),a=r.readTime?jr(r.readTime):_t.min(),d=Dn.newNoDocument(i,a);t=new cy([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ta(n,r.document);t=new cy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,a=new ub(r.count||0);t=new GE(r.targetId,a)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return _t.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?_t.min():a.readTime?jr(a.readTime):_t.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Np(this.It),t.addTarget=function(i,a){let d;const f=a.target;return d=ey(f)?{documents:fb(i,f)}:{query:nI(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=KE(i,a.resumeToken):a.snapshotVersion.compareTo(_t.min())>0&&(d.readTime=dy(i,a.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function rI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Np(this.It),t.removeTarget=e,this.Bo(t)}}class $I extends $b{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function tI(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let a=jr(r.updateTime?r.updateTime:i);return a.isEqual(_t.min())&&(a=jr(i)),new GT(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.Zo(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Np(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Hh(this.It,r))};this.Bo(t)}}class GI extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(de.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.Vo.fo(e,t,r,a,d,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(de.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class zI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yr(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class My{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{r.enqueueAndForget((0,ge.Z)(function*(){var y;Lu(d)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ge.Z)(function*(w){const D=Ke(w);D._u.add(4),yield Yh(D),D.gu.set("Unknown"),D._u.delete(4),yield Fu(D)}),function(w){return y.apply(this,arguments)})(d))}))}),this.gu=new zI(r,i)}}function Fu(n){return xy.apply(this,arguments)}function xy(){return xy=(0,ge.Z)(function*(n){if(Lu(n))for(const e of n.wu)yield e(!0)}),xy.apply(this,arguments)}function Yh(n){return ky.apply(this,arguments)}function ky(){return ky=(0,ge.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ky.apply(this,arguments)}function Zp(n,e){const t=Ke(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ry(t)?qI(t):ef(t).ko()&&Gb(t,e))}function Yp(n,e){const t=Ke(n),r=ef(t);t.du.delete(e),r.ko()&&SA(t,e),0===t.du.size&&(r.ko()?r.Fo():Lu(t)&&t.gu.set("Unknown"))}function Gb(n,e){n.yu.Ot(e.targetId),ef(n).zo(e)}function SA(n,e){n.yu.Ot(e),ef(n).Ho(e)}function qI(n){n.yu=new WE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),ef(n).start(),n.gu.uu()}function Ry(n){return Lu(n)&&!ef(n).No()&&n.du.size>0}function Lu(n){return 0===Ke(n)._u.size}function WI(n){n.yu=void 0}function MA(n){return KI.apply(this,arguments)}function KI(){return KI=(0,ge.Z)(function*(n){n.du.forEach((e,t)=>{Gb(n,e)})}),KI.apply(this,arguments)}function bx(n,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,ge.Z)(function*(n,e){WI(n),Ry(n)?(n.gu.hu(e),qI(n)):n.gu.set("Unknown")}),ZI.apply(this,arguments)}function wx(n,e,t){return YI.apply(this,arguments)}function YI(){return YI=(0,ge.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof zE&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ny(n,r)}else if(e instanceof cy?n.yu.Gt(e):e instanceof GE?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(_t.min()))try{const r=yield Cy(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.yu.te(a);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.du.get(y);w&&i.du.set(y,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const y=i.du.get(f);if(!y)return;i.du.set(f,y.withResumeToken(Cr.EMPTY_BYTE_STRING,y.snapshotVersion)),SA(i,f);const w=new Sl(y.target,f,1,y.sequenceNumber);Gb(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield Ny(n,r)}var r}),YI.apply(this,arguments)}function Ny(n,e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ge.Z)(function*(n,e,t){if(!Su(e))throw e;n._u.add(1),yield Yh(n),n.gu.set("Offline"),t||(t=()=>Cy(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Fu(n)}))}),Qh.apply(this,arguments)}function QI(n,e){return e().catch(t=>Ny(n,t,e))}function Jh(n){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,ge.Z)(function*(n){const e=Ke(n),t=xl(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ud(e);)try{const i=yield DA(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,JI(e,i)}catch(i){yield Ny(e,i)}Py(e)&&Fy(e)}),Oy.apply(this,arguments)}function ud(n){return Lu(n)&&n.fu.length<10}function JI(n,e){n.fu.push(e);const t=xl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Py(n){return Lu(n)&&!xl(n).No()&&n.fu.length>0}function Fy(n){xl(n).start()}function xA(n){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ge.Z)(function*(n){xl(n).eu()}),Qp.apply(this,arguments)}function zb(n){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,ge.Z)(function*(n){const e=xl(n);for(const t of n.fu)e.Xo(t.mutations)}),Xh.apply(this,arguments)}function Ex(n,e,t){return XI.apply(this,arguments)}function XI(){return XI=(0,ge.Z)(function*(n,e,t){const r=n.fu.shift(),i=gy.from(r,e,t);yield QI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jh(n)}),XI.apply(this,arguments)}function Ix(n,e){return eC.apply(this,arguments)}function eC(){return eC=(0,ge.Z)(function*(n,e){var t;e&&xl(n).Yo&&(yield(t=(0,ge.Z)(function*(r,i){if(ly(a=i.code)&&a!==de.ABORTED){const d=r.fu.shift();xl(r).Oo(),yield QI(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Jh(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Py(n)&&Fy(n)}),eC.apply(this,arguments)}function qb(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,ge.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Lu(t);t._u.add(3),yield Yh(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Fu(t)}),Wb.apply(this,arguments)}function Kb(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,ge.Z)(function*(n,e){const t=Ke(n);e?(t._u.delete(2),yield Fu(t)):e||(t._u.add(2),yield Yh(t),t.gu.set("Unknown"))}),Zb.apply(this,arguments)}function ef(n){return n.pu||(n.pu=function(e,t,r){const i=Ke(e);return i.su(),new jI(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:MA.bind(null,n),Zr:bx.bind(null,n),Wo:wx.bind(null,n)}),n.wu.push(function(){var e=(0,ge.Z)(function*(t){t?(n.pu.Oo(),Ry(n)?qI(n):n.gu.set("Unknown")):(yield n.pu.stop(),WI(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function xl(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ke(e);return i.su(),new $I(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:xA.bind(null,n),Zr:Ix.bind(null,n),tu:zb.bind(null,n),Zo:Ex.bind(null,n)}),n.wu.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Iu.Oo(),yield Jh(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ly{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new Ly(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(n,e){if(yr("AsyncQueue",`${e}: ${n}`),Su(n))return new ke(de.UNAVAILABLE,`${e}: ${n}`);throw n}class tf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=uy(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new tf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tC{constructor(){this.Tu=new sr(qe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Je():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dd{constructor(e,t,r,i,a,d,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new dd(e,t,tf.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yb{constructor(){this.Au=void 0,this.listeners=[]}}class Cx{constructor(){this.queries=new Al(e=>ME(e),Oh),this.onlineState="Unknown",this.Ru=new Set}}function Vy(n,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,ge.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new Yb),i)try{a.Au=yield t.onListen(r)}catch(d){const f=cd(d,`Initialization of query '${nb(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&Xb(t)}),Jp.apply(this,arguments)}function Qb(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,ge.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Jb.apply(this,arguments)}function Dx(n,e){const t=Ke(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Pu(i)&&(r=!0);d.Au=i}}r&&Xb(t)}function Tx(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Xb(n){n.Ru.forEach(e=>{e.next()})}class e0{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class kA{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class RA{constructor(e){this.It=e}Ji(e){return Ta(this.It,e)}Yi(e){return e.metadata.exists?Uh(this.It,e.document,!1):Dn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return jr(e)}}class Ax{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NA(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new RA(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Lt()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function OI(n,e,t,r){return Dy.apply(this,arguments)}(e.localStore,new RA(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield TA(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function NA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OA{constructor(e){this.key=e}}class PA{constructor(e){this.key=e}}class nC{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Lt(),this.mutatedKeys=Lt(),this.Ku=rb(e),this.Gu=new tf(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new tC,i=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,M)=>{const F=i.get(D),V=Zc(this.query,M)?M:null,U=!!F&&this.mutatedKeys.has(F.key),te=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ve=!1;F&&V?F.data.isEqual(V.data)?U!==te&&(r.track({type:3,doc:V}),ve=!0):this.zu(F,V)||(r.track({type:2,doc:V}),ve=!0,(y&&this.Ku(V,y)>0||w&&this.Ku(V,w)<0)&&(f=!0)):!F&&V?(r.track({type:0,doc:V}),ve=!0):F&&!V&&(r.track({type:1,doc:F}),ve=!0,(y||w)&&(f=!0)),ve&&(V?(d=d.add(V),a=te?a.add(D):a.delete(D)):(d=d.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{Gu:d,Wu:r,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((w,D)=>function(M,F){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return V(M)-V(F)}(w.type,D.type)||this.Ku(w.doc,D.doc)),this.Hu(r);const d=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,y=f!==this.Uu;return this.Uu=f,0!==a.length||y?{snapshot:new dd(this.query,e.Gu,i,a,e.mutatedKeys,0===f,y,!1),Yu:d}:{Yu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new tC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Lt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new PA(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new OA(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Lt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return dd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Sx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Mx{constructor(e){this.key=e,this.ec=!1}}class xx{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new Al(f=>ME(f),Oh),this.ic=new Map,this.rc=new Set,this.oc=new sr(qe.comparator),this.uc=new Map,this.cc=new Gp,this.ac={},this.hc=new Map,this.lc=sd.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function kx(n,e){return rC.apply(this,arguments)}function rC(){return rC=(0,ge.Z)(function*(n,e){const t=HA(n);let r,i;const a=t.sc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const d=yield Pu(t.localStore,ns(e));t.isPrimaryClient&&Zp(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield iC(t,e,r,"current"===f)}return i}),rC.apply(this,arguments)}function iC(n,e,t,r){return s.apply(this,arguments)}function s(){return s=(0,ge.Z)(function*(n,e,t,r){n.dc=(D,M,F)=>{return(V=(0,ge.Z)(function*(U,te,ve,Le){let Ye=te.view.ju(ve);Ye.$i&&(Ye=yield Zh(U.localStore,te.query,!1).then(({documents:Tt})=>te.view.ju(Tt,Ye)));const mt=Le&&Le.targetChanges.get(te.targetId),it=te.view.applyChanges(Ye,U.isPrimaryClient,mt);return Et(U,te.targetId,it.Yu),it.snapshot}),function(U,te,ve,Le){return V.apply(this,arguments)})(n,D,M,F);var V};const i=yield Zh(n.localStore,e,!0),a=new nC(e,i.Hi),d=a.ju(i.documents),f=Bh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=a.applyChanges(d,n.isPrimaryClient,f);Et(n,t,y.Yu);const w=new Sx(e,t,a);return n.sc.set(e,w),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),s.apply(this,arguments)}function o(n,e){return l.apply(this,arguments)}function l(){return l=(0,ge.Z)(function*(n,e){const t=Ke(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(a=>!Oh(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Kh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Yp(t.remoteStore,r.targetId),ft(t,r.targetId)}).catch(Cl))):(ft(t,r.targetId),yield Kh(t.localStore,r.targetId,!0))}),l.apply(this,arguments)}function h(){return h=(0,ge.Z)(function*(n,e,t){const r=jA(n);try{const i=yield function(a,d){const f=Ke(a),y=Cn.now(),w=d.reduce((F,V)=>F.add(V.key),Lt());let D,M;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let V=Ni(),U=Lt();return f.Gi.getEntries(F,w).next(te=>{V=te,V.forEach((ve,Le)=>{Le.isValidDocument()||(U=U.add(ve))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,V)).next(te=>{D=te;const ve=[];for(const Le of d){const Ye=zT(Le,D.get(Le.key).overlayedDocument);null!=Ye&&ve.push(new Tl(Le.key,Ye,EE(Ye.value.mapValue),Un.exists(!0)))}return f.mutationQueue.addMutationBatch(F,y,ve,d)}).next(te=>{M=te;const ve=te.applyToLocalDocumentSet(D,U);return f.documentOverlayCache.saveOverlays(F,te.batchId,ve)})}).then(()=>({batchId:M.batchId,changes:cb(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let y=a.ac[a.currentUser.toKey()];y||(y=new sr(Nt)),y=y.insert(d,f),a.ac[a.currentUser.toKey()]=y}(r,i.batchId,t),yield Pi(r,i.changes),yield Jh(r.remoteStore)}catch(i){const a=cd(i,"Failed to persist write");t.reject(a)}}),h.apply(this,arguments)}function m(n,e){return v.apply(this,arguments)}function v(){return v=(0,ge.Z)(function*(n,e){const t=Ke(n);try{const r=yield CA(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.uc.get(a);d&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.ec=!0:i.modifiedDocuments.size>0?Mt(d.ec):i.removedDocuments.size>0&&(Mt(d.ec),d.ec=!1))}),yield Pi(t,r,e)}catch(r){yield Cl(r)}}),v.apply(this,arguments)}function E(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((a,d)=>{const f=d.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=Ke(a);f.onlineState=d;let y=!1;f.queries.forEach((w,D)=>{for(const M of D.listeners)M.bu(d)&&(y=!0)}),y&&Xb(f)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function I(n,e,t){return A.apply(this,arguments)}function A(){return A=(0,ge.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),a=i&&i.key;if(a){let d=new sr(qe.comparator);d=d.insert(a,Dn.newNoDocument(a,_t.min()));const f=Lt().add(a),y=new Vh(_t.min(),new Map,new mn(Nt),d,f);yield m(r,y),r.oc=r.oc.remove(a),r.uc.delete(e),Tn(r)}else yield Kh(r.localStore,e,!1).then(()=>ft(r,e,t)).catch(Cl)}),A.apply(this,arguments)}function k(n,e){return O.apply(this,arguments)}function O(){return O=(0,ge.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield IA(t.localStore,e);rt(t,r,null),$e(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pi(t,i)}catch(i){yield Cl(i)}}),O.apply(this,arguments)}function q(n,e,t){return ee.apply(this,arguments)}function ee(){return ee=(0,ge.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(a,d){const f=Ke(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,d).next(D=>(Mt(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(y,D))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);rt(r,e,t),$e(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pi(r,i)}catch(i){yield Cl(i)}}),ee.apply(this,arguments)}function Fe(){return Fe=(0,ge.Z)(function*(n,e){const t=Ke(n);Lu(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=Ke(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=cd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Fe.apply(this,arguments)}function $e(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function rt(n,e,t){const r=Ke(n);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function ft(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||Se(n,r)})}function Se(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Yp(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),Tn(n))}function Et(n,e,t){for(const r of t)r instanceof OA?(n.cc.addReference(r.key,e),un(n,r)):r instanceof PA?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Se(n,r.key)):Je()}function un(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.rc.add(r),Tn(n))}function Tn(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new qe(qt.fromString(e)),r=n.lc.next();n.uc.set(r,new Mx(t)),n.oc=n.oc.insert(t,r),Zp(n.remoteStore,new Sl(ns(Rh(t.path)),r,2,es.at))}}function Pi(n,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,ge.Z)(function*(n,e,t){const r=Ke(n),i=[],a=[],d=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,y)=>{d.push(r.dc(y,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),i.push(w);const D=xI.Ci(y.targetId,w);a.push(D)}}))}),yield Promise.all(d),r.nc.Wo(i),yield(f=(0,ge.Z)(function*(y,w){const D=Ke(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>le.forEach(w,F=>le.forEach(F.Si,V=>D.persistence.referenceDelegate.addReference(M,F.targetId,V)).next(()=>le.forEach(F.Di,V=>D.persistence.referenceDelegate.removeReference(M,F.targetId,V)))))}catch(M){if(!Su(M))throw M;Ne("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const F=M.targetId;if(!M.fromCache){const V=D.Ui.get(F),te=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.Ui=D.Ui.insert(F,te)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),Xp.apply(this,arguments)}function t0(n,e){return em.apply(this,arguments)}function em(){return em=(0,ge.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield EA(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(d=>{d.forEach(f=>{f.reject(new ke(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pi(t,r.ji)}var i}),em.apply(this,arguments)}function n0(n,e){const t=Ke(n),r=t.uc.get(e);if(r&&r.ec)return Lt().add(r.key);{let i=Lt();const a=t.ic.get(e);if(!a)return i;for(const d of a){const f=t.sc.get(d);i=i.unionWith(f.view.Qu)}return i}}function r0(n,e){return tm.apply(this,arguments)}function tm(){return tm=(0,ge.Z)(function*(n,e){const t=Ke(n),r=yield Zh(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&Et(t,e.targetId,i.Yu),i}),tm.apply(this,arguments)}function s0(n,e){return nm.apply(this,arguments)}function nm(){return nm=(0,ge.Z)(function*(n,e){const t=Ke(n);return Ub(t.localStore,e).then(r=>Pi(t,r))}),nm.apply(this,arguments)}function o0(n,e,t,r){return FA.apply(this,arguments)}function FA(){return FA=(0,ge.Z)(function*(n,e,t,r){const i=Ke(n),a=yield function(d,f){const y=Ke(d),w=Ke(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,f).next(M=>M?y.localDocuments.getDocuments(D,M):le.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Jh(i.remoteStore):"acknowledged"===t||"rejected"===t?(rt(i,e,r||null),$e(i,e),f=e,Ke(Ke(i.localStore).mutationQueue).An(f)):Je(),yield Pi(i,a)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),FA.apply(this,arguments)}function LA(){return LA=(0,ge.Z)(function*(n,e){const t=Ke(n);if(HA(t),jA(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Rx(t,r.toArray());t.fc=!0,yield Kb(t.remoteStore,!0);for(const a of i)Zp(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(ft(t,d),Kh(t.localStore,d,!0))),Yp(t.remoteStore,d)}),yield i,yield Rx(t,r),function(a){const d=Ke(a);d.uc.forEach((f,y)=>{Yp(d.remoteStore,y)}),d.cc.fs(),d.uc=new Map,d.oc=new sr(qe.comparator)}(t),t.fc=!1,yield Kb(t.remoteStore,!1)}}),LA.apply(this,arguments)}function Rx(n,e,t){return VA.apply(this,arguments)}function VA(){return VA=(0,ge.Z)(function*(n,e,t){const r=Ke(n),i=[],a=[];for(const d of e){let f;const y=r.ic.get(d);if(y&&0!==y.length){f=yield Pu(r.localStore,ns(y[0]));for(const w of y){const D=r.sc.get(w),M=yield r0(r,D);M.snapshot&&a.push(M.snapshot)}}else{const w=yield Bb(r.localStore,d);f=yield Pu(r.localStore,w),yield iC(r,Nx(w),d,!1)}i.push(f)}return r.nc.Wo(a),i}),VA.apply(this,arguments)}function Nx(n){return SE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function F1(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).vi()}function L1(n,e,t,r){return BA.apply(this,arguments)}function BA(){return BA=(0,ge.Z)(function*(n,e,t,r){const i=Ke(n);if(i.fc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const a=i.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield Ub(i.localStore,xE(a[0])),f=Vh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Pi(i,d,f);break}case"rejected":yield Kh(i.localStore,e,!0),ft(i,e,r);break;default:Je()}}),BA.apply(this,arguments)}function V1(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,ge.Z)(function*(n,e,t){const r=HA(n);if(r.fc){for(const i of e){if(r.ic.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const a=yield Bb(r.localStore,i),d=yield Pu(r.localStore,a);yield iC(r,Nx(a),d.targetId,!1),Zp(r.remoteStore,d)}for(const i of t)r.ic.has(i)&&(yield Kh(r.localStore,i,!1).then(()=>{Yp(r.remoteStore,i),ft(r,i)}).catch(Cl))}}),UA.apply(this,arguments)}function HA(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I.bind(null,e),e.nc.Wo=Dx.bind(null,e.eventManager),e.nc._c=Tx.bind(null,e.eventManager),e}function jA(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q.bind(null,e),e}class Ox{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.It=Sy(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Lb(this.persistence,new kI,e.initialUser,this.It)}gc(e){return new AI(ad.Bs,this.It)}mc(e){return new LI}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Px extends Ox{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield jA(r.Ec.syncEngine),yield Jh(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Lb(this.persistence,new kI,e.initialUser,this.It)}Ic(e,t){return new fx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new NT(t,this.persistence);return new RT(e.asyncQueue,r)}gc(e){const t=Fb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Oi.withCacheSize(this.cacheSizeBytes):Oi.DEFAULT;return new MI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,HI(),Wp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new LI}}class U1 extends Px{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof jb&&(r.sharedClientState.syncEngine={Fr:o0.bind(null,i),$r:L1.bind(null,i),Br:V1.bind(null,i),vi:F1.bind(null,i),Or:s0.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,ge.Z)(function*(d){yield function P1(n,e){return LA.apply(this,arguments)}(r.Ec.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}mc(e){const t=HI();if(!jb.C(t))throw new ke(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Fb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class $A{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>E(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=t0.bind(null,r.syncEngine),yield Kb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cx}createDatastore(e){const t=Sy(e.databaseInfo.databaseId),r=new UI(e.databaseInfo);return new GI(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>E(this.syncEngine,f,0),d=VI.C()?new VI:new AA,new My(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,y,w){const D=new xx(r,i,a,d,f,y);return w&&(D.fc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=Ke(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Yh(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Fx(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class H1{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ni,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const a=yield e.Dc(i);return new kA(JSON.parse(a),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ge.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class j1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ge.Z)(function*(a,d){const f=Ke(a),y=Np(f.It)+"/documents",w={documents:d.map(V=>Rp(f.It,V))},D=yield f.fo("BatchGetDocuments",y,w,d.length),M=new Map;D.forEach(V=>{const U=function XE(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=Ta(t,r.found.name),a=jr(r.found.updateTime),d=new _r({mapValue:{fields:r.found.fields}});return Dn.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=Ta(t,r.missing),a=jr(r.readTime);return Dn.newNoDocument(i,a)}(n,e):Je()}(f.It,V);M.set(U.key.toString(),U)});const F=[];return d.forEach(V=>{const U=M.get(V.toString());Mt(!!U),F.push(U)}),F}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=qe.fromPath(i);e.mutations.push(new ay(a,e.precondition(a)))}),yield(r=(0,ge.Z)(function*(i,a){const d=Ke(i),f=Np(d.It)+"/documents",y={writes:a.map(w=>Hh(d.It,w))};yield d.co("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?Un.exists(!1):Un.updateTime(t):Un.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new ke(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Un.updateTime(t)}return Un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $1{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new Kp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ge.Z)(function*(){const t=new j1(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Oc(a)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Xg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ly(t)}return!1}}class G1{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ur.UNAUTHENTICATED,this.clientId=aE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ge.Z)(function*(f){Ne("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ne("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=cd(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Lx(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ge.Z)(function*(a){r.isEqual(a)||(yield EA(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),GA.apply(this,arguments)}function Vx(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qA(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>qb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>qb(e.remoteStore,a)),n.onlineComponents=e}),zA.apply(this,arguments)}function qA(n){return WA.apply(this,arguments)}function WA(){return WA=(0,ge.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield Lx(n,new Ox)),n.offlineComponents}),WA.apply(this,arguments)}function oC(n){return KA.apply(this,arguments)}function KA(){return KA=(0,ge.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield Vx(n,new $A)),n.onlineComponents}),KA.apply(this,arguments)}function Bx(n){return qA(n).then(e=>e.persistence)}function aC(n){return qA(n).then(e=>e.localStore)}function Ux(n){return oC(n).then(e=>e.remoteStore)}function ZA(n){return oC(n).then(e=>e.syncEngine)}function By(n){return YA.apply(this,arguments)}function YA(){return YA=(0,ge.Z)(function*(n){const e=yield oC(n),t=e.eventManager;return t.onListen=kx.bind(null,e.syncEngine),t.onUnlisten=o.bind(null,e.syncEngine),t}),YA.apply(this,arguments)}function Hx(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,a,d,f,y){const w=new sC({next:M=>{a.enqueueAndForget(()=>Qb(i,D));const F=M.docs.has(d);!F&&M.fromCache?y.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?y.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),D=new e0(Rh(d.path),w,{includeMetadataChanges:!0,Nu:!0});return Vy(i,D)}(yield By(n),n.asyncQueue,e,t,r)})),r.promise}function jx(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,a,d,f,y){const w=new sC({next:M=>{a.enqueueAndForget(()=>Qb(i,D)),M.fromCache&&"server"===f.source?y.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),D=new e0(d,w,{includeMetadataChanges:!0,Nu:!0});return Vy(i,D)}(yield By(n),n.asyncQueue,e,t,r)})),r.promise}const $x=new Map;function QA(n,e,t){if(!t)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gx(n,e,t,r){if(!0===e&&!0===r)throw new ke(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zx(n){if(!qe.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qx(n){if(qe.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lC(n);throw new ke(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wx(n,e){if(e<=0)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Kx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Vv;switch(t.type){case"gapi":return new wa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$x.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),$x.delete(e),t.terminate())}(this),Promise.resolve()}}class Kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Vu extends rs{constructor(e,t,r){super(e,t,Rh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new qe(e))}withConverter(e){return new Vu(this.firestore,e,this._path)}}function Zx(n,e,...t){if(n=(0,rn.m9)(n),QA("collection","path",e),n instanceof a0){const r=qt.fromString(e,...t);return qx(r),new Vu(n,null,r)}{if(!(n instanceof Kn||n instanceof Vu))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return qx(r),new Vu(n.firestore,null,r)}}function uC(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=aE.R()),QA("doc","path",e),n instanceof a0){const r=qt.fromString(e,...t);return zx(r),new Kn(n,null,new qe(r))}{if(!(n instanceof Kn||n instanceof Vu))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return zx(r),new Kn(n.firestore,n instanceof Vu?n.converter:null,new qe(r))}}function Yx(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof Kn||n instanceof Vu)&&(e instanceof Kn||e instanceof Vu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Qx(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof rs&&e instanceof rs&&n.firestore===e.firestore&&Oh(n._query,e._query)&&n.converter===e.converter}class tP{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Kp(this,"async_queue_retry"),this.jc=()=>{const t=Wp();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ni;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Su(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=Ly.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Je()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function JA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class nP{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends a0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tP,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jx(this),this._firestoreClient.terminate()}}function Gr(n){return n._firestoreClient||Jx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Jx(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ux(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new G1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Xx(n,e,t){const r=new ni;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield Lx(n,t),yield Vx(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(d=a).name?d.code===de.FAILED_PRECONDITION||d.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;Tu("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var d})).then(()=>r.promise)}function ek(n){if(n._initialized||n._terminated)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(Cr.fromBase64String(e))}catch(t){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bu(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rm{constructor(e){this._methodName=e}}class cC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const hP=/^__.*__$/;class fP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class tk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class dC{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new dC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return pC(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(nk(this.na)&&hP.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class pP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Sy(e)}fa(e,t,r,i=!1){return new dC({na:e,methodName:t,la:r,path:qn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function im(n){const e=n._freezeSettings(),t=Sy(n._databaseId);return new pP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hC(n,e,t,r,i,a={}){const d=n.fa(a.merge||a.mergeFields?2:0,e,t,i);nS("Data must be an object, but it was:",d,r);const f=sk(r,d);let y,w;if(a.merge)y=new ts(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const D=[];for(const M of a.mergeFields){const F=rS(e,M,t);if(!d.contains(F))throw new ke(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);ak(D,F)||D.push(F)}y=new ts(D),w=d.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,w=d.fieldTransforms;return new fP(new _r(f),y,w)}class l0 extends rm{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof l0}}function rk(n,e,t){return new dC({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class XA extends rm{_toFieldTransform(e){return new xp(e.path,new Yc)}isEqual(e){return e instanceof XA}}class mP extends rm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=rk(this,e,!0),r=this.da.map(a=>sm(a,t)),i=new Qc(r);return new xp(e.path,i)}isEqual(e){return this===e}}class gP extends rm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=rk(this,e,!0),r=this.da.map(a=>sm(a,t)),i=new Jc(r);return new xp(e.path,i)}isEqual(e){return this===e}}class yP extends rm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Ph(e.It,sb(e.It,this._a));return new xp(e.path,t)}isEqual(e){return this===e}}function eS(n,e,t,r){const i=n.fa(1,e,t);nS("Data must be an object, but it was:",i,r);const a=[],d=_r.empty();$c(r,(y,w)=>{const D=fC(e,y,t);w=(0,rn.m9)(w);const M=i.ua(D);if(w instanceof l0)a.push(D);else{const F=sm(w,M);null!=F&&(a.push(D),d.set(D,F))}});const f=new ts(a);return new tk(d,f,i.fieldTransforms)}function tS(n,e,t,r,i,a){const d=n.fa(1,e,t),f=[rS(e,r,t)],y=[i];if(a.length%2!=0)throw new ke(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(rS(e,a[F])),y.push(a[F+1]);const w=[],D=_r.empty();for(let F=f.length-1;F>=0;--F)if(!ak(w,f[F])){const V=f[F];let U=y[F];U=(0,rn.m9)(U);const te=d.ua(V);if(U instanceof l0)w.push(V);else{const ve=sm(U,te);null!=ve&&(w.push(V),D.set(V,ve))}}const M=new ts(w);return new tk(D,M,d.fieldTransforms)}function ik(n,e,t,r=!1){return sm(t,n.fa(r?4:3,e))}function sm(n,e){if(ok(n=(0,rn.m9)(n)))return nS("Unsupported field value:",e,n),sk(n,e);if(n instanceof rm)return function(t,r){if(!nk(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=sm(d,r.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sb(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Cn.fromDate(t);return{timestampValue:dy(r.It,i)}}if(t instanceof Cn){const i=new Cn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dy(r.It,i)}}if(t instanceof cC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bu)return{bytesValue:KE(r.It,t._byteString)};if(t instanceof Kn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${lC(t)}`)}(n,e)}function sk(n,e){const t={};return hE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(n,(r,i)=>{const a=sm(i,e.ia(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function ok(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Cn||n instanceof cC||n instanceof Bu||n instanceof Kn||n instanceof rm)}function nS(n,e,t){if(!ok(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lC(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function rS(n,e,t){if((e=(0,rn.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return fC(n,e);throw pC("Field path arguments must be of type string or ",n,!1,void 0,t)}const _P=new RegExp("[~\\*/\\[\\]]");function fC(n,e,t){if(e.search(_P)>=0)throw pC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw pC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pC(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||d)&&(y+=" (found",a&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new ke(de.INVALID_ARGUMENT,f+n+y)}function ak(n,e){return n.some(t=>t.isEqual(e))}class u0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vP extends u0{data(){return super.data()}}function mC(n,e){return"string"==typeof e?fC(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}class om{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends u0{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new c0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class c0 extends fd{data(e={}){return super.data(e)}}class nf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new om(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new c0(this._firestore,this._userDataWriter,r.key,r,new om(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new c0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new om(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new c0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new om(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:bP(d.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function lk(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nf&&e instanceof nf&&n._firestore===e._firestore&&Qx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function uk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}function rf(n,...e){for(const t of e)n=t._apply(n);return n}class wP extends d0{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=im(e.firestore),r=function(i,a,d,f,y,w,D){let M;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){mk(D,w);const V=[];for(const U of D)V.push(pk(f,i,U));M={arrayValue:{values:V}}}else M=pk(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||mk(D,w),M=ik(d,"where",D,"in"===w||"not-in"===w);const F=ri.create(y,w,M);return function(V,U){if(U.dt()){const ve=eb(V);if(null!==ve&&!ve.isEqual(U.field))throw new ke(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ve.toString()}' and '${U.field.toString()}'`);const Le=Kc(V);null!==Le&&gk(0,U.field,Le)}const te=function(ve,Le){for(const Ye of ve.filters)if(Le.indexOf(Ye.op)>=0)return Ye.op;return null}(V,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==te)throw new ke(de.INVALID_ARGUMENT,te===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${te.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new rs(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new so(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class IP extends d0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Mp(i,a);return function(f,y){if(null===Kc(f)){const w=eb(f);null!==w&&gk(0,w,y.field)}}(r,d),d}(e._query,this.wa,this.ya);return new rs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new so(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ck extends d0{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new rs(e.firestore,e.converter,ty(e._query,this.pa,this.Ia))}}class dk extends d0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=fk(e,this.type,this.Ta,this.Ea);return new rs(e.firestore,e.converter,(i=t,new so((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class hk extends d0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=fk(e,this.type,this.Ta,this.Ea);return new rs(e.firestore,e.converter,(i=t,new so((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function fk(n,e,t,r){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof u0)return function(i,a,d,f,y){if(!f)throw new ke(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const D of Nh(i))if(D.field.isKeyField())w.push(vn(a,f.key));else{const M=f.data.field(D.field);if(Wv(M))throw new ke(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=D.field.canonicalString();throw new ke(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(M)}return new Wc(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=im(n.firestore);return function(a,d,f,y,w,D){const M=a.explicitOrderBy;if(w.length>M.length)throw new ke(de.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let V=0;V<w.length;V++){const U=w[V];if(M[V].field.isKeyField()){if("string"!=typeof U)throw new ke(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof U}`);if(!tb(a)&&-1!==U.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${U}' contains a slash.`);const te=a.path.child(qt.fromString(U));if(!qe.isDocumentKey(te))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const ve=new qe(te);F.push(vn(d,ve))}else{const te=ik(f,y,U);F.push(te)}}return new Wc(F,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function pk(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new ke(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tb(e)&&-1!==t.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qt.fromString(t));if(!qe.isDocumentKey(r))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vn(n,new qe(r))}if(t instanceof Kn)return vn(n,t._key);throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lC(t)}.`)}function mk(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gk(n,e,t){if(!t.isEqual(e))throw new ke(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const kP={maxAttempts:5};class iS{convertValue(e,t="none"){switch(qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const r={};return $c(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new cC(Wn(e.latitude),Wn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){const t=Ea(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qt.fromString(e);Mt(sI(r));const i=new Ca(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(t)||yr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function gC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class RP extends iS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}class yk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=im(e)}set(e,t,r){this._verifyNotCommitted();const i=sf(e,this._firestore),a=gC(i.converter,t,r),d=hC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Un.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=sf(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof hd?tS(this._dataReader,"WriteBatch.update",a._key,t,r,i):eS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sf(e,this._firestore);return this._mutations=this._mutations.concat(new ku(t._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sf(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new ke(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class am extends iS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}function _k(n,e,t){n=Xt(n,Kn);const r=Xt(n.firestore,or),i=gC(n.converter,e,t);return Uy(r,[hC(im(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Un.none())])}function vk(n,e,t,...r){n=Xt(n,Kn);const i=Xt(n.firestore,or),a=im(i);let d;return d="string"==typeof(e=(0,rn.m9)(e))||e instanceof hd?tS(a,"updateDoc",n._key,e,t,r):eS(a,"updateDoc",n._key,e),Uy(i,[d.toMutation(n._key,Un.exists(!0))])}function bk(n,...e){var t,r,i;n=(0,rn.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||JA(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(JA(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,w,D;if(n instanceof Kn)w=Xt(n.firestore,or),D=Rh(n._key.path),y={next:M=>{e[d]&&e[d](sS(w,n,M))},error:e[d+1],complete:e[d+2]};else{const M=Xt(n,rs);w=Xt(M.firestore,or),D=M._query;const F=new am(w);y={next:V=>{e[d]&&e[d](new nf(w,F,M,V))},error:e[d+1],complete:e[d+2]},uk(n._query)}return function(M,F,V,U){const te=new sC(U),ve=new e0(F,te,V);return M.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Vy(yield By(M),ve)})),()=>{te.Rc(),M.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Qb(yield By(M),ve)}))}}(Gr(w),D,f,y)}function Uy(n,e){return function(t,r){const i=new ni;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function c(n,e,t){return h.apply(this,arguments)}(yield ZA(t),r,i)})),i.promise}(Gr(n),e)}function sS(n,e,t){const r=t.docs.get(e._key),i=new am(n);return new fd(n,i,e._key,r,new om(t.hasPendingWrites,t.fromCache),e.converter)}class jP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=im(e)}get(e){const t=sf(e,this._firestore),r=new RP(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Je();const a=i[0];if(a.isFoundDocument())return new u0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new u0(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const i=sf(e,this._firestore),a=gC(i.converter,t,r),d=hC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=sf(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof hd?tS(this._dataReader,"Transaction.update",a._key,t,r,i):eS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=sf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sf(e,this._firestore),r=new am(this._firestore);return super.get(e).then(i=>new fd(this._firestore,r,t._key,i._document,new om(!1,!1),t.converter))}}function oS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ek(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function Ik(){if(!function fE(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Bn=Nc.SDK_VERSION,(0,Nc._registerComponent)(new Xf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),d=new or(new TT(t.getProvider("auth-internal")),new Bo(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Nc.registerVersion)(Pv,"3.5.0",n),(0,Nc.registerVersion)(Pv,"3.5.0","esm2017")}();class h0{constructor(e){this._delegate=e}static fromBase64String(e){return Ik(),new h0(Bu.fromBase64String(e))}static fromUint8Array(e){return Ek(),new h0(Bu.fromUint8Array(e))}toBase64(){return Ik(),this._delegate.toBase64()}toUint8Array(){return Ek(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aS(n){return function QP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class JP{enableIndexedDbPersistence(e,t){return function iP(n,e){ek(n=Xt(n,or));const t=Gr(n),r=n._freezeSettings(),i=new $A;return Xx(t,i,new Px(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function sP(n){ek(n=Xt(n,or));const e=Gr(n),t=n._freezeSettings(),r=new $A;return Xx(e,r,new U1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function oP(n){if(n._initialized&&!n._terminated)throw new ke(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!Uo.C())return Promise.resolve();const i=r+"main";yield Uo.delete(i)}),function(r){return t.apply(this,arguments)})(Fb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ck{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ca||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function X1(n,e,t,r={}){var i;const a=(n=Xt(n,a0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Tu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Ur.MOCK_USER;else{d=(0,rn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ur(y)}n._authCredentials=new ba(new Lv(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function lP(n){return function z1(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield Bx(n),t=yield Ux(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i._u.delete(0),Fu(i)}(t)}))}(Gr(n=Xt(n,or)))}(this._delegate)}disableNetwork(){return function uP(n){return function q1(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield Bx(n),t=yield Ux(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(i){const a=Ke(i);a._u.add(0),yield Yh(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Gr(n=Xt(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Gx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function aP(n){return function(e){const t=new ni;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function Ee(n,e){return Fe.apply(this,arguments)}(yield ZA(e),t)})),t.promise}(Gr(n=Xt(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function HP(n,e){return function Z1(n,e){const t=new sC(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield By(n),i=t,Ke(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield By(n),i=t,void Ke(r).Ru.delete(i);var r,i}))}}(Gr(n=Xt(n,or)),JA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hy(this,Zx(this._delegate,e))}catch(t){throw Ts(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,uC(this._delegate,e))}catch(t){throw Ts(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new As(this,function eP(n,e){if(n=Xt(n,a0),QA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(n,null,(t=e,new so(qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ts(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $P(n,e,t){n=Xt(n,or);const r=Object.assign(Object.assign({},kP),t);return function(i){if(i.maxAttempts<1)throw new ke(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Y1(n,e,t){const r=new ni;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const i=yield(a=n,oC(a).then(d=>d.datastore));var a;new $1(n.asyncQueue,i,t,e,r).run()})),r.promise}(Gr(n),i=>e(new jP(n,i)),r)}(this._delegate,t=>e(new Dk(this,t)))}batch(){return Gr(this._delegate),new Tk(new yk(this._delegate,e=>Uy(this._delegate,e)))}loadBundle(e){return function cP(n,e){const t=Gr(n=Xt(n,or)),r=new nP;return function Q1(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return Fx(y,w);if(y instanceof ArrayBuffer)return Fx(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new H1(y,d);var y}(t,Sy(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function B1(n,e,t){const r=Ke(n);var i;(i=(0,ge.Z)(function*(a,d,f){try{const y=yield d.getMetadata();if(yield function(F,V){const U=Ke(F),te=jr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",ve=>U.Ns.getBundleMetadata(ve,V.id)).then(ve=>!!ve&&ve.createTime.compareTo(te)>=0)}(a.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(NA(y));const w=new Ax(y,a.localStore,d.It);let D=yield d.wc();for(;D;){const F=yield w.Ou(D);F&&f._updateProgress(F),D=yield d.wc()}const M=yield w.complete();return yield Pi(a,M.Bu,void 0),yield function(F,V){const U=Ke(F);return U.persistence.runTransaction("Save bundle","readwrite",te=>U.Ns.saveBundleMetadata(te,V))}(a.localStore,y),f._completeWith(M.progress),Promise.resolve(M.$u)}catch(y){return Tu("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var F}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ZA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function dP(n,e){return function J1(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield aC(n),e)}))}(Gr(n=Xt(n,or)),e).then(t=>t?new rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new As(this,t):null)}}class yC extends iS{constructor(e){super(),this.firestore=e}convertBytes(e){return new h0(new Bu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class Dk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yC(e)}get(e){const t=um(e);return this._delegate.get(t).then(r=>new f0(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=um(e);return r?(oS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=um(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=um(e);return this._delegate.delete(t),this}}class Tk{constructor(e){this._delegate=e}set(e,t,r){const i=um(e);return r?(oS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=um(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=um(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new c0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new p0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new lm(e,new yC(e),t),i.set(t,a)),a}}lm.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new Kn(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new ka(t,new Kn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hy(this.firestore,Zx(this._delegate,e))}catch(t){throw Ts(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof Kn&&Yx(this._delegate,e)}set(e,t){t=oS("DocumentReference.set",t);try{return t?_k(this._delegate,e,t):_k(this._delegate,e)}catch(r){throw Ts(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vk(this._delegate,e):vk(this._delegate,e,t,...r)}catch(i){throw Ts(i,"updateDoc()","DocumentReference.update()")}}delete(){return function BP(n){return Uy(Xt(n.firestore,or),[new ku(n._key,Un.none())])}(this._delegate)}onSnapshot(...e){const t=Ak(e),r=Sk(e,i=>new f0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bk(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function OP(n){n=Xt(n,Kn);const e=Xt(n.firestore,or),t=Gr(e),r=new am(e);return function W1(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,a,d){try{const f=yield function(y,w){const D=Ke(y);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,w))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new ke(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=cd(f,`Failed to get document '${a} from cache`);d.reject(y)}}),function(i,a,d){return r.apply(this,arguments)})(yield aC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fd(e,r,n._key,i,new om(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function PP(n){n=Xt(n,Kn);const e=Xt(n.firestore,or);return Hx(Gr(e),n._key,{source:"server"}).then(t=>sS(e,n,t))}(this._delegate):function NP(n){n=Xt(n,Kn);const e=Xt(n.firestore,or);return Hx(Gr(e),n._key).then(t=>sS(e,n,t))}(this._delegate),t.then(r=>new f0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function Ts(n,e,t){return n.message=n.message.replace(e,t),n}function Ak(n){for(const e of n)if("object"==typeof e&&!aS(e))return e;return{}}function Sk(n,e){var t,r;let i;return i=aS(n[0])?n[0]:aS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class f0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lk(this._delegate,e._delegate)}}class p0 extends f0{data(e){const t=this._delegate.data(e);return function DT(n,e){n||Je()}(void 0!==t),t}}class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yC(e)}where(e,t,r){try{return new As(this.firestore,rf(this._delegate,function EP(n,e,t){const r=e,i=mC("where",n);return new wP(i,r,t)}(e,t,r)))}catch(i){throw Ts(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new As(this.firestore,rf(this._delegate,function CP(n,e="asc"){const t=e,r=mC("orderBy",n);return new IP(r,t)}(e,t)))}catch(r){throw Ts(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new As(this.firestore,rf(this._delegate,function DP(n){return Wx("limit",n),new ck("limit",n,"F")}(e)))}catch(t){throw Ts(t,"limit()","Query.limit()")}}limitToLast(e){try{return new As(this.firestore,rf(this._delegate,function TP(n){return Wx("limitToLast",n),new ck("limitToLast",n,"L")}(e)))}catch(t){throw Ts(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new As(this.firestore,rf(this._delegate,function AP(...n){return new dk("startAt",n,!0)}(...e)))}catch(t){throw Ts(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new As(this.firestore,rf(this._delegate,function SP(...n){return new dk("startAfter",n,!1)}(...e)))}catch(t){throw Ts(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new As(this.firestore,rf(this._delegate,function MP(...n){return new hk("endBefore",n,!1)}(...e)))}catch(t){throw Ts(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new As(this.firestore,rf(this._delegate,function xP(...n){return new hk("endAt",n,!0)}(...e)))}catch(t){throw Ts(t,"endAt()","Query.endAt()")}}isEqual(e){return Qx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function LP(n){n=Xt(n,rs);const e=Xt(n.firestore,or),t=Gr(e),r=new am(e);return function K1(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,a,d){try{const f=yield Zh(i,a,!0),y=new nC(a,f.Hi),w=y.ju(f.documents),D=y.applyChanges(w,!1);d.resolve(D.snapshot)}catch(f){const y=cd(f,`Failed to execute query '${a} against cache`);d.reject(y)}}),function(i,a,d){return r.apply(this,arguments)})(yield aC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new nf(e,r,n,i))}(this._delegate):"server"===e?.source?function VP(n){n=Xt(n,rs);const e=Xt(n.firestore,or),t=Gr(e),r=new am(e);return jx(t,n._query,{source:"server"}).then(i=>new nf(e,r,n,i))}(this._delegate):function FP(n){n=Xt(n,rs);const e=Xt(n.firestore,or),t=Gr(e),r=new am(e);return uk(n._query),jx(t,n._query).then(i=>new nf(e,r,n,i))}(this._delegate),t.then(r=>new lS(this.firestore,new nf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Ak(e),r=Sk(e,i=>new lS(this.firestore,new nf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bk(this._delegate,t,r)}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}class eF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new p0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new As(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new p0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new eF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new p0(this._firestore,r))})}isEqual(e){return lk(this._delegate,e._delegate)}}class Hy extends As{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?uC(this._delegate):uC(this._delegate,e))}catch(t){throw Ts(t,"doc()","CollectionReference.doc()")}}add(e){return function UP(n,e){const t=Xt(n.firestore,or),r=uC(n),i=gC(n.converter,e);return Uy(t,[hC(im(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Un.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return Yx(this._delegate,e._delegate)}withConverter(e){return new Hy(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function um(n){return Xt(n,Kn)}class uS{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new uS(qn.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zP(){return new XA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cm(e)}static delete(){const e=function GP(){return new l0("deleteField")}();return e._methodName="FieldValue.delete",new cm(e)}static arrayUnion(...e){const t=function qP(...n){return new mP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cm(t)}static arrayRemove(...e){const t=function WP(...n){return new gP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cm(t)}static increment(e){const t=function KP(n){return new yP("increment",n)}(e);return t._methodName="FieldValue.increment",new cm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tF={Firestore:Ck,GeoPoint:cC,Timestamp:Cn,Blob:h0,Transaction:Dk,WriteBatch:Tk,DocumentReference:ka,DocumentSnapshot:f0,Query:As,QueryDocumentSnapshot:p0,QuerySnapshot:lS,CollectionReference:Hy,FieldPath:uS,FieldValue:cm,setLogLevel:function XP(n){!function CT(n){Il.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function rF(n){(function nF(n,e){n.INTERNAL.registerComponent(new Xf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},tF)))})(n,(e,t)=>new Ck(e,t,new JP)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(XD.Z);var Mk=P(6451),_C=P(5363),iF=P(6063);class sF extends an.x{constructor(e=1/0,t=1/0,r=iF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var xk=P(3099);function kk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,xk.B)({connector:()=>new sF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Rk(n,e){return(0,ei.m)(e)?zn(()=>n,e):zn(()=>n)}var cS=P(9468);P(5867);const Ok=new Map,cF={activated:!1,tokenObservers:[]},dF={initialized:!1,enabled:!1};function yi(n){return Ok.get(n)||cF}function kl(n,e){Ok.set(n,e)}function bC(){return dF}class gF{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function yF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ss=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fk(n){if(!yi(n).activated)throw Ss.create("use-before-activation",{appName:n.name})}function pS(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,ge.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const V=yield d.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const f={method:"POST",body:JSON.stringify(e),headers:a};let y,w;try{y=yield fetch(n,f)}catch(V){throw Ss.create("fetch-network-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}if(200!==y.status)throw Ss.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(V){throw Ss.create("fetch-parse-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const M=1e3*Number(D[1]),F=Date.now();return{token:w.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}}),mS.apply(this,arguments)}function wF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const m0="firebase-app-check-store";let IC=null;function Vk(){return IC||(IC=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Ss.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(m0,{keyPath:"compositeKey"})}}catch(r){e(Ss.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),IC)}function gS(){return gS=(0,ge.Z)(function*(n,e){const r=(yield Vk()).transaction(m0,"readwrite"),a=r.objectStore(m0).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=y=>{d()},r.onerror=y=>{var w;f(Ss.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),gS.apply(this,arguments)}const g0=new Po.Yd("@firebase/app-check");function jk(n,e){return(0,rn.hl)()?function DF(n,e){return function Bk(n,e){return gS.apply(this,arguments)}(function Hk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{g0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $k(){return bC().enabled}function Gk(){return bS.apply(this,arguments)}function bS(){return bS=(0,ge.Z)(function*(){const n=bC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bS.apply(this,arguments)}const kF={error:"UNKNOWN_ERROR"};function RF(n){return rn.US.encodeString(JSON.stringify(n),!1)}function CC(n){return wS.apply(this,arguments)}function wS(){return wS=(0,ge.Z)(function*(n,e=!1){const t=n.app;Fk(t);const r=yi(t);let a,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&DC(y)&&(i=y)}if(!e&&i&&DC(i))return{token:i.token};let f,d=!1;if($k()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pS(wF(t,yield Gk()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const y=yield r.exchangeTokenPromise;return yield jk(t,y),kl(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?g0.warn(y.message):g0.error(y),a=y}return i?(f={token:i.token},kl(t,Object.assign(Object.assign({},r),{token:i})),yield jk(t,i)):f=OF(a),d&&qk(t,f),f}),wS.apply(this,arguments)}function IS(n,e){const t=yi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),kl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function zk(n){const{app:e}=n,t=yi(e);let r=t.tokenRefresher;r||(r=function NF(n){const{app:e}=n;return new gF((0,ge.Z)(function*(){let r;if(r=yi(e).token?yield CC(n,!0):yield CC(n),r.error)throw r.error}),()=>!0,()=>{const t=yi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),kl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qk(n,e){const t=yi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function DC(n){return n.expireTimeMillis-Date.now()>0}function OF(n){return{token:RF(kF),error:n}}class PF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yi(this.app);for(const t of e)IS(this.app,t.next);return Promise.resolve()}}const eR="app-check-internal";!function ZF(){(0,Nc._registerComponent)(new Xf.wA("app-check",n=>function FF(n,e){return new PF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(eR).initialize()})),(0,Nc._registerComponent)(new Xf.wA(eR,n=>function LF(n){return{getToken:e=>CC(n,e),addTokenListener:e=>function ES(n,e,t,r){const{app:i}=n,a=yi(i),d={next:t,error:r,type:e};if(kl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&DC(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),zk(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>zk(n))}(n,"INTERNAL",e),removeTokenListener:e=>IS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nc.registerVersion)("@firebase/app-check","0.5.12")}();class AS{constructor(){return(0,pi.vb)("app-check")}}typeof window<"u"&&window;const nR=new u.OlP("angularfire2.auth.use-emulator"),rR=new u.OlP("angularfire2.auth.settings"),iR=new u.OlP("angularfire2.auth.tenant-id"),sR=new u.OlP("angularfire2.auth.langugage-code"),oR=new u.OlP("angularfire2.auth.use-device-language"),aR=new u.OlP("angularfire.auth.persistence"),lR=(n,e,t,r,i,a,d,f)=>(0,to.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),d)for(const[w,D]of Object.entries(d))y.settings[w]=D;return f&&y.setPersistence(f),y},[t,r,i,a,d,f]);let MS=(()=>{class n{constructor(t,r,i,a,d,f,y,w,D,M,F,V){const U=new an.x,te=Xe(void 0).pipe((0,_C.Q)(d.outsideAngular),zn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2476)))),(0,ze.U)(()=>(0,to.on)(t,a,r)),(0,ze.U)(ve=>lR(ve,a,f,w,D,M,y,F)),kk({bufferSize:1,refCount:!1}));if(cr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{te.pipe(se()).subscribe();const Le=te.pipe(zn(it=>it.getRedirectResult().then(Tt=>Tt,()=>null)),pi.iC,kk({bufferSize:1,refCount:!1})),Ye=te.pipe(zn(it=>new er.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>it.onAuthStateChanged(xt=>Tt.next(xt),xt=>Tt.error(xt),()=>Tt.complete()))})))),mt=te.pipe(zn(it=>new er.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>it.onIdTokenChanged(xt=>Tt.next(xt),xt=>Tt.error(xt),()=>Tt.complete()))}))));this.authState=Le.pipe(Rk(Ye),(0,cS.R)(d.outsideAngular),(0,_C.Q)(d.insideAngular)),this.user=Le.pipe(Rk(mt),(0,cS.R)(d.outsideAngular),(0,_C.Q)(d.insideAngular)),this.idToken=this.user.pipe(zn(it=>it?(0,on.D)(it.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(zn(it=>it?(0,on.D)(it.getIdTokenResult()):Xe(null))),this.credential=(0,Mk.T)(Le,U,this.authState.pipe(C(it=>!it))).pipe((0,ze.U)(it=>it?.user?it:null),(0,cS.R)(d.outsideAngular),(0,_C.Q)(d.insideAngular))}return(0,to.pX)(this,te,a,{spy:{apply:(ve,Le,Ye)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&Ye.then(mt=>U.next(mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(to.Dh),u.LFG(to.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(pi.HU),u.LFG(nR,8),u.LFG(rR,8),u.LFG(iR,8),u.LFG(sR,8),u.LFG(oR,8),u.LFG(aR,8),u.LFG(AS,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function uR(n,e){return function tL(n,e=Ew.z){return new er.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function xS(n,e){return uR(n,e).pipe((0,ze.U)(t=>({payload:t,type:"query"})))}function AC(n,e){return xS(n,e).pipe(xi(void 0),Iw(),(0,ze.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(D=>D.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function cR(n,e,t){return AC(n,t).pipe(At((r,i)=>function rL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function iL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return kS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return kS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),QD(),(0,ze.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function kS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function dR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class hR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=AC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ze.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(xi(void 0),Iw(),C(([r,i])=>i.length>0||!r),(0,ze.U)(([r,i])=>i),pi.iC)}auditTrail(e){return this.stateChanges(e).pipe(At((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dR(e);return cR(this.query,t,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(e={}){return xS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),pi.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(pi.iC)}add(e){return this.ref.add(e)}doc(e){return new fR(this.ref.doc(e),this.afs)}}class fR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=gR(r,t);return new hR(i,a,this.afs)}snapshotChanges(){return function nL(n,e){return uR(n,e).pipe(xi(void 0),Iw(),(0,ze.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ze.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(pi.iC)}}class sL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AC(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),C(t=>t.length>0),pi.iC):AC(this.query,this.afs.schedulers.outsideAngular).pipe(pi.iC)}auditTrail(e){return this.stateChanges(e).pipe(At((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=dR(e);return cR(this.query,t,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(e={}){return xS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),pi.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(pi.iC)}}const pR=new u.OlP("angularfire2.enableFirestorePersistence"),mR=new u.OlP("angularfire2.firestore.persistenceSettings"),oL=new u.OlP("angularfire2.firestore.settings"),aL=new u.OlP("angularfire2.firestore.use-emulator");function gR(n,e=(t=>t)){return{query:e(n),ref:n}}let RS=(()=>{class n{constructor(t,r,i,a,d,f,y,w,D,M,F,V,U,te,ve,Le,Ye){this.schedulers=y;const mt=(0,to.on)(t,f,r),it=D;M&&lR(mt,f,F,U,te,ve,V,Le),[this.firestore,this.persistenceEnabled$]=(0,to.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const Tt=f.runOutsideAngular(()=>mt.firestore());if(a&&Tt.settings(a),it&&Tt.useEmulator(...it),i&&!cr(d)){const xt=()=>{try{return(0,on.D)(Tt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(en){return typeof console<"u"&&console.warn(en),Xe(!1)}};return[Tt,f.runOutsideAngular(xt)]}return[Tt,Xe(!1)]},[a,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=gR(i,r),f=this.schedulers.ngZone.run(()=>a);return new hR(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new sL(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new fR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(to.Dh),u.LFG(to.xv,8),u.LFG(pR,8),u.LFG(oL,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(pi.HU),u.LFG(mR,8),u.LFG(aL,8),u.LFG(MS,8),u.LFG(nR,8),u.LFG(rR,8),u.LFG(iR,8),u.LFG(sR,8),u.LFG(oR,8),u.LFG(aR,8),u.LFG(AS,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lL=(()=>{class n{constructor(){F_.Z.registerVersion("angularfire",pi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:pR,useValue:!0},{provide:mR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[RS]}),n})();const uL=new u.OlP("REQUEST");new u.OlP("RESPONSE");let cL=(()=>{class n{constructor(t,r,i){this.document=t,this.platformId=r,this.request=i,this.documentIsAccessible=Ol(this.platformId)}static getCookieRegExp(t){const r=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+r+"|;\\s*"+r+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.documentIsAccessible?this.document.cookie:this.request?.headers.cookie)}get(t){if(this.check(t)){t=encodeURIComponent(t);const i=n.getCookieRegExp(t).exec(this.documentIsAccessible?this.document.cookie:this.request?.headers.cookie);return i[1]?n.safeDecodeURIComponent(i[1]):""}return""}getAll(){const t={},r=this.documentIsAccessible?this.document?.cookie:this.request?.headers.cookie;return r&&""!==r&&r.split(";").forEach(i=>{const[a,d]=i.split("=");t[n.safeDecodeURIComponent(a.replace(/^ /,""))]=n.safeDecodeURIComponent(d)}),t}set(t,r,i,a,d,f,y){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||a||d||f||y)return void this.set(t,r,{expires:i,path:a,domain:d,secure:f,sameSite:y||"Lax"});let w=encodeURIComponent(t)+"="+encodeURIComponent(r)+";";const D=i||{};D.expires&&(w+="number"==typeof D.expires?"expires="+new Date((new Date).getTime()+1e3*D.expires*60*60*24).toUTCString()+";":"expires="+D.expires.toUTCString()+";"),D.path&&(w+="path="+D.path+";"),D.domain&&(w+="domain="+D.domain+";"),!1===D.secure&&"None"===D.sameSite&&(D.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),D.secure&&(w+="secure;"),D.sameSite||(D.sameSite="Lax"),w+="sameSite="+D.sameSite+";",this.document.cookie=w}delete(t,r,i,a,d="Lax"){if(!this.documentIsAccessible)return;const f=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:f,path:r,domain:i,secure:a,sameSite:d})}deleteAll(t,r,i,a="Lax"){if(!this.documentIsAccessible)return;const d=this.getAll();for(const f in d)d.hasOwnProperty(f)&&this.delete(f,t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(u.Lbi),u.LFG(uL,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jy=(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.cookieService=i,this.user$=new hn(this.getUserFromCookie())}getUserFromCookie(){console.log("inside getUserFromCookie");const t=this.cookieService.get("user");return t?(console.log("user found on cookie"),JSON.parse(t)):null}initialise(){this.auth.onAuthStateChanged(t=>{t?this.cookieService.set("user",JSON.stringify(t)):this.cookieService.delete("user"),this.user$.next(t)})}signInWithGoogle(){var t=this;return(0,ge.Z)(function*(){try{yield t.auth.signInWithPopup(new F_.Z.auth.GoogleAuthProvider),t.router.navigateByUrl("/")}catch(r){console.log(r)}})()}signInWithEmailPassword(t,r){var i=this;return(0,ge.Z)(function*(){try{yield i.auth.signInWithEmailAndPassword(t,r),i.router.navigateByUrl("/")}catch(a){console.log(a)}})()}signUpWithEmailPassword(t,r){var i=this;return(0,ge.Z)(function*(){try{yield i.auth.createUserWithEmailAndPassword(t,r),i.router.navigateByUrl("/")}catch(a){console.log(a)}})()}signout(){var t=this;return(0,ge.Z)(function*(){try{yield t.auth.signOut(),t.router.navigateByUrl("/login")}catch(r){console.log(r)}})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MS),u.LFG(pr),u.LFG(cL))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _i(n){return null!=n&&"false"!=`${n}`}function NS(n,e=0){return function dL(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function yR(n){return Array.isArray(n)?n:[n]}function af(n){return n instanceof u.SBq?n.nativeElement:n}function _R(n){return C((e,t)=>n<=t)}function OS(n,e=Ew.z){return(0,fr.e)((t,r)=>{let i=null,a=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function y(){const w=d+n,D=e.now();if(D<w)return i=this.schedule(void 0,w-D),void r.add(i);f()}t.subscribe((0,Ln.x)(r,w=>{a=w,d=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}var hL=P(5032);function Uu(n){return(0,fr.e)((e,t)=>{(0,ji.Xf)(n).subscribe((0,Ln.x)(t,()=>t.complete(),hL.Z)),!t.closed&&e.subscribe(t)})}let PS;try{PS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{PS=!1}let $y,lf=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ol(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!PS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bR(){if($y)return $y;if("object"!=typeof document||!document)return $y=new Set(vR),$y;let n=document.createElement("input");return $y=new Set(vR.filter(e=>(n.setAttribute("type",e),n.type===e))),$y}let y0,FS;function SC(n){return function fL(){if(null==y0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y0=!0}))}finally{y0=y0||!1}return y0}()?n:!!n.capture}function _0(n){return n.composedPath?n.composedPath()[0]:n.target}let yL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const wR=new Set;let Gy,_L=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bL}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vL(n){if(!wR.has(n))try{Gy||(Gy=document.createElement("style"),Gy.setAttribute("type","text/css"),document.head.appendChild(Gy)),Gy.sheet&&(Gy.sheet.insertRule(`@media ${n} {body{ }}`,0),wR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bL(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ER=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new an.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return IR(yR(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Ks(IR(yR(t)).map(d=>this._registerQuery(d).observable));return a=ys(a.pipe(ln(1)),a.pipe(_R(1),OS(0))),a.pipe((0,ze.U)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:y,query:w})=>{f.matches=f.matches||y,f.breakpoints[w]=y}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new er.y(d=>{const f=y=>this._zone.run(()=>d.next(y));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(xi(r),(0,ze.U)(({matches:d})=>({query:t,matches:d})),Uu(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_L),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function xR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function kR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const zL=new u.OlP("cdk-input-modality-detector-options"),qL={ignoreKeys:[18,17,224,91,16]},zy=SC({passive:!0,capture:!0});let WL=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new hn(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_0(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(xR(d)?"keyboard":"mouse"),this._mostRecentTarget=_0(d))},this._onTouchstart=d=>{kR(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_0(d))},this._options={...qL,...a},this.modalityDetected=this._modality.pipe(_R(1)),this.modalityChanged=this.modalityDetected.pipe(QD()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,zy),i.addEventListener("mousedown",this._onMousedown,zy),i.addEventListener("touchstart",this._onTouchstart,zy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zy),document.removeEventListener("mousedown",this._onMousedown,zy),document.removeEventListener("touchstart",this._onTouchstart,zy))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lf),u.LFG(u.R0b),u.LFG(ie),u.LFG(zL,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZL=new u.OlP("cdk-focus-monitor-default-options"),xC=SC({passive:!0,capture:!0});let kC=(()=>{class n{constructor(t,r,i,a,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new an.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=_0(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=d?.detectionMode||0}monitor(t,r=!1){const i=af(t);if(!this._platform.isBrowser||1!==i.nodeType)return Xe(null);const a=function mL(n){if(function pL(){if(null==FS){const n=typeof document<"u"?document.head:null;FS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FS}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new an.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=af(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=af(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,y])=>this._originChanged(f,r,y)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=_0(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,xC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,xC)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Uu(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let d=0;d<a.length;d++)if(a[d].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(lf),u.LFG(WL),u.LFG(ie,8),u.LFG(ZL,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NR="cdk-high-contrast-black-on-white",OR="cdk-high-contrast-white-on-black",VS="cdk-high-contrast-active";let YL=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(ER).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(VS,NR,OR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(VS,NR):2===r&&t.add(VS,OR)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lf),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QL=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function JL(){return(0,u.f3M)(ie)}}),XL=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tV=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function eV(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?XL.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QL,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const rV=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function nV(){return!0}});let zr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function gL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YL),u.LFG(rV,8),u.LFG(ie))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[PR,PR]}),n})();function VR(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=_i(e)}}}function BS(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function qy(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=_i(e)}}}function iV(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?NS(t):this.defaultTabIndex}}}function sV(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let BR=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function v0(n,e,t){n.nativeElement.classList.toggle(e,t)}let jR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zr,zr]}),n})();class aV{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $R={enterDuration:225,exitDuration:150},US=SC({passive:!0}),GR=["mousedown","touchstart"],zR=["mouseup","mouseleave","touchend","touchcancel"];class uV{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=af(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...$R,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function cV(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,y=t-i.top,w=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-d+"px",D.style.top=y-d+"px",D.style.height=2*d+"px",D.style.width=2*d+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const M=window.getComputedStyle(D),V=M.transitionDuration,U="none"===M.transitionProperty||"0s"===V||"0s, 0s"===V,te=new aV(this,D,r,U);D.style.transform="scale3d(1, 1, 1)",te.state=0,r.persistent||(this._mostRecentTransientRipple=te);let ve=null;return!U&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Le=()=>this._finishRippleTransition(te),Ye=()=>this._destroyRipple(te);D.addEventListener("transitionend",Le),D.addEventListener("transitioncancel",Ye),ve={onTransitionEnd:Le,onTransitionCancel:Ye}}),this._activeRipples.set(te,ve),(U||!w)&&this._finishRippleTransition(te),te}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...$R,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=af(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(GR))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zR),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=xR(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!kR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,US)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(GR.forEach(e=>{this._triggerElement.removeEventListener(e,this,US)}),this._pointerUpEventsRegistered&&zR.forEach(e=>{this._triggerElement.removeEventListener(e,this,US)}))}}const dV=new u.OlP("mat-ripple-global-options");let Wy=(()=>{class n{constructor(t,r,i,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new uV(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(lf),u.Y36(dV,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),HS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zr,zr]}),n})(),qR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zr]}),n})();const fV=["*",[["mat-card-footer"]]],pV=["*","mat-card-footer"];let jS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),mV=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),n})(),$S=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:pV,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(fV),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),yV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zr,zr]}),n})(),_V=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KR(...n){const e=(0,Ai.jO)(n),{args:t,keys:r}=il(n),i=new er.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let y=d,w=d;for(let D=0;D<d;D++){let M=!1;(0,ji.Xf)(t[D]).subscribe((0,Ln.x)(a,F=>{M||(M=!0,w--),f[D]=F},()=>y--,void 0,()=>{(!y||!M)&&(w||a.next(r?oa(r,f):f),a.complete())}))}});return e?i.pipe(sa(e)):i}let ZR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),hm=(()=>{class n extends ZR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ra=new u.OlP("NgValueAccessor"),bV={provide:Ra,useExisting:(0,u.Gpc)(()=>RC),multi:!0},EV=new u.OlP("CompositionEventMode");let RC=(()=>{class n extends ZR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wV(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(EV,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([bV]),u.qOj]}),n})();function uf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function QR(n){return null!=n&&"number"==typeof n.length}const is=new u.OlP("NgValidators"),cf=new u.OlP("NgAsyncValidators"),CV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class NC{static min(e){return function JR(n){return e=>{if(uf(e.value)||uf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function XR(n){return e=>{if(uf(e.value)||uf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return eN(e)}static requiredTrue(e){return function tN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nN(n){return uf(n.value)||CV.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rN(n){return e=>uf(e.value)||!QR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iN(n){return e=>QR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function sN(n){if(!n)return OC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(uf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return dN(e)}static composeAsync(e){return hN(e)}}function eN(n){return uf(n.value)?{required:!0}:null}function OC(n){return null}function oN(n){return null!=n}function aN(n){return(0,u.QGY)(n)?(0,on.D)(n):n}function lN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uN(n,e){return e.map(t=>t(n))}function cN(n){return n.map(e=>function DV(n){return!n.validate}(e)?e:t=>e.validate(t))}function dN(n){if(!n)return null;const e=n.filter(oN);return 0==e.length?null:function(t){return lN(uN(t,e))}}function GS(n){return null!=n?dN(cN(n)):null}function hN(n){if(!n)return null;const e=n.filter(oN);return 0==e.length?null:function(t){return KR(uN(t,e).map(aN)).pipe((0,ze.U)(lN))}}function zS(n){return null!=n?hN(cN(n)):null}function fN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pN(n){return n._rawValidators}function mN(n){return n._rawAsyncValidators}function qS(n){return n?Array.isArray(n)?n:[n]:[]}function PC(n,e){return Array.isArray(n)?n.includes(e):n===e}function gN(n,e){const t=qS(e);return qS(n).forEach(i=>{PC(t,i)||t.push(i)}),t}function yN(n,e){return qS(e).filter(t=>!PC(n,t))}class _N{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ms extends _N{get formDirective(){return null}get path(){return null}}class pd extends _N{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let bN=(()=>{class n extends class vN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pd,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})();const b0="VALID",LC="INVALID",Ky="PENDING",w0="DISABLED";function YS(n){return(VC(n)?n.validators:n)||null}function EN(n){return Array.isArray(n)?GS(n):n||null}function QS(n,e){return(VC(e)?e.asyncValidators:n)||null}function IN(n){return Array.isArray(n)?zS(n):n||null}function VC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class TN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=EN(this._rawValidators),this._composedAsyncValidatorFn=IN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===b0}get invalid(){return this.status===LC}get pending(){return this.status==Ky}get disabled(){return this.status===w0}get enabled(){return this.status!==w0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=EN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=IN(e)}addValidators(e){this.setValidators(gN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yN(e,this._rawAsyncValidators))}hasValidator(e){return PC(this._rawValidators,e)}hasAsyncValidator(e){return PC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=b0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b0||this.status===Ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w0:b0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ky,this._hasOwnPendingAsyncValidator=!0;const t=aN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?w0:this.errors?LC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ky)?Ky:this._anyControlsHaveStatus(LC)?LC:b0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){VC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class JS extends TN{constructor(e,t,r){super(YS(t),QS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function DN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function CN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function E0(n,e){XS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function PV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AN(n,e)})}(n,e),function LV(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function FV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function OV(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function UC(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function HC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XS(n,e){const t=pN(n);null!==e.validator?n.setValidators(fN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mN(n);null!==e.asyncValidator?n.setAsyncValidators(fN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();HC(e._rawValidators,i),HC(e._rawAsyncValidators,i)}function jC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=pN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=mN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return HC(e._rawValidators,r),HC(e._rawAsyncValidators,r),t}function AN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function SN(n,e){XS(n,e)}function xN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const jV={provide:Ms,useExisting:(0,u.Gpc)(()=>$C)},I0=(()=>Promise.resolve())();let $C=(()=>{class n extends Ms{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new JS({},GS(t),zS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){I0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),E0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){I0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){I0.then(()=>{const r=this._findContainer(t.path),i=new JS({});SN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){I0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){I0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,xN(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is,10),u.Y36(cf,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([jV]),u.qOj]}),n})();function kN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function RN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const GC=class extends TN{constructor(e=null,t,r){super(YS(t),QS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),VC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=RN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const nM=new u.OlP("NgModelWithFormControlWarning"),QV={provide:pd,useExisting:(0,u.Gpc)(()=>rM)};let rM=(()=>{class n extends pd{constructor(t,r,i,a){super(),this._ngModelWarningConfig=a,this.update=new u.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function tM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===RC?t=a:function UV(n){return Object.getPrototypeOf(n.constructor)===hm}(a)?r=a:i=a}),i||r||t||null}(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&UC(r,this,!1),E0(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}(function eM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&UC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(is,10),u.Y36(cf,10),u.Y36(Ra,10),u.Y36(nM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u._Bn([QV]),u.qOj,u.TTD]}),n})();const JV={provide:Ms,useExisting:(0,u.Gpc)(()=>zC)};let zC=(()=>{class n extends Ms{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return E0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){UC(t.control||null,t,!1),function HV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,xN(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(UC(r||null,t),(n=>n instanceof GC)(i)&&(E0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);SN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function VV(n,e){return jC(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XS(this.form,this),this._oldForm&&jC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is,10),u.Y36(cf,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([JV]),u.qOj,u.TTD]}),n})(),fm=(()=>{class n{constructor(){this._validator=OC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):OC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const cB={provide:is,useExisting:(0,u.Gpc)(()=>qC),multi:!0};let qC=(()=>{class n extends fm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>eN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([cB]),u.qOj]}),n})(),gB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[VN]}),n})(),yB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nM,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gB]}),n})();const vB=["input"],bB=function(n){return{enterDuration:n}},wB=["*"],EB=new u.OlP("mat-radio-default-options",{providedIn:"root",factory:function IB(){return{color:"accent"}}});let eO=0;class tO{constructor(e,t){this.source=e,this.value=t}}const nO=new u.OlP("MatRadioGroup");class AB{constructor(e){this._elementRef=e}}const SB=qy(iV(AB));let MB=(()=>{class n extends SB{constructor(t,r,i,a,d,f,y,w){super(r),this._changeDetector=i,this._focusMonitor=a,this._radioDispatcher=d,this._providerOverride=y,this._uniqueId="mat-radio-"+ ++eO,this.id=this._uniqueId,this.change=new u.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===f,w&&(this.tabIndex=NS(w,0)),this._removeUniqueSelectionListener=d.listen((D,M)=>{D!==this.id&&M===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const r=_i(t);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(_i(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=_i(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new tO(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let r;if(r=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(vB,5),2&t){let i;u.iGM(i=u.CRH())&&(r._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[u.qOj]}),n})(),lM=(()=>{class n extends MB{constructor(t,r,i,a,d,f,y,w){super(t,r,i,a,d,f,y,w)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(nO,8),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(kC),u.Y36(_V),u.Y36(u.QbO,8),u.Y36(EB,8),u.$8M("tabindex"))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&t&&(u.uIk("tabindex",null)("id",r.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),u.ekj("mat-radio-checked",r.checked)("mat-radio-disabled",r.disabled)("_mat-animation-noopable",r._noopAnimations)("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[u.qOj],ngContentSelectors:wB,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,r){if(1&t&&(u.F$t(),u.TgZ(0,"label",0,1)(2,"span",2),u._UZ(3,"span",3)(4,"span",4),u.TgZ(5,"input",5,6),u.NdJ("change",function(a){return r._onInputInteraction(a)})("click",function(a){return r._onInputClick(a)}),u.qZA(),u.TgZ(7,"span",7),u._UZ(8,"span",8),u.qZA()(),u.TgZ(9,"span",9)(10,"span",10),u._uU(11,"\xa0"),u.qZA(),u.Hsn(12),u.qZA()()),2&t){const i=u.MAs(1);u.uIk("for",r.inputId),u.xp6(5),u.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),u.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),u.xp6(2),u.Q6J("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",u.VKq(17,bB,r._noopAnimations?0:150)),u.xp6(2),u.ekj("mat-radio-label-before","before"==r.labelPosition)}},dependencies:[Wy],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[HS,zr,zr]}),n})();const rO=["mat-button",""],iO=["*"],NB=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],OB=BS(VR(qy(class{constructor(n){this._elementRef=n}})));let WC=(()=>{class n extends OB{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of NB)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(kC),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf(Wy,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:rO,ngContentSelectors:iO,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Wy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),PB=(()=>{class n extends WC{constructor(t,r,i,a){super(r,t,i),this._ngZone=a,this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kC),u.Y36(u.SBq),u.Y36(u.QbO,8),u.Y36(u.R0b,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[u.qOj],attrs:rO,ngContentSelectors:iO,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Wy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[HS,zr,zr]}),n})();class sO{}class oO{}class md{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof md?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new md;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof md?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class LB{encodeKey(e){return aO(e)}encodeValue(e){return aO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const BB=/%(\d[a-f0-9])/gi,UB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aO(n){return encodeURIComponent(n).replace(BB,(e,t)=>UB[t]??e)}function KC(n){return`${n}`}class df{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(KC):[KC(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new df({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(KC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(KC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class HB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uO(n){return typeof Blob<"u"&&n instanceof Blob}function cO(n){return typeof FormData<"u"&&n instanceof FormData}class C0{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function jB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new md),this.context||(this.context=new HB),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new df,this.urlWithParams=t}serializeBody(){return null===this.body?null:lO(this.body)||uO(this.body)||cO(this.body)||function $B(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cO(this.body)?null:uO(this.body)?this.body.type||null:lO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((M,F)=>M.set(F,e.setHeaders[F]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((M,F)=>M.set(F,e.setParams[F]),w)),new C0(t,r,a,{params:w,headers:y,context:D,reportProgress:f,responseType:i,withCredentials:d})}}var qr=(()=>((qr=qr||{})[qr.Sent=0]="Sent",qr[qr.UploadProgress=1]="UploadProgress",qr[qr.ResponseHeader=2]="ResponseHeader",qr[qr.DownloadProgress=3]="DownloadProgress",qr[qr.Response=4]="Response",qr[qr.User=5]="User",qr))();class uM{constructor(e,t=200,r="OK"){this.headers=e.headers||new md,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cM extends uM{constructor(e={}){super(e),this.type=qr.ResponseHeader}clone(e={}){return new cM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ZC extends uM{constructor(e={}){super(e),this.type=qr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ZC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dO extends uM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hM=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof C0)a=t;else{let y,w;y=i.headers instanceof md?i.headers:new md(i.headers),i.params&&(w=i.params instanceof df?i.params:new df({fromObject:i.params})),a=new C0(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Xe(a).pipe(Ie(y=>this.handler.handle(y)));if(t instanceof C0||"events"===i.observe)return d;const f=d.pipe(C(y=>y instanceof ZC));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ze.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,ze.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,ze.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,ze.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new df).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,dM(i,r))}post(t,r,i={}){return this.request("POST",t,dM(i,r))}put(t,r,i={}){return this.request("PUT",t,dM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hO{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fO=new u.OlP("HTTP_INTERCEPTORS");let GB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const zB=/^\)\]\}',?\n/;let pO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new er.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,U)=>i.setRequestHeader(V,U.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const a=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const V=i.statusText||"OK",U=new md(i.getAllResponseHeaders()),te=function qB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new cM({headers:U,status:i.status,statusText:V,url:te}),d},y=()=>{let{headers:V,status:U,statusText:te,url:ve}=f(),Le=null;204!==U&&(Le=typeof i.response>"u"?i.responseText:i.response),0===U&&(U=Le?200:0);let Ye=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof Le){const mt=Le;Le=Le.replace(zB,"");try{Le=""!==Le?JSON.parse(Le):null}catch(it){Le=mt,Ye&&(Ye=!1,Le={error:it,text:Le})}}Ye?(r.next(new ZC({body:Le,headers:V,status:U,statusText:te,url:ve||void 0})),r.complete()):r.error(new dO({error:Le,headers:V,status:U,statusText:te,url:ve||void 0}))},w=V=>{const{url:U}=f(),te=new dO({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:U||void 0});r.error(te)};let D=!1;const M=V=>{D||(r.next(f()),D=!0);let U={type:qr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===t.responseType&&!!i.responseText&&(U.partialText=i.responseText),r.next(U)},F=V=>{let U={type:qr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),r.next(U)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",M),null!==a&&i.upload&&i.upload.addEventListener("progress",F)),i.send(a),r.next({type:qr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",M),null!==a&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(go))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fM=new u.OlP("XSRF_COOKIE_NAME"),pM=new u.OlP("XSRF_HEADER_NAME");class mO{}let WB=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=La(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(u.Lbi),u.LFG(fM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mO),u.LFG(pM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),KB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(fO,[]);this.chain=r.reduceRight((i,a)=>new hO(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oO),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ZB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:mM,useClass:GB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:fM,useValue:t.cookieName}:[],t.headerName?{provide:pM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[mM,{provide:fO,useExisting:mM,multi:!0},{provide:mO,useClass:WB},{provide:fM,useValue:"XSRF-TOKEN"},{provide:pM,useValue:"X-XSRF-TOKEN"}]}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hM,{provide:sO,useClass:KB},pO,{provide:oO,useExisting:pO}],imports:[ZB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const QB=["*"];let YC;function D0(n){return function JB(){if(void 0===YC&&(YC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(YC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return YC}()?.createHTML(n)||n}function gO(n){return Error(`Unable to find icon with the name "${n}"`)}function yO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _O(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let T0=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new pm(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const d=this._sanitizer.sanitize(u.q3G.HTML,i);if(!d)throw _O(i);const f=D0(d);return this._addSvgIconConfig(t,r,new pm("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new pm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(u.q3G.HTML,r);if(!a)throw _O(r);const d=D0(a);return this._addSvgIconSetConfig(t,new pm("",d,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw yO(t);const i=this._cachedIconsByUrl.get(r);return i?Xe(QC(i)):this._loadSvgIconFromConfig(new pm(t,null)).pipe((0,Re.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,ze.U)(a=>QC(a)))}getNamedSvgIcon(t,r=""){const i=vO(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(t,d):Pr(gO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Xe(QC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ze.U)(r=>QC(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Xe(i):KR(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(nt(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Xe(null)})))).pipe((0,ze.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,r);if(!d)throw gO(t);return d}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(d,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Re.b)(r=>t.svgText=r),(0,ze.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Xe(null):this._fetchIcon(t).pipe((0,Re.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const f=this._svgElementFromString(D0("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(D0("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:d,value:f}=i[a];"id"!==d&&r.setAttribute(d,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,a=i?.withCredentials??!1;if(!this._httpClient)throw function XB(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!d)throw yO(r);const f=this._inProgressUrlFetches.get(d);if(f)return f;const y=this._httpClient.get(d,{responseType:"text",withCredentials:a}).pipe((0,ze.U)(w=>D0(w)),vs(()=>this._inProgressUrlFetches.delete(d)),(0,xk.B)());return this._inProgressUrlFetches.set(d,y),y}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(vO(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return tU(a)?new pm(a.url,null,a.options):new pm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hM,8),u.LFG(So),u.LFG(ie,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QC(n){return n.cloneNode(!0)}function vO(n,e){return n+":"+e}function tU(n){return!(!n.url||!n.options)}const nU=BS(class{constructor(n){this._elementRef=n}}),rU=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),iU=new u.OlP("mat-icon-location",{providedIn:"root",factory:function sU(){const n=(0,u.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),bO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oU=bO.map(n=>`[${n}]`).join(", "),aU=/^url\(['"]?#(.*?)['"]?\)$/;let wO=(()=>{class n extends nU{constructor(t,r,i,a,d,f){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ui.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=_i(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(d=>{a.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(oU),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)bO.forEach(d=>{const f=r[a],y=f.getAttribute(d),w=y?y.match(aU):null;if(w){let D=i.get(f);D||(D=[],i.set(f,D)),D.push({name:d,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ln(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(T0),u.$8M("aria-hidden"),u.Y36(iU),u.Y36(u.qLn),u.Y36(rU,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:QB,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),lU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zr,zr]}),n})(),uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zr,zr]}),n})();const EO=["*"],cU=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],dU=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],gU=VR(qy(class{})),yU=qy(class{}),CO=new u.OlP("MatList"),_U=new u.OlP("MatNavList");let vU=(()=>{class n extends gU{constructor(t){super(),this._elementRef=t,this._stateChanges=new an.x,"action-list"===this._getListType()&&(t.nativeElement.classList.add("mat-action-list"),t.nativeElement.setAttribute("role","group"))}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[u._Bn([{provide:CO,useExisting:n}]),u.qOj,u.TTD],ngContentSelectors:EO,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),TO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),bU=(()=>{class n extends yU{constructor(t,r,i,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new an.x,this._disabled=!1,this._isInteractiveList=!!(i||a&&"action-list"===a._getListType()),this._list=i||a;const d=this._getHostElement();"button"===d.nodeName.toLowerCase()&&!d.hasAttribute("type")&&d.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Uu(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=_i(t)}ngAfterContentInit(){!function HR(n,e,t="mat"){n.changes.pipe(xi(n)).subscribe(({length:r})=>{v0(e,`${t}-2-line`,!1),v0(e,`${t}-3-line`,!1),v0(e,`${t}-multi-line`,!1),2===r||3===r?v0(e,`${t}-${r}-line`,!0):r>3&&v0(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(_U,8),u.Y36(CO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,DO,5),u.Suo(i,TO,5),u.Suo(i,UR,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._avatar=a.first),u.iGM(a=u.CRH())&&(r._icon=a.first),u.iGM(a=u.CRH())&&(r._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[u.qOj],ngContentSelectors:dU,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,r){1&t&&(u.F$t(cU),u.TgZ(0,"span",0),u._UZ(1,"span",1),u.Hsn(2),u.TgZ(3,"span",2),u.Hsn(4,1),u.qZA(),u.Hsn(5,2),u.qZA()),2&t&&(u.xp6(1),u.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},dependencies:[Wy],encapsulation:2,changeDetection:0}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jR,HS,zr,qR,mo,jR,zr,qR,uU]}),n})(),SO=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=af(t);return new er.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new an.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(SO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SU=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=_i(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=NS(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(OS(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(AU),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[SO]}),n})();var xU=P(1144);const kU=["addListener","removeListener"],RU=["addEventListener","removeEventListener"],NU=["on","off"];function gM(n,e,t,r){if((0,ei.m)(t)&&(r=t,t=void 0),r)return gM(n,e,t).pipe(sa(r));const[i,a]=function FU(n){return(0,ei.m)(n.addEventListener)&&(0,ei.m)(n.removeEventListener)}(n)?RU.map(d=>f=>n[d](e,f,t)):function OU(n){return(0,ei.m)(n.addListener)&&(0,ei.m)(n.removeListener)}(n)?kU.map(MO(n,e)):function PU(n){return(0,ei.m)(n.on)&&(0,ei.m)(n.off)}(n)?NU.map(MO(n,e)):[];if(!i&&(0,xU.z)(n))return(0,T.z)(d=>gM(d,e,t))((0,ji.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new er.y(d=>{const f=(...y)=>d.next(1<y.length?y:y[0]);return i(f),()=>a(f)})}function MO(n,e){return t=>r=>n[t](e,r)}class xO{}const gd="*";function VU(n,e){return{type:7,name:n,definitions:e,options:{}}}function BU(n,e=null){return{type:4,styles:e,timings:n}}function kO(n,e=null){return{type:2,steps:n,options:e}}function JC(n){return{type:6,styles:n,offset:null}}function UU(n,e,t){return{type:0,name:n,styles:e,options:t}}function HU(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function RO(n){Promise.resolve().then(n)}class A0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?RO(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const jU=["connectionContainer"],$U=["inputContainer"],GU=["label"];function zU(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function qU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.updateOutlineGap())}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function WU(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function KU(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function ZU(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function YU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.updateOutlineGap())}),u.YNc(2,WU,4,1,"ng-container",12),u.YNc(3,KU,1,0,"ng-content",12),u.YNc(4,ZU,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function QU(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function JU(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function XU(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function e2(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function t2(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,e2,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const n2=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],r2=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let s2=0;const OO=new u.OlP("MatError");let o2=(()=>{class n{constructor(t,r){this.id="mat-error-"+s2++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("aria-live"),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("id",r.id)},inputs:{id:"id"},features:[u._Bn([{provide:OO,useExisting:n}])]}),n})();const a2={transitionMessages:VU("transitionMessages",[UU("enter",JC({opacity:1,transform:"translateY(0%)"})),HU("void => enter",[JC({opacity:0,transform:"translateY(-5px)"}),BU("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const l2=new u.OlP("MatHint");let XC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),u2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const PO=new u.OlP("MatPrefix");let c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matPrefix",""]],features:[u._Bn([{provide:PO,useExisting:n}])]}),n})();const d2=new u.OlP("MatSuffix");let FO=0;const f2=BS(class{constructor(n){this._elementRef=n}},"primary"),p2=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),VO=new u.OlP("MatFormField");let BO=(()=>{class n extends f2{constructor(t,r,i,a,d,f,y){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new an.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+FO++,this._labelId="mat-form-field-label-"+FO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=_i(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(xi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Uu(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Uu(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Mk.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Uu(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,gM(this._label.nativeElement,"transitionend").pipe(ln(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const D=r.querySelectorAll(`${i}, ${a}`);for(let M=0;M<D.length;M++)D[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const y=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const D=r.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(D),F=t.children,V=this._getStartEnd(F[0].getBoundingClientRect());let U=0;for(let te=0;te<F.length;te++)U+=F[te].offsetWidth;d=Math.abs(V-M)-5,f=U>0?.75*U+10:0}for(let D=0;D<y.length;D++)y[D].style.width=`${d}px`;for(let D=0;D<w.length;D++)w[D].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(tV,8),u.Y36(p2,8),u.Y36(lf),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,_M,5),u.Suo(i,_M,7),u.Suo(i,XC,5),u.Suo(i,XC,7),u.Suo(i,u2,5),u.Suo(i,OO,5),u.Suo(i,l2,5),u.Suo(i,PO,5),u.Suo(i,d2,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._controlNonStatic=a.first),u.iGM(a=u.CRH())&&(r._controlStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(r._placeholderChild=a.first),u.iGM(a=u.CRH())&&(r._errorChildren=a),u.iGM(a=u.CRH())&&(r._hintChildren=a),u.iGM(a=u.CRH())&&(r._prefixChildren=a),u.iGM(a=u.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(jU,7),u.Gf($U,5),u.Gf(GU,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:VO,useExisting:n}]),u.qOj],ngContentSelectors:r2,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(n2),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),u.YNc(3,zU,9,0,"ng-container",3),u.YNc(4,qU,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,YU,5,16,"label",8),u.qZA()(),u.YNc(10,QU,2,0,"div",9),u.qZA(),u.YNc(11,JU,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,XU,2,1,"div",12),u.YNc(14,t2,5,2,"div",13),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[An,Ba,qo,SU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[a2.transitionMessages]},changeDetection:0}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mo,zr,MU,zr]}),n})();const UO=SC({passive:!0});let m2=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return $i.E;const r=af(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new an.x,d="cdk-text-field-autofilled",f=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:y.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,UO),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,UO)}}),a}stopMonitoring(t){const r=af(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lf),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const g2=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),y2=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let _2=0;const v2=sV(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new an.x}});let jO=(()=>{class n extends v2{constructor(t,r,i,a,d,f,y,w,D,M){super(f,a,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=M,this._uid="mat-input-"+_2++,this.focused=!1,this.stateChanges=new an.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>bR().has(U)),this._iOSKeyupListener=U=>{const te=U.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,V=F.nodeName.toLowerCase();this._inputValueAccessor=y||F,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=_i(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(NC.required)??!1}set required(t){this._required=_i(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&bR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=_i(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){y2.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(lf),u.Y36(pd,10),u.Y36($C,8),u.Y36(zC,8),u.Y36(BR),u.Y36(g2,10),u.Y36(m2),u.Y36(u.R0b),u.Y36(VO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:_M,useExisting:n}]),u.qOj,u.TTD]}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[BR],imports:[HO,vM,zr,HO,vM]}),n})(),w2=(()=>{class n{constructor(t,r){this.afs=t,this.auth=r,this.user=null,this.todosCollection=t.collection("todos")}ngOnInit(){this.auth.user$.subscribe(t=>{this.user=t})}addTodo(t){console.log(t),t&&this.user&&this.todosCollection.add({isCompleted:!1,title:t,userId:this.user.uid})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(RS),u.Y36(jy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-todo"]],decls:7,vars:0,consts:[["appearance","fill",1,"full-width-form"],["matPrefix","","disabled",""],["type","text","matInput","",3,"keyup.enter"],["addTodoInput",""]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"mat-card")(1,"mat-card-content")(2,"mat-form-field",0),u._UZ(3,"mat-label")(4,"mat-radio-button",1),u.TgZ(5,"input",2,3),u.NdJ("keyup.enter",function(){u.CHM(i);const d=u.MAs(6);return u.KtG(r.addTodo(d.value))}),u.qZA()()()()}},dependencies:[$S,jS,lM,BO,XC,c2,jO],styles:["mat-card[_ngcontent-%COMP%]{width:100%;padding:0}.full-width-form[_ngcontent-%COMP%]{width:100%}"]}),n})();function E2(n,e){if(1&n&&(u.ynx(0),u._UZ(1,"mat-icon",11),u.TgZ(2,"span",12),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw().$implicit;u.xp6(3),u.Oqu(t.title)}}function I2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-radio-button",13),u.NdJ("change",function(){u.CHM(t);const i=u.oxw().$implicit,a=u.oxw(2);return u.KtG(a.setAsCompleted(i))}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.Q6J("checked",t.isCompleted)("disabled",t.isCompleted),u.xp6(1),u.hij(" ",t.title," ")}}function C2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-list-item",6),u.YNc(1,E2,4,1,"ng-container",7),u.YNc(2,I2,2,3,"ng-template",null,8,u.W1O),u.TgZ(4,"button",9),u.NdJ("click",function(){const a=u.CHM(t).$implicit,d=u.oxw(2);return u.KtG(d.deleteTodo(a))}),u._UZ(5,"mat-icon",10),u.qZA()()}if(2&n){const t=e.$implicit,r=u.MAs(3);u.xp6(1),u.Q6J("ngIf",t.isCompleted)("ngIfElse",r)}}function D2(n,e){if(1&n&&(u.TgZ(0,"mat-list",4),u.YNc(1,C2,6,2,"mat-list-item",5),u.ALo(2,"async"),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",u.lcZ(2,1,t.filteredTodos$))}}const Zy=function(n){return{"active-filter":n}};function T2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14)(1,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.setFilterState(i.FilterState.ALL))}),u._uU(2,"All"),u.qZA(),u.TgZ(3,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.setFilterState(i.FilterState.ACTIVE))}),u._uU(4,"Active"),u.qZA(),u.TgZ(5,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.setFilterState(i.FilterState.COMPLETED))}),u._uU(6,"Completed"),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngClass",u.VKq(3,Zy,t.isFilterActive(t.FilterState.ALL))),u.xp6(2),u.Q6J("ngClass",u.VKq(5,Zy,t.isFilterActive(t.FilterState.ACTIVE))),u.xp6(2),u.Q6J("ngClass",u.VKq(7,Zy,t.isFilterActive(t.FilterState.COMPLETED)))}}function A2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",16)(3,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.setFilterState(i.FilterState.ALL))}),u._uU(4,"All"),u.qZA(),u.TgZ(5,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.setFilterState(i.FilterState.ACTIVE))}),u._uU(6,"Active"),u.qZA(),u.TgZ(7,"button",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.setFilterState(i.FilterState.COMPLETED))}),u._uU(8,"Completed"),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("ngClass",u.VKq(3,Zy,t.isFilterActive(t.FilterState.ALL))),u.xp6(2),u.Q6J("ngClass",u.VKq(5,Zy,t.isFilterActive(t.FilterState.ACTIVE))),u.xp6(2),u.Q6J("ngClass",u.VKq(7,Zy,t.isFilterActive(t.FilterState.COMPLETED)))}}var mm=(()=>(function(n){n.ALL="All",n.ACTIVE="Active",n.COMPLETED="Completed"}(mm||(mm={})),mm))();let S2=(()=>{class n{constructor(t,r,i,a){this.firestore=t,this.auth=r,this.breakpointObserver=i,this.ts=a,this.totalActiveTodos=0,this.user=null,this.FilterState=mm,this.activeFilter=new hn(mm.ALL),this.isSmallScreen=!1,this.auth.user$.subscribe(d=>{d&&(this.user=d,this.items$=t.collection("todos",f=>f.where("userId","==",d.uid)).valueChanges({idField:"id"}).pipe(xi(this.ts.get("todos",[]))),this.items$.pipe((0,Re.b)(f=>{this.ts.set("todos",f)}),(0,ze.U)(f=>f.filter(y=>!y.isCompleted).length)).subscribe(f=>{this.totalActiveTodos=f??0}),this.getTodos())}),this.isSmallScreen=i.isMatched("(max-width: 375px)")}isFilterActive(t){return this.activeFilter.getValue()===t}getTodos(){!this.items$||(this.filteredTodos$=Ks(this.items$,this.activeFilter).pipe((0,ze.U)(([t,r])=>r===mm.ALL?t:t.filter(i=>i.isCompleted===(r===mm.COMPLETED)))))}setFilterState(t){this.activeFilter.next(t)}clearCompleted(){this.user&&this.items$&&this.firestore.collection("todos",t=>t.where("userId","==",this.user?.uid).where("isCompleted","==",!0)).get().pipe((0,ze.U)(t=>t.docs)).subscribe(t=>{t.forEach(r=>{r.ref.delete()})})}setAsCompleted(t){this.firestore.doc(`todos/${t.id}`).update({isCompleted:!0})}deleteTodo(t){this.firestore.doc(`todos/${t.id}`).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(RS),u.Y36(jy),u.Y36(ER),u.Y36(Ao))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:11,vars:4,consts:[["role","list",4,"ngIf"],["class","filter-container",4,"ngIf"],["mat-flat-button","",3,"click"],[4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem"],[4,"ngIf","ngIfElse"],["elseBlock",""],["mat-icon-button","","aria-label","Deleting Todo",1,"delete-todo-btn",3,"click"],["svgIcon","icon-cross",1,"icon-cross"],["svgIcon","icon-check",1,"icon-check"],[1,"completed"],[3,"checked","disabled","change"],[1,"filter-container"],["mat-flat-button","",3,"ngClass","click"],[1,"filter-container","filter-container--mobile"]],template:function(t,r){1&t&&(u._UZ(0,"app-add-todo"),u.TgZ(1,"mat-card")(2,"mat-card-content"),u.YNc(3,D2,3,3,"mat-list",0),u.qZA(),u.TgZ(4,"mat-card-footer")(5,"span"),u._uU(6),u.qZA(),u.YNc(7,T2,7,9,"div",1),u.TgZ(8,"button",2),u.NdJ("click",function(){return r.clearCompleted()}),u._uU(9,"Clear Completed"),u.qZA()()(),u.YNc(10,A2,9,9,"mat-card",3)),2&t&&(u.xp6(3),u.Q6J("ngIf",r.filteredTodos$),u.xp6(3),u.hij("",r.totalActiveTodos," items left"),u.xp6(1),u.Q6J("ngIf",!r.isSmallScreen),u.xp6(3),u.Q6J("ngIf",r.isSmallScreen))},dependencies:[nn,fo,An,$S,jS,gV,lM,WC,wO,vU,bU,w2,Yu],styles:["mat-card[_ngcontent-%COMP%]{margin-top:.5rem;padding:0}span.completed[_ngcontent-%COMP%]{text-decoration:line-through;padding-left:6px}mat-list-item[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid #dfdfdf}mat-list-item[_ngcontent-%COMP%]   .delete-todo-btn[_ngcontent-%COMP%]{display:none;position:absolute;right:0}mat-list-item[_ngcontent-%COMP%]:hover   .delete-todo-btn[_ngcontent-%COMP%]{display:inline}mat-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-left:10px;margin-right:10px}@media screen and (max-width: 375px){mat-card-footer[_ngcontent-%COMP%]{margin-right:0}}.filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 2px}.filter-container[_ngcontent-%COMP%]   button.active-filter[_ngcontent-%COMP%]{color:#8585f3}.filter-container.filter-container--mobile[_ngcontent-%COMP%]{margin-top:1rem}"]}),n})();function M2(n,e){if(1&n&&(u.TgZ(0,"mat-error"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.getErrorMessage())}}function x2(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Password is required "),u.qZA())}const k2=[{path:"login",component:(()=>{class n{constructor(t){this.auth=t,this.email=new GC("",[NC.required,NC.email]),this.password=new GC("",[NC.required])}login(){this.email.value&&this.password.value&&this.auth.signInWithEmailPassword(this.email.value,this.password.value)}signup(){this.email.value&&this.password.value&&this.auth.signUpWithEmailPassword(this.email.value,this.password.value)}loginWithGoogle(){this.auth.signInWithGoogle()}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:4,consts:[["appearance","fill"],["matInput","","required","",3,"formControl"],[4,"ngIf"],["matInput","","type","password","required","",3,"formControl"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-card")(1,"mat-card-content")(2,"mat-form-field",0)(3,"mat-label"),u._uU(4,"Enter your email"),u.qZA(),u._UZ(5,"input",1),u.YNc(6,M2,2,1,"mat-error",2),u.qZA(),u.TgZ(7,"mat-form-field",0)(8,"mat-label"),u._uU(9,"Enter your Password"),u.qZA(),u._UZ(10,"input",3),u.YNc(11,x2,2,0,"mat-error",2),u.qZA()(),u.TgZ(12,"mat-card-actions")(13,"button",4),u.NdJ("click",function(){return r.login()}),u._uU(14,"Login"),u.qZA(),u.TgZ(15,"button",5),u.NdJ("click",function(){return r.signup()}),u._uU(16,"Signup"),u.qZA(),u.TgZ(17,"button",6),u.NdJ("click",function(){return r.loginWithGoogle()}),u._uU(18,"Google Login"),u.qZA()()()),2&t&&(u.xp6(5),u.Q6J("formControl",r.email),u.xp6(1),u.Q6J("ngIf",r.email.invalid),u.xp6(4),u.Q6J("formControl",r.password),u.xp6(1),u.Q6J("ngIf",r.password.invalid))},dependencies:[An,$S,jS,mV,RC,bN,qC,rM,o2,BO,XC,jO,WC],styles:["mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),n})()},{path:"",pathMatch:"full",component:S2,canActivate:[(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(){return this.auth.user$.pipe((0,Re.b)(t=>{t||(console.log("user not found in guard"),this.router.navigateByUrl("/login"))}),(0,ze.U)(t=>!!t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jy),u.LFG(pr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],data:{authGuardPipe:()=>(n=>(0,du.z)(yw,(0,ze.U)(e=>e||n)))(["login"])}}];let R2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pw.forRoot(k2,{initialNavigation:"enabledBlocking"}),pw]}),n})();const Yy_baseUrl="https://rainbow-florentine-bf5376.netlify.app",Yy_firebase={apiKey:"AIzaSyC5wleig5dasXBd-E2I4zcvQwP5oV1jVpI",authDomain:"angular-universal-todo.firebaseapp.com",projectId:"angular-universal-todo",storageBucket:"angular-universal-todo.appspot.com",messagingSenderId:"1074636907751",appId:"1:1074636907751:web:4c43d8901ae4420d752e42"};var xs=(()=>(function(n){n.DARK="Dark",n.LIGHT="Light"}(xs||(xs={})),xs))();let N2=(()=>{class n{constructor(t){this.isServer=!1,this.isServer=cr(t)}setThemeToStorage(t){sessionStorage.setItem("theme",t)}getCurrentTheme(){return this.isServer?xs.LIGHT:sessionStorage.getItem("theme")===xs.DARK?xs.DARK:xs.LIGHT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O2(n,e){1&n&&(u.TgZ(0,"a",5),u._uU(1,"Login"),u.qZA())}function P2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",6),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.logout())}),u._uU(1,"Logout"),u.qZA()}}let F2=(()=>{class n{constructor(t,r,i){this.renderer=t,this.themeService=r,this.auth=i,this.currentTheme=xs.LIGHT,this.currentThemeIcon="icon-moon",this.user=null,this.pageTitle=""}ngOnInit(){this.initialiseTheme(),this.auth.user$.subscribe(t=>{this.user=t})}initialiseTheme(){this.currentTheme=this.themeService.getCurrentTheme(),this.currentTheme===xs.LIGHT&&(this.currentThemeIcon="icon-moon"),this.currentTheme===xs.DARK&&(this.currentThemeIcon="icon-sun",this.renderer.addClass(document.body,"dark-theme"))}changeTheme(){this.currentTheme===xs.LIGHT?(this.themeService.setThemeToStorage(xs.DARK),this.currentTheme=xs.DARK,this.currentThemeIcon="icon-sun",this.renderer.addClass(document.body,"dark-theme")):(this.themeService.setThemeToStorage(xs.LIGHT),this.currentTheme=xs.LIGHT,this.currentThemeIcon="icon-moon",this.renderer.removeClass(document.body,"dark-theme"))}logout(){this.auth.signout()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(N2),u.Y36(jy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle"},decls:9,vars:4,consts:[["mat-flat-button","","routerLink","/login",4,"ngIf"],["mat-flat-button","",3,"click",4,"ngIf"],[1,"page-header-container"],["mat-icon-button","","aria-label","Change Theme",3,"click"],[1,"icon-theme",3,"svgIcon"],["mat-flat-button","","routerLink","/login"],["mat-flat-button","",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"header")(1,"nav"),u.YNc(2,O2,2,0,"a",0),u.YNc(3,P2,2,0,"button",1),u.qZA(),u.TgZ(4,"div",2)(5,"h2"),u._uU(6),u.qZA(),u.TgZ(7,"button",3),u.NdJ("click",function(){return r.changeTheme()}),u._UZ(8,"mat-icon",4),u.qZA()()()),2&t&&(u.xp6(2),u.Q6J("ngIf",!r.user),u.xp6(1),u.Q6J("ngIf",r.user),u.xp6(3),u.Oqu(r.pageTitle),u.xp6(2),u.Q6J("svgIcon",r.currentThemeIcon))},dependencies:[An,Yf,WC,PB,wO],styles:[".page-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:2rem 0}.page-header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{letter-spacing:10px;font-size:30px;font-weight:700;color:#fff;text-transform:uppercase}nav[_ngcontent-%COMP%]{display:flex;justify-content:right}mat-icon[_ngcontent-%COMP%]{height:30px}"]}),n})(),L2=(()=>{class n{constructor(t,r,i,a){this.auth=t,this.matIconRegistry=r,this.domSanitizer=i,this.router=a,this.title="angular-firebase-todo",this.pageTitle="Todo",this.matIconRegistry.addSvgIcon("icon-check",this.domSanitizer.bypassSecurityTrustResourceUrl(`${Yy_baseUrl}/assets/images/icon-check.svg`)),this.matIconRegistry.addSvgIcon("icon-cross",this.domSanitizer.bypassSecurityTrustResourceUrl(`${Yy_baseUrl}/assets/images/icon-cross.svg`)),this.matIconRegistry.addSvgIcon("icon-moon",this.domSanitizer.bypassSecurityTrustResourceUrl(`${Yy_baseUrl}/assets/images/icon-moon.svg`)),this.matIconRegistry.addSvgIcon("icon-sun",this.domSanitizer.bypassSecurityTrustResourceUrl(`${Yy_baseUrl}/assets/images/icon-sun.svg`))}ngOnInit(){this.auth.initialise()}changePageHeader(){this.pageTitle="/login"===this.router.url?"Login":"Todo"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jy),u.Y36(T0),u.Y36(So),u.Y36(pr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:1,consts:[[1,"container"],[3,"pageTitle"],[3,"activate"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-header",1),u.TgZ(2,"main")(3,"router-outlet",2),u.NdJ("activate",function(){return r.changePageHeader()}),u.qZA()(),u.TgZ(4,"footer"),u._uU(5," \xa9 2022 "),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("pageTitle",r.pageTitle))},dependencies:[g,F2],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]{width:min(500px,90%);padding:1rem}@media screen and (max-width: 375px){.container[_ngcontent-%COMP%]{width:100%}}"]}),n})();function GO(n){return new u.vHH(3e3,!1)}function _H(){return typeof window<"u"&&typeof window.document<"u"}function bM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function hf(n){switch(n.length){case 0:return new A0;case 1:return n[0];default:return new NO(n)}}function zO(n,e,t,r,i=new Map,a=new Map){const d=[],f=[];let y=-1,w=null;if(r.forEach(D=>{const M=D.get("offset"),F=M==y,V=F&&w||new Map;D.forEach((U,te)=>{let ve=te,Le=U;if("offset"!==te)switch(ve=e.normalizePropertyName(ve,d),Le){case"!":Le=i.get(te);break;case gd:Le=a.get(te);break;default:Le=e.normalizeStyleValue(te,ve,Le,d)}V.set(ve,Le)}),F||f.push(V),w=V,y=M}),d.length)throw function oH(n){return new u.vHH(3502,!1)}();return f}function wM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&EM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&EM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&EM(t,"destroy",n)))}}function EM(n,e,t){const a=IM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function IM(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function Ho(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function qO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let CM=(n,e)=>!1,WO=(n,e,t)=>[],KO=null;function DM(n){const e=n.parentNode||n.host;return e===KO?null:e}(bM()||typeof Element<"u")&&(_H()?(KO=(()=>document.documentElement)(),CM=(n,e)=>{for(;e;){if(e===n)return!0;e=DM(e)}return!1}):CM=(n,e)=>n.contains(e),WO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let gm=null,ZO=!1;const YO=CM,QO=WO;let JO=(()=>{class n{validateStyleProperty(t){return function bH(n){gm||(gm=function wH(){return typeof document<"u"?document.body:null}()||{},ZO=!!gm.style&&"WebkitAppearance"in gm.style);let e=!0;return gm.style&&!function vH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gm.style,!e&&ZO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return YO(t,r)}getParentElement(t){return DM(t)}query(t,r,i){return QO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,f=[],y){return new A0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),TM=(()=>{class n{}return n.NOOP=new JO,n})();const AM="ng-enter",eD="ng-leave",tD="ng-trigger",nD=".ng-trigger",e1="ng-animating",SM=".ng-animating";function yd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:MM(parseFloat(e[1]),e[2])}function MM(n,e){return"s"===e?1e3*n:n}function rD(n,e,t){return n.hasOwnProperty("duration")?n:function CH(n,e,t){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(GO()),{duration:0,delay:0,easing:""};i=MM(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=MM(parseFloat(y),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function V2(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function B2(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,GO())}return{duration:i,delay:a,easing:d}}(n,e,t)}function S0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function t1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ff(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function r1(n,e,t){return t?e+":"+t+";":""}function s1(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=r1(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=r1(0,SH(t),n.style[t]));n.setAttribute("style",e)}function Hu(n,e,t){n.style&&(e.forEach((r,i)=>{const a=kM(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),bM()&&s1(n))}function ym(n,e){n.style&&(e.forEach((t,r)=>{const i=kM(r);n.style[i]=""}),bM()&&s1(n))}function M0(n){return Array.isArray(n)?1==n.length?n[0]:kO(n):n}const xM=new RegExp("{{\\s*(.+?)\\s*}}","g");function o1(n){let e=[];if("string"==typeof n){let t;for(;t=xM.exec(n);)e.push(t[1]);xM.lastIndex=0}return e}function x0(n,e,t){const r=n.toString(),i=r.replace(xM,(a,d)=>{let f=e[d];return null==f&&(t.push(function H2(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function iD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const AH=/-+([a-z0-9])/g;function kM(n){return n.replace(AH,(...e)=>e[1].toUpperCase())}function SH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function j2(n){return new u.vHH(3004,!1)}()}}function a1(n,e){return window.getComputedStyle(n)[e]}function OH(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function PH(n,e,t){if(":"==n[0]){const y=function FH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function nH(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function tH(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],d=r[3];e.push(l1(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(l1(d,i))}(r,t,e)):t.push(n),t}const lD=new Set(["true","1"]),uD=new Set(["false","0"]);function l1(n,e){const t=lD.has(n)||uD.has(n),r=lD.has(e)||uD.has(e);return(i,a)=>{let d="*"==n||n==i,f="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?lD.has(n):uD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?lD.has(e):uD.has(e)),d&&f}}const LH=new RegExp("s*:selfs*,?","g");function RM(n,e,t,r){return new VH(n).build(e,t,r)}class VH{constructor(e){this._driver=e}build(e,t,r){const i=new HH(t);return this._resetContextStyleTimingState(i),jo(this,M0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function G2(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function z2(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{o1(y).forEach(w=>{d.hasOwnProperty(w)||a.add(w)})})}),a.size&&(iD(a.values()),t.errors.push(function q2(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=jo(this,M0(e.animation),t);return{type:1,matchers:OH(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_m(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>jo(this,r,t)),options:_m(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const f=jo(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:_m(e.options)}}visitAnimate(e,t){const r=function $H(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NM(rD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=NM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=rD(t,e);return NM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:JC({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=JC(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===gd?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(t1(f));let a=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let M=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function K2(n,e,t,r,i){return new u.vHH(3010,!1)}()),M=!1),a=D.startTime),M&&w.set(y,{startTime:a,endTime:i}),t.options&&function TH(n,e,t){const r=e.params||{},i=o1(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function U2(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Z2(){return new u.vHH(3011,!1)}()),r;let a=0;const d=[];let f=!1,y=!1,w=0;const D=e.steps.map(Le=>{const Ye=this._makeStyleAst(Le,t);let mt=null!=Ye.offset?Ye.offset:function jH(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ye.styles),it=0;return null!=mt&&(a++,it=Ye.offset=mt),y=y||it<0||it>1,f=f||it<w,w=it,d.push(it),Ye});y&&t.errors.push(function Y2(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function Q2(){return new u.vHH(3200,!1)}());const M=e.steps.length;let F=0;a>0&&a<M?t.errors.push(function J2(){return new u.vHH(3202,!1)}()):0==a&&(F=1/(M-1));const V=M-1,U=t.currentTime,te=t.currentAnimateTimings,ve=te.duration;return D.forEach((Le,Ye)=>{const mt=F>0?Ye==V?1:F*Ye:d[Ye],it=mt*ve;t.currentTime=U+te.delay+it,te.duration=it,this._validateStyleAst(Le,t),Le.offset=mt,r.styles.push(Le)}),r}visitReference(e,t){return{type:8,animation:jo(this,M0(e.animation),t),options:_m(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_m(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_m(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function BH(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(LH,"")),n=n.replace(/@\*/g,nD).replace(/@\w+/g,t=>nD+"-"+t.slice(1)).replace(/:animating/g,SM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Ho(t.collectedStyles,t.currentQuerySelector,new Map);const f=jo(this,M0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:_m(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function X2(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rD(e.timings,t.errors,!0);return{type:12,animation:jo(this,M0(e.animation),t),timings:r,options:null}}}class HH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _m(n){return n?(n=S0(n)).params&&(n.params=function UH(n){return n?S0(n):null}(n.params)):n={},n}function NM(n,e,t){return{duration:n,delay:e,easing:t}}function OM(n,e,t,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class cD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const qH=new RegExp(":enter","g"),KH=new RegExp(":leave","g");function PM(n,e,t,r,i,a=new Map,d=new Map,f,y,w=[]){return(new ZH).buildKeyframes(n,e,t,r,i,a,d,f,y,w)}class ZH{buildKeyframes(e,t,r,i,a,d,f,y,w,D=[]){w=w||new cD;const M=new FM(e,t,w,i,a,D,[]);M.options=y;const F=y.delay?yd(y.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([d],null,M.errors,y),jo(this,r,M);const V=M.timelines.filter(U=>U.containsAnimation());if(V.length&&f.size){let U;for(let te=V.length-1;te>=0;te--){const ve=V[te];if(ve.element===t){U=ve;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([f],null,M.errors,y)}return V.length?V.map(U=>U.buildKeyframes()):[OM(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const d="number"==typeof a?a:yd(x0(a,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?yd(r.duration):null,f=null!=r.delay?yd(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),jo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dD);const d=yd(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>jo(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?yd(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),jo(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return rD(t.params?x0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?yd(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dD);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(y=M.currentTimeline),jo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const M=D.currentTime;jo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const dD={};class FM{constructor(e,t,r,i,a,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new hD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=yd(r.duration)),null!=r.delay&&(i.delay=yd(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=x0(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new FM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=dD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new YH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(qH,"."+this._enterClassName)).replace(KH,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&d.push(function eH(n){return new u.vHH(3014,!1)}()),f}}class hD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||gd),this._currentKeyframe.set(t,gd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},d=function QH(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,gd)}else ff(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of d){const w=x0(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??gd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=ff(f,new Map,this._backFill);w.forEach((D,M)=>{"!"===D?e.add(M):D===gd&&t.add(M)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?iD(e.values()):[],d=t.size?iD(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return OM(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class YH extends hD{constructor(e,t,r,i,a,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,f=t/d,y=ff(e[0]);y.set("offset",0),a.push(y);const w=ff(e[0]);w.set("offset",d1(f)),a.push(w);const D=e.length-1;for(let M=1;M<=D;M++){let F=ff(e[M]);const V=F.get("offset");F.set("offset",d1((t+V*r)/d)),a.push(F)}r=d,t=0,i="",e=a}return OM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function d1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class LM{}const JH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class XH extends LM{normalizePropertyName(e,t){return kM(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(JH.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function $2(n,e){return new u.vHH(3005,!1)}())}return d+a}}function h1(n,e,t,r,i,a,d,f,y,w,D,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:M,errors:F}}const VM={};class f1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ej(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,d,f,y,w,D){const M=[],F=this.ast.options&&this.ast.options.params||VM,U=this.buildStyles(r,f&&f.params||VM,M),te=y&&y.params||VM,ve=this.buildStyles(i,te,M),Le=new Set,Ye=new Map,mt=new Map,it="void"===i,Tt={params:tj(te,F),delay:this.ast.options?.delay},xt=D?[]:PM(e,t,this.ast.animation,a,d,U,ve,Tt,w,M);let en=0;if(xt.forEach(_d=>{en=Math.max(_d.duration+_d.delay,en)}),M.length)return h1(t,this._triggerName,r,i,it,U,ve,[],[],Ye,mt,en,M);xt.forEach(_d=>{const vd=_d.element,M1=Ho(Ye,vd,new Set);_d.preStyleProps.forEach(vm=>M1.add(vm));const R0=Ho(mt,vd,new Set);_d.postStyleProps.forEach(vm=>R0.add(vm)),vd!==t&&Le.add(vd)});const ks=iD(Le.values());return h1(t,this._triggerName,r,i,it,U,ve,xt,ks,Ye,mt,en)}}function tj(n,e){const t=S0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class nj{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=S0(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!==d&&(i[a]=d)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{d&&(d=x0(d,i,t));const y=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,y,d,t),r.set(y,d)})}),r}}class ij{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new nj(i.style,i.options&&i.options.params||{},r))}),p1(this.states,"true","1"),p1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new f1(e,i,this.states))}),this.fallbackTransition=function sj(n,e,t){return new f1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function p1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const oj=new cD;class aj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=RM(this._driver,t,r,[]);if(r.length)throw function aH(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=zO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let d;const f=new Map;if(a?(d=PM(this._driver,t,a,AM,eD,new Map,new Map,r,oj,i),d.forEach(D=>{const M=Ho(f,D.element,new Map);D.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function lH(){return new u.vHH(3300,!1)}()),d=[]),i.length)throw function uH(n){return new u.vHH(3504,!1)}();f.forEach((D,M)=>{D.forEach((F,V)=>{D.set(V,this._driver.computeStyle(M,V,gd))})});const w=hf(d.map(D=>{const M=f.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function cH(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=IM(t,"","","");return wM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const m1="ng-animate-queued",BM="ng-animate-disabled",hj=[],g1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Na="__ng_removed";class UM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function yj(n){return n??null}(r?e.value:e),r){const a=S0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const k0="void",HM=new UM(k0);class pj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function dH(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function hH(n){return new u.vHH(3303,!1)}();if(!function _j(n){return"start"==n||"done"==n}(r))throw function fH(n,e){return new u.vHH(3400,!1)}();const a=Ho(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const f=Ho(this._engine.statesByElement,e,new Map);return f.has(t)||(Oa(e,tD),Oa(e,tD+"-"+t),f.set(t,HM)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(d);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function pH(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new jM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Oa(e,tD),Oa(e,tD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new UM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=HM),w.value!==k0&&y.value===w.value){if(!function wj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const te=[],ve=a.matchStyles(y.value,y.params,te),Le=a.matchStyles(w.value,w.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{ym(e,ve),Hu(e,Le)})}return}const F=Ho(this._engine.playersByElement,e,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let V=a.matchTransition(y.value,w.value,e,w.params),U=!1;if(!V){if(!i)return;V=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:w,player:d,isFallbackTransition:U}),U||(Oa(e,m1),d.onStart(()=>{Qy(e,m1)})),d.onDone(()=>{let te=this.players.indexOf(d);te>=0&&this.players.splice(te,1);const ve=this._engine.playersByElement.get(e);if(ve){let Le=ve.indexOf(d);Le>=0&&ve.splice(Le,1)}}),this.players.push(d),F.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,nD,!0);r.forEach(i=>{if(i[Na])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(d.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,k0,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&hf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,w=r.get(d)||HM,D=new UM(k0),M=new jM(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Na];(!a||a===g1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Oa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=IM(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,wM(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class mj{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new pj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(fD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!fD(t))return;const a=t[Na];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oa(e,BM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qy(e,BM))}removeNode(e,t,r,i){if(fD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Na]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return fD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,nD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,SM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Na];if(t&&t.setForRemoval){if(e[Na]=g1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(BM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Oa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?hf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mH(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new cD,i=[],a=new Map,d=[],f=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(ut=>{D.add(ut);const It=this.driver.query(ut,".ng-animate-queued",!0);for(let kt=0;kt<It.length;kt++)D.add(It[kt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=v1(F,this.collectedEnterElements),U=new Map;let te=0;V.forEach((ut,It)=>{const kt=AM+te++;U.set(It,kt),ut.forEach(cn=>Oa(cn,kt))});const ve=[],Le=new Set,Ye=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const It=this.collectedLeaveElements[ut],kt=It[Na];kt&&kt.setForRemoval&&(ve.push(It),Le.add(It),kt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(cn=>Le.add(cn)):Ye.add(It))}const mt=new Map,it=v1(F,Array.from(Le));it.forEach((ut,It)=>{const kt=eD+te++;mt.set(It,kt),ut.forEach(cn=>Oa(cn,kt))}),e.push(()=>{V.forEach((ut,It)=>{const kt=U.get(It);ut.forEach(cn=>Qy(cn,kt))}),it.forEach((ut,It)=>{const kt=mt.get(It);ut.forEach(cn=>Qy(cn,kt))}),ve.forEach(ut=>{this.processLeaveNode(ut)})});const Tt=[],xt=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(kt=>{const cn=kt.player,vi=kt.element;if(Tt.push(cn),this.collectedEnterElements.length){const ss=vi[Na];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(kt.triggerName)){const bm=ss.previousTriggersValues.get(kt.triggerName),Pa=this.statesByElement.get(kt.element);if(Pa&&Pa.has(kt.triggerName)){const gD=Pa.get(kt.triggerName);gD.value=bm,Pa.set(kt.triggerName,gD)}}return void cn.destroy()}}const ju=!M||!this.driver.containsElement(M,vi),$o=mt.get(vi),pf=U.get(vi),br=this._buildInstruction(kt,r,pf,$o,ju);if(br.errors&&br.errors.length)return void xt.push(br);if(ju)return cn.onStart(()=>ym(vi,br.fromStyles)),cn.onDestroy(()=>Hu(vi,br.toStyles)),void i.push(cn);if(kt.isFallbackTransition)return cn.onStart(()=>ym(vi,br.fromStyles)),cn.onDestroy(()=>Hu(vi,br.toStyles)),void i.push(cn);const R1=[];br.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||R1.push(ss)}),br.timelines=R1,r.append(vi,br.timelines),d.push({instruction:br,player:cn,element:vi}),br.queriedElements.forEach(ss=>Ho(f,ss,[]).push(cn)),br.preStyleProps.forEach((ss,bm)=>{if(ss.size){let Pa=y.get(bm);Pa||y.set(bm,Pa=new Set),ss.forEach((gD,zM)=>Pa.add(zM))}}),br.postStyleProps.forEach((ss,bm)=>{let Pa=w.get(bm);Pa||w.set(bm,Pa=new Set),ss.forEach((gD,zM)=>Pa.add(zM))})});if(xt.length){const ut=[];xt.forEach(It=>{ut.push(function gH(n,e){return new u.vHH(3505,!1)}())}),Tt.forEach(It=>It.destroy()),this.reportError(ut)}const en=new Map,ks=new Map;d.forEach(ut=>{const It=ut.element;r.has(It)&&(ks.set(It,It),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,en))}),i.forEach(ut=>{const It=ut.element;this._getPreviousPlayers(It,!1,ut.namespaceId,ut.triggerName,null).forEach(cn=>{Ho(en,It,[]).push(cn),cn.destroy()})});const _d=ve.filter(ut=>w1(ut,y,w)),vd=new Map;_1(vd,this.driver,Ye,w,gd).forEach(ut=>{w1(ut,y,w)&&_d.push(ut)});const R0=new Map;V.forEach((ut,It)=>{_1(R0,this.driver,new Set(ut),y,"!")}),_d.forEach(ut=>{const It=vd.get(ut),kt=R0.get(ut);vd.set(ut,new Map([...Array.from(It?.entries()??[]),...Array.from(kt?.entries()??[])]))});const vm=[],x1=[],k1={};d.forEach(ut=>{const{element:It,player:kt,instruction:cn}=ut;if(r.has(It)){if(D.has(It))return kt.onDestroy(()=>Hu(It,cn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(cn.totalTime),void i.push(kt);let vi=k1;if(ks.size>1){let $o=It;const pf=[];for(;$o=$o.parentNode;){const br=ks.get($o);if(br){vi=br;break}pf.push($o)}pf.forEach(br=>ks.set(br,vi))}const ju=this._buildAnimation(kt.namespaceId,cn,en,a,R0,vd);if(kt.setRealPlayer(ju),vi===k1)vm.push(kt);else{const $o=this.playersByElement.get(vi);$o&&$o.length&&(kt.parentPlayer=hf($o)),i.push(kt)}}else ym(It,cn.fromStyles),kt.onDestroy(()=>Hu(It,cn.toStyles)),x1.push(kt),D.has(It)&&i.push(kt)}),x1.forEach(ut=>{const It=a.get(ut.element);if(It&&It.length){const kt=hf(It);ut.setRealPlayer(kt)}}),i.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<ve.length;ut++){const It=ve[ut],kt=It[Na];if(Qy(It,eD),kt&&kt.hasAnimation)continue;let cn=[];if(f.size){let ju=f.get(It);ju&&ju.length&&cn.push(...ju);let $o=this.driver.query(It,SM,!0);for(let pf=0;pf<$o.length;pf++){let br=f.get($o[pf]);br&&br.length&&cn.push(...br)}}const vi=cn.filter(ju=>!ju.destroyed);vi.length?vj(this,It,vi):this.processLeaveNode(It)}return ve.length=0,vm.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const It=this.players.indexOf(ut);this.players.splice(It,1)}),ut.play()}),vm}elementContainsData(e,t){let r=!1;const i=t[Na];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==k0;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==a,M=Ho(r,w,[]);this._getPreviousPlayers(w,D,d,f,t.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),M.push(V)})}ym(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const f=t.triggerName,y=t.element,w=[],D=new Set,M=new Set,F=t.timelines.map(U=>{const te=U.element;D.add(te);const ve=te[Na];if(ve&&ve.removedBeforeQueried)return new A0(U.duration,U.delay);const Le=te!==y,Ye=function bj(n){const e=[];return b1(n,e),e}((r.get(te)||hj).map(en=>en.getRealPlayer())).filter(en=>!!en.element&&en.element===te),mt=a.get(te),it=d.get(te),Tt=zO(0,this._normalizer,0,U.keyframes,mt,it),xt=this._buildPlayer(U,Tt,Ye);if(U.subTimeline&&i&&M.add(te),Le){const en=new jM(e,f,te);en.setRealPlayer(xt),w.push(en)}return xt});w.forEach(U=>{Ho(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function gj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,U.element,U))}),D.forEach(U=>Oa(U,e1));const V=hf(F);return V.onDestroy(()=>{D.forEach(U=>Qy(U,e1)),Hu(y,t.toStyles)}),M.forEach(U=>{Ho(i,U,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new A0(e.duration,e.delay)}}class jM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new A0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>wM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ho(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fD(n){return n&&1===n.nodeType}function y1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _1(n,e,t,r,i){const a=[];t.forEach(y=>a.push(y1(y)));const d=[];r.forEach((y,w)=>{const D=new Map;y.forEach(M=>{const F=e.computeStyle(w,M,i);D.set(M,F),(!F||0==F.length)&&(w[Na]=fj,d.push(w))}),n.set(w,D)});let f=0;return t.forEach(y=>y1(y,a[f++])),d}function v1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(f){if(!f)return 1;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),a.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function Oa(n,e){n.classList?.add(e)}function Qy(n,e){n.classList?.remove(e)}function vj(n,e,t){hf(t).onDone(()=>n.processLeaveNode(e))}function b1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof NO?b1(r.players,e):e.push(r)}}function w1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class pD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new mj(e,t,r),this._timelineEngine=new aj(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],D=RM(this._driver,a,y,[]);if(y.length)throw function sH(n,e){return new u.vHH(3404,!1)}();f=function rj(n,e,t){return new ij(n,e,t)}(i,D,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=qO(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,f]=qO(r);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ij=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Hu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hu(this._element,this._initialStyles),this._endStyles&&(Hu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ym(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ym(this._element,this._endStyles),this._endStyles=null),Hu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $M(n){let e=null;return n.forEach((t,r)=>{(function Cj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class E1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:a1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Dj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return YO(e,t)}getParentElement(e){return DM(e)}query(e,t,r){return QO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,D=d.filter(V=>V instanceof E1);(function MH(n,e){return 0===n||0===e})(r,i)&&D.forEach(V=>{V.currentSnapshot.forEach((U,te)=>w.set(te,U))});let M=function DH(n){return n.length?n[0]instanceof Map?n:n.map(e=>t1(e)):[]}(t).map(V=>ff(V));M=function xH(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,d)=>{r.has(d)||i.push(d),r.set(d,a)}),i.length)for(let a=1;a<e.length;a++){let d=e[a];i.forEach(f=>d.set(f,a1(n,f)))}}return e}(e,M,w);const F=function Ej(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$M(e[0]),e.length>1&&(r=$M(e[e.length-1]))):e instanceof Map&&(t=$M(e)),t||r?new Ij(n,t,r):null}(e,M);return new E1(e,M,y,F)}}let Tj=(()=>{class n extends xO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?kO(t):t;return I1(this._renderer,null,r,"register",[i]),new Aj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Aj extends class LU{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Sj(this._id,e,t||{},this._renderer)}}class Sj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const C1="@.disabled";let Mj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const f=d?.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new D1("",a,this.engine),this._rendererCache.set(a,D)),D}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(d,f,t,D.name,D)};return r.data.animation.forEach(y),new xj(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(pD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class D1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==C1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xj extends D1{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==C1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function kj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),d="";return"@"!=a.charAt(0)&&([a,d]=function Rj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let Nj=(()=>{class n extends pD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(TM),u.LFG(LM),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const T1=[{provide:xO,useClass:Tj},{provide:LM,useFactory:function Oj(){return new XH}},{provide:pD,useClass:Nj},{provide:u.FYo,useFactory:function Pj(n,e,t){return new Mj(n,e,t)},deps:[Eo,pD,u.R0b]}],GM=[{provide:TM,useFactory:()=>new Dj},{provide:u.QbO,useValue:"BrowserAnimations"},...T1],A1=[{provide:TM,useClass:JO},{provide:u.QbO,useValue:"NoopAnimations"},...T1];let Fj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?A1:GM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:GM,imports:[iu]}),n})(),Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[L2]}),n.\u0275inj=u.cJS({imports:[iu.withServerTransition({appId:"serverApp"}),R2,yV,Fj,yB,to.hO.initializeApp(Yy_firebase),lL,xB,b2,vM,FB,lU,YB,yL,TU]}),n})();function S1(){ru().bootstrapModule(Lj).catch(n=>console.error(n))}(0,u.G48)(),"complete"===document.readyState?S1():document.addEventListener("DOMContentLoaded",S1)},5867:(at,Te,P)=>{P.d(Te,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=P(9681);(0,u.registerVersion)("firebase","9.10.0","app")},127:(at,Te,P)=>{P.d(Te,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(at,Te,P)=>{P.r(Te);var u=P(5861),ne=P(3942),N=P(2090),ue=P(9681),oe=P(655),fe=P(1877),ie=P(4859);const we=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new fe.Yd("@firebase/auth");function st(_,...p){Qe.logLevel<=fe.in.ERROR&&Qe.error(`Auth (${ue.SDK_VERSION}): ${_}`,...p)}function Me(_,...p){throw je(_,...p)}function be(_,...p){return je(_,...p)}function Ce(_,p,g){const b=Object.assign(Object.assign({},tt()),{[p]:g});return new N.LL("auth","Firebase",b).create(p,{appName:_.name})}function He(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Me(_,"argument-error"),Ce(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(_,...p){if("string"!=typeof _){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return _e.create(_,...p)}function H(_,p,...g){if(!_)throw je(p,...g)}function ye(_){const p="INTERNAL ASSERTION FAILED: "+_;throw st(p),new Error(p)}function Y(_,p){_||ye(p)}const X=new Map;function ae(_){Y(_ instanceof Function,"Expected a class definition");let p=X.get(_);return p?(Y(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,X.set(_,p),p)}function Oe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function pt(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class sn{constructor(p,g){this.shortDelay=p,this.longDelay=g,Y(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nn(_,p){Y(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Wt{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xr=new sn(3e4,6e4);function Vt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function tn(_,p,g,b){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(_,p,g,b,S={}){return Wr(_,S,(0,u.Z)(function*(){let R={},Z={};b&&("GET"===p?Z=b:R={body:JSON.stringify(b)});const ce=(0,N.xO)(Object.assign({key:_.config.apiKey},Z)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),Wt.fetch()(Fi(_,_.config.apiHost,g,ce),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Wr(_,p,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(_,p,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Kt),p);try{const S=new Zr(_),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Z=yield R.json();if("needConfirmation"in Z)throw bi(_,"account-exists-with-different-credential",Z);if(R.ok&&!("errorMessage"in Z))return Z;{const ce=R.ok?Z.errorMessage:Z.error.message,[Ve,et]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw bi(_,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ve)throw bi(_,"email-already-in-use",Z);if("USER_DISABLED"===Ve)throw bi(_,"user-disabled",Z);const wt=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Ce(_,wt,et);Me(_,wt)}}catch(S){if(S instanceof N.ZR)throw S;Me(_,"network-request-failed")}})).apply(this,arguments)}function Kr(_,p,g,b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(_,p,g,b,S={}){const R=yield tn(_,p,g,b,S);return"mfaPendingCredential"in R&&Me(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Fi(_,p,g,b){const S=`${p}${g}?${b}`;return _.config.emulator?Nn(_.config,S):`${_.config.apiScheme}://${S}`}class Zr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bi(_,p,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=be(_,p,b);return S.customData._tokenResponse=g,S}function Ze(){return(Ze=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Yr(_,p){return os.apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function On(_,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ii(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function gn(){return(gn=(0,u.Z)(function*(_,p=!1){const g=(0,N.m9)(_),b=yield g.getIdToken(p),S=lt(b);H(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,Z=R?.sign_in_provider;return{claims:S,token:b,authTime:ii(gt(S.auth_time)),issuedAtTime:ii(gt(S.iat)),expirationTime:ii(gt(S.exp)),signInProvider:Z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(_){return 1e3*Number(_)}function lt(_){var p;const[g,b,S]=_.split(".");if(void 0===g||void 0===b||void 0===S)return st("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,N.tV)(b);return R?JSON.parse(R):(st("Failed to decode base64 JWT payload"),null)}catch(R){return st("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function ar(_,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&kr(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function kr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ct{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(g=b)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class as{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(_){var p;const g=_.auth,b=yield _.getIdToken(),S=yield ar(_,On(g,{idToken:b}));H(S?.users.length,g,"internal-error");const R=S.users[0];_._notifyReloadListener(R);const Z=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?B(R.providerUserInfo):[],ce=G(_.providerData,Z),wt=!!_.isAnonymous&&!(_.email&&R.passwordHash||ce?.length),dt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new as(R.createdAt,R.lastLoginAt),isAnonymous:wt};Object.assign(_,dt)})).apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(_){const p=(0,N.m9)(_);yield Zt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function G(_,p){return[..._.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function B(_){return _.map(p=>{var{providerId:g}=p,b=(0,oe._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function W(){return(W=(0,u.Z)(function*(_,p){const g=yield Wr(_,{},(0,u.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=_.config,Z=Fi(_,S,"/v1/token",`key=${R}`),ce=yield _._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(Z,{method:"POST",headers:ce,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function dn(_){const p=lt(_);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,u.Z)(function*(){return H(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:Z}=yield function z(_,p){return W.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(S,R,Number(Z))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:S,expirationTime:R}=g,Z=new De;return b&&(H("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),S&&(H("string"==typeof S,"internal-error",{appName:p}),Z.accessToken=S),R&&(H("number"==typeof R,"internal-error",{appName:p}),Z.expirationTime=R),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Ue(_,p){H("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class ot{constructor(p){var{uid:g,auth:b,stsTokenManager:S}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new as(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const b=yield ar(g,g.stsTokenManager.getToken(g.auth,p));return H(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Zn(_){return gn.apply(this,arguments)}(this,p)}reload(){return function zt(_){return K.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ot(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Zt(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield ar(p,function Go(_,p){return Ze.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,S,R,Z,ce,Ve,et,wt;const dt=null!==(b=g.displayName)&&void 0!==b?b:void 0,nr=null!==(S=g.email)&&void 0!==S?S:void 0,Zi=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,mu=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,rh=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,hi=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,Ac=null!==(et=g.createdAt)&&void 0!==et?et:void 0,Sc=null!==(wt=g.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Jm,emailVerified:ih,isAnonymous:Xm,providerData:Mc,stsTokenManager:p_}=g;H(Jm&&p_,p,"internal-error");const B0=De.fromJSON(this.name,p_);H("string"==typeof Jm,p,"internal-error"),Ue(dt,p.name),Ue(nr,p.name),H("boolean"==typeof ih,p,"internal-error"),H("boolean"==typeof Xm,p,"internal-error"),Ue(Zi,p.name),Ue(mu,p.name),Ue(rh,p.name),Ue(hi,p.name),Ue(Ac,p.name),Ue(Sc,p.name);const pl=new ot({uid:Jm,auth:p,email:nr,emailVerified:ih,displayName:dt,isAnonymous:Xm,photoURL:mu,phoneNumber:Zi,tenantId:rh,stsTokenManager:B0,createdAt:Ac,lastLoginAt:Sc});return Mc&&Array.isArray(Mc)&&(pl.providerData=Mc.map(xc=>Object.assign({},xc))),hi&&(pl._redirectEventId=hi),pl}static _fromIdTokenResponse(p,g,b=!1){return(0,u.Z)(function*(){const S=new De;S.updateFromServerResponse(g);const R=new ot({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Zt(R),R})()}}const Yt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,u.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function Yn(_,p,g){return`firebase:${_}:${p}:${g}`}class Bt{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=Yn(this.userKey,S.apiKey,R),this.fullPersistenceKey=Yn("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ot._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Bt(ae(Yt),p,b);const S=(yield Promise.all(g.map(function(){var et=(0,u.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return et.apply(this,arguments)}}()))).filter(et=>et);let R=S[0]||ae(Yt);const Z=Yn(b,p.config.apiKey,p.name);let ce=null;for(const et of g)try{const wt=yield et._get(Z);if(wt){const dt=ot._fromJSON(p,wt);et!==R&&(ce=dt),R=et;break}}catch{}const Ve=S.filter(et=>et._shouldAllowMigration);return R._shouldAllowMigration&&Ve.length?(R=Ve[0],ce&&(yield R._set(Z,ce.toJSON())),yield Promise.all(g.map(function(){var et=(0,u.Z)(function*(wt){if(wt!==R)try{yield wt._remove(Z)}catch{}});return function(wt){return et.apply(this,arguments)}}())),new Bt(R,p,b)):new Bt(R,p,b)})()}}function Ot(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Rr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(bn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ge(p))return"Blackberry";if(vt(p))return"Webos";if(Hn(p))return"Safari";if((p.includes("chrome/")||Li(p))&&!p.includes("edge/"))return"Chrome";if(jn(p))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function bn(_=(0,N.z$)()){return/firefox\//i.test(_)}function Hn(_=(0,N.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Li(_=(0,N.z$)()){return/crios\//i.test(_)}function Rr(_=(0,N.z$)()){return/iemobile/i.test(_)}function jn(_=(0,N.z$)()){return/android/i.test(_)}function Ge(_=(0,N.z$)()){return/blackberry/i.test(_)}function vt(_=(0,N.z$)()){return/webos/i.test(_)}function Jt(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function uo(_=(0,N.z$)()){return Jt(_)||jn(_)||vt(_)||Ge(_)||/windows phone/i.test(_)||Rr(_)}function Ns(_,p=[]){let g;switch(_){case"Browser":g=Ot((0,N.z$)());break;case"Worker":g=`${Ot((0,N.z$)())}-${_}`;break;default:g=_}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${b}`}class zo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=R=>new Promise((Z,ce)=>{try{Z(p(R))}catch(Ve){ce(Ve)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){var b;if(g.auth.currentUser===p)return;const S=[];try{for(const R of g.queue)yield R(p),R.onAbort&&S.push(R.onAbort)}catch(R){S.reverse();for(const Z of S)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=R)||void 0===b?void 0:b.message})}})()}}class Pt{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new co(this),this.idTokenSubscription=new co(this),this.beforeStateQueue=new zo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield Bt.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let R=S,Z=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Ve=R?._redirectEventId,et=yield g.tryRedirectSignIn(p);(!ce||ce===Ve)&&et?.user&&(R=et.user,Z=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ce){R=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return H(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){var b;try{yield Zt(p)}catch(S){if("auth/network-request-failed"!==(null===(b=S)||void 0===b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&H(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&H(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,u.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;H(b,g,"argument-error"),g.redirectPersistenceManager=yield Bt.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return H(Z,this,"internal-error"),Z.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,b,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ns(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function wn(_){return(0,N.m9)(_)}class co{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Os(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class wr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,g){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function Gn(_,p){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:resetPassword",Vt(_,p))})).apply(this,arguments)}function nn(_,p){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zu(_,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:update",Vt(_,p))})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithPassword",Vt(_,p))})).apply(this,arguments)}function Fs(_,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:sendOobCode",Vt(_,p))})).apply(this,arguments)}function An(_,p){return qu.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(_,p){return Fs(_,p)})).apply(this,arguments)}function ur(_,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(_,p){return Fs(_,p)})).apply(this,arguments)}function Ba(_,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(_,p){return Fs(_,p)})).apply(this,arguments)}function Wu(_,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(_,p){return Fs(_,p)})).apply(this,arguments)}function bd(){return(bd=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,p))})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,p))})).apply(this,arguments)}class Zu extends wr{constructor(p,g,b,S=null){super("password",b),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Zu(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Zu(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Va(_,p){return fo.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function mf(_,p){return bd.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return nn(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function gf(_,p){return Ku.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Jn(_,p){return wd.apply(this,arguments)}function wd(){return(wd=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithIdp",Vt(_,p))})).apply(this,arguments)}class ls extends wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ls(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=g,R=(0,oe._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const Z=new ls(b,S);return Z.idToken=R.idToken||void 0,Z.accessToken=R.accessToken||void 0,Z.secret=R.secret,Z.nonce=R.nonce,Z.pendingToken=R.pendingToken||null,Z}_getIdTokenResponse(p){return Jn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Jn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Jn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Em(_,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:sendVerificationCode",Vt(_,p))})).apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,p))})).apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(_,p){const g=yield Kr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,p));if(g.temporaryProof)throw bi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Cm={USER_NOT_FOUND:"user-not-found"};function Id(){return(Id=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Cm)})).apply(this,arguments)}class Vs extends wr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Vs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Vs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Qu(_,p){return Ls.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Im(_,p){return Ed.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Dm(_,p){return Id.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||g||S||R?new Vs({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class Rl{constructor(p){var g,b,S,R,Z,ce;const Ve=(0,N.zd)((0,N.pd)(p)),et=null!==(g=Ve.apiKey)&&void 0!==g?g:null,wt=null!==(b=Ve.oobCode)&&void 0!==b?b:null,dt=function Cd(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);H(et&&wt&&dt,"argument-error"),this.apiKey=et,this.operation=dt,this.code=wt,this.continueUrl=null!==(R=Ve.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Z=Ve.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ce=Ve.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const g=function Dd(_){const p=(0,N.zd)((0,N.pd)(_)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||g||p||_}(p);try{return new Rl(g)}catch{return null}}}let Bi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return Zu._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=Rl.parseLink(b);return H(S,"argument-error"),Zu._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class us{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class cs extends us{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class po extends cs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return H("providerId"in g&&"signInMethod"in g,"argument-error"),ls._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),ls._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return po.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return po.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:Z,providerId:ce}=p;if(!b&&!S&&!g&&!R||!ce)return null;try{return new po(ce)._credential({idToken:g,accessToken:b,nonce:Z,pendingToken:R})}catch{return null}}}let Ua=(()=>{class _ extends cs{constructor(){super("facebook.com")}static credential(g){return ls._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Nl=(()=>{class _ extends cs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ls._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ju=(()=>{class _ extends cs{constructor(){super("github.com")}static credential(g){return ls._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class mo extends wr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Jn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Jn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Jn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=g;return b&&S&&R&&b===S?new mo(b,R):null}static _create(p,g){return new mo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oi extends us{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return oi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return oi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=mo.fromJSON(p);return H(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return mo._create(b,g)}catch{return null}}}let Qr=(()=>{class _ extends cs{constructor(){super("twitter.com")}static credential(g,b){return ls._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Wo(_,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signUp",Vt(_,p))})).apply(this,arguments)}class cr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,S=!1){return(0,u.Z)(function*(){const R=yield ot._fromIdTokenResponse(p,b,S),Z=vf(b);return new cr({user:R,providerId:Z,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=vf(b);return new cr({user:p,providerId:S,_tokenResponse:b,operationType:g})})()}}function vf(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Sn(){return(Sn=(0,u.Z)(function*(_){var p;const g=wn(_);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new cr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Wo(g,{returnSecureToken:!0}),S=yield cr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Pl extends N.ZR{constructor(p,g,b,S){var R;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Pl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,S){return new Pl(p,g,b,S)}}function wf(_,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Pl._fromErrorAndOperation(_,R,p,b):R})}function ai(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function Fl(){return(Fl=(0,u.Z)(function*(_,p){const g=(0,N.m9)(_);yield $t(!0,g,p);const{providerUserInfo:b}=yield Yr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=ai(b||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function go(_,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(_,p,g=!1){const b=yield ar(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return cr._forOperation(_,"link",b)})).apply(this,arguments)}function $t(_,p,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(_,p,g){yield Zt(p);const S=!1===_?"provider-already-linked":"no-such-provider";H(ai(p.providerData).has(g)===_,p.auth,S)})).apply(this,arguments)}function yo(_,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,u.Z)(function*(_,p,g=!1){var b;const{auth:S}=_,R="reauthenticate";try{const Z=yield ar(_,wf(S,R,p,_),g);H(Z.idToken,S,"internal-error");const ce=lt(Z.idToken);H(ce,S,"internal-error");const{sub:Ve}=ce;return H(_.uid===Ve,S,"user-mismatch"),cr._forOperation(_,R,Z)}catch(Z){throw"auth/user-not-found"===(null===(b=Z)||void 0===b?void 0:b.code)&&Me(S,"user-mismatch"),Z}})).apply(this,arguments)}function Di(_,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(_,p,g=!1){const b="signIn",S=yield wf(_,b,p),R=yield cr._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function In(_,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(_,p){return Di(wn(_),p)})).apply(this,arguments)}function Ul(_,p){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,u.Z)(function*(_,p){const g=(0,N.m9)(_);return yield $t(!1,g,p.providerId),go(g,p)})).apply(this,arguments)}function Hl(_,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(_,p){return yo((0,N.m9)(_),p)})).apply(this,arguments)}function Xu(_,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(_,p){return Kr(_,"POST","/v1/accounts:signInWithCustomToken",Vt(_,p))})).apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(_,p){const g=wn(_),b=yield Xu(g,{token:p,returnSecureToken:!0}),S=yield cr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ae{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ut._fromServerResponse(p,g):Me(p,"internal-error")}}class Ut extends Ae{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ut(g)}}function $l(_,p,g){var b;H((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),H(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(H(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(H(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Mn(){return(Mn=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_),S={requestType:"PASSWORD_RESET",email:p};g&&$l(b,S,g),yield ur(b,S)})).apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(_,p,g){yield Gn((0,N.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(_,p){yield zu((0,N.m9)(_),{oobCode:p})})).apply(this,arguments)}function $a(_,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(_,p){const g=(0,N.m9)(_),b=yield Gn(g,{oobCode:p}),S=b.requestType;switch(H(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(b.mfaInfo,g,"internal-error");default:H(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=Ae._fromServerResponse(wn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Td(){return(Td=(0,u.Z)(function*(_,p){const{data:g}=yield $a((0,N.m9)(_),p);return g.email})).apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(_,p,g){const b=wn(_),S=yield Wo(b,{returnSecureToken:!0,email:p,password:g}),R=yield cr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_),S={requestType:"EMAIL_SIGNIN",email:p};H(g.handleCodeInApp,b,"argument-error"),g&&$l(b,S,g),yield Ba(b,S)})).apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_),S=Bi.credentialWithLink(p,g||Oe());return H(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),In(b,S)})).apply(this,arguments)}function Am(_,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:createAuthUri",Vt(_,p))})).apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(_,p){const b={identifier:p,continueUri:pt()?Oe():"http://localhost"},{signinMethods:S}=yield Am((0,N.m9)(_),b);return S||[]})).apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(_,p){const g=(0,N.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&$l(g.auth,S,p);const{email:R}=yield An(g.auth,S);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&$l(b.auth,R,g);const{email:Z}=yield Wu(b.auth,R);Z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Kl(_,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(_,p){return tn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,N.m9)(_),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Z=yield ar(b,Kl(b.auth,R));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ce=b.providerData.find(({providerId:Ve})=>"password"===Ve);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function bo(_,p,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(_,p,g){const{auth:b}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const Z=yield ar(_,nn(b,R));yield _._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Jr{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class _n extends Jr{constructor(p,g,b,S){super(p,g,b),this.username=S}}class Sd extends Jr{constructor(p,g){super(p,"facebook.com",g)}}class cc extends _n{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class If extends Jr{constructor(p,g){super(p,"google.com",g)}}class dc extends _n{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Yl(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Xn(_){var p,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const Z=null===(g=null===(p=lt(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new Jr(R,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new Sd(R,S);case"github.com":return new cc(R,S);case"google.com":return new If(R,S);case"twitter.com":return new dc(R,S,_.screenName||null);case"custom":case"anonymous":return new Jr(R,null);default:return new Jr(R,b,S)}}(g)}class wo{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new wo("enroll",p,g)}static _fromMfaPendingCredential(p){return new wo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return wo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return wo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ql{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=wn(p),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(ce=>Ae._fromServerResponse(b,ce));H(S.mfaPendingCredential,b,"internal-error");const Z=wo._fromMfaPendingCredential(S.mfaPendingCredential);return new Ql(Z,R,function(){var ce=(0,u.Z)(function*(Ve){const et=yield Ve._process(b,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const wt=Object.assign(Object.assign({},S),{idToken:et.idToken,refreshToken:et.refreshToken});switch(g.operationType){case"signIn":const dt=yield cr._fromIdTokenResponse(b,g.operationType,wt);return yield b._updateCurrentUser(dt.user),dt;case"reauthenticate":return H(g.user,b,"internal-error"),cr._forOperation(g.user,g.operationType,wt);default:Me(b,"internal-error")}});return function(Ve){return ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Jl(_,p){return tn(_,"POST","/v2/accounts/mfaEnrollment:start",Vt(_,p))}class Cf{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Ae._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Cf(p)}getSession(){var p=this;return(0,u.Z)(function*(){return wo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,u.Z)(function*(){const S=p,R=yield b.getSession(),Z=yield ar(b.user,S._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){var b;const S="string"==typeof p?p:p.uid,R=yield g.user.getIdToken(),Z=yield ar(g.user,function Rd(_,p){return tn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(_,p))}(g.user.auth,{idToken:R,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ce})=>ce!==S),yield g.user._updateTokensIfNecessary(Z);try{yield g.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(b=ce)||void 0===b?void 0:b.code))throw ce}})()}}const Eo=new WeakMap,Io="__sak";class eu{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Za=(()=>{class _ extends eu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ka(){const _=(0,N.z$)();return Hn(_)||Jt(_)}()&&function yn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&g(b,R,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ce,Ve,et)=>{this.notifyListeners(ce,et)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(S);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const R=()=>{const ce=this.storage.getItem(S);!b&&this.localCache[S]===ce||this.notifyListeners(S,ce)},Z=this.storage.getItem(S);!function Qn(){return(0,N.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,R=this;return(0,u.Z)(function*(){yield S().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,u.Z)(function*(){const R=yield b().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,S=this;return(0,u.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),Hi=(()=>{class _ extends eu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Pd=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const S=g,{eventId:R,eventType:Z,data:ce}=S.data,Ve=b.handlersMap[Z];if(!Ve?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:Z});const et=Array.from(Ve).map(function(){var dt=(0,u.Z)(function*(nr){return nr(S.origin,ce)});return function(nr){return dt.apply(this,arguments)}}()),wt=yield function Qa(_){return Promise.all(_.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(et);S.ports[0].postMessage({status:"done",eventId:R,eventType:Z,response:wt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ja(_="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return _+g}class fc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var S=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Z,ce;return new Promise((Ve,et)=>{const wt=Ja("",20);R.port1.start();const dt=setTimeout(()=>{et(new Error("unsupported_event"))},b);ce={messageChannel:R,onMessage(nr){const Zi=nr;if(Zi.data.eventId===wt)switch(Zi.data.status){case"ack":clearTimeout(dt),Z=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ve(Zi.data.response);break;default:clearTimeout(dt),clearTimeout(Z),et(new Error("invalid_response"))}}},S.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),S.target.postMessage({eventType:p,eventId:wt,data:g},[R.port2])}).finally(()=>{ce&&S.removeMessageHandler(ce)})})()}}function Fn(){return window}function tu(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function Xa(){return(Xa=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hs="firebaseLocalStorageDb",js="firebaseLocalStorage",iu="fbase_key";class Do{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function el(_,p){return _.transaction([js],p?"readwrite":"readonly").objectStore(js)}function Xo(){const _=indexedDB.open(Hs,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(js,{keyPath:iu})}catch(S){g(S)}}),_.addEventListener("success",(0,u.Z)(function*(){const b=_.result;b.objectStoreNames.contains(js)?p(b):(b.close(),yield function Ld(){const _=indexedDB.deleteDatabase(Hs);return new Do(_).toPromise()}(),p(yield Xo()))}))})}function ms(_,p,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(_,p,g){const b=el(_,!0).put({[iu]:p,value:g});return new Do(b).toPromise()})).apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(_,p){const g=el(_,!1).get(p),b=yield new Do(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function To(_,p){const g=el(_,!0).delete(p);return new Do(g).toPromise()}const ea=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Xo()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return tu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Pd._getInstance(function ru(){return tu()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Co(){return Xa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fc(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function nu(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Xo();return yield ms(g,Io,"1"),yield To(g,Io),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(R=>ms(R,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=yield b._withRetries(R=>function su(_,p){return tl.apply(this,arguments)}(R,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(S=>To(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(Z=>{const ce=el(Z,!1).getAll();return new Do(ce).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:Z,value:ce}of b)R.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(ce)&&(g.notifyListeners(Z,ce),S.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!R.has(Z)&&(g.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ta(_,p){return tn(_,"POST","/v2/accounts/mfaSignIn:start",Vt(_,p))}function $s(){return($s=(0,u.Z)(function*(_){return(yield tn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ra(_){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=p,b.onerror=S=>{const R=be("internal-error");R.customData=S,g(R)},b.type="text/javascript",b.charset="UTF-8",function na(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(b)})}function lu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const nl=1e12;class pn{constructor(p){this.auth=p,this.counter=nl,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Sm(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||nl;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||nl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(p||nl))||void 0===b||b.execute(),""})()}}class Sm{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;H(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jy(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mm=lu("rcb"),Xy=new sn(3e4,6e4);class Df{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Fn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return H(function N0(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Fn().grecaptcha):new Promise((b,S)=>{const R=Fn().setTimeout(()=>{S(be(p,"network-request-failed"))},Xy.get());Fn()[Mm]=()=>{Fn().clearTimeout(R),delete Fn()[Mm];const ce=Fn().grecaptcha;if(!ce)return void S(be(p,"internal-error"));const Ve=ce.render;ce.render=(et,wt)=>{const dt=Ve(et,wt);return this.counter++,dt},this.hostLanguage=g,b(ce)},ra(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Mm,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Fn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class So{load(p){return(0,u.Z)(function*(){return new pn(p)})()}clearedOneInstance(){}}const xm="recaptcha",km={theme:"light",type:"image"};class hr{constructor(p,g=Object.assign({},km),b){this.parameters=g,this.type=xm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(b),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;H(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new So:new Df,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const Z=ce=>{!ce||(p.tokenChangeListeners.delete(Z),R(ce))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Fn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){H(pt()&&!tu(),p.auth,"internal-error"),yield function on(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Xr(_){return $s.apply(this,arguments)}(p.auth);H(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ai{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Vs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function an(){return(an=(0,u.Z)(function*(_,p,g){const b=wn(_),S=yield zs(b,p,(0,N.m9)(g));return new Ai(S,R=>In(b,R))})).apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_);yield $t(!1,b,"phone");const S=yield zs(b.auth,p,(0,N.m9)(g));return new Ai(S,R=>Ul(b,R))})).apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_),S=yield zs(b.auth,p,(0,N.m9)(g));return new Ai(S,R=>Hl(b,R))})).apply(this,arguments)}function zs(_,p,g){return uu.apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(_,p,g){var b;const S=yield g.verify();try{let R;if(H("string"==typeof S,_,"argument-error"),H(g.type===xm,_,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const Z=R.session;if("phoneNumber"in R)return H("enroll"===Z.type,_,"internal-error"),(yield Jl(_,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{H("signin"===Z.type,_,"internal-error");const ce=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return H(ce,_,"missing-multi-factor-info"),(yield ta(_,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Em(_,{phoneNumber:R.phoneNumber,recaptchaToken:S});return Z}}finally{g._reset()}})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(_,p){yield go((0,N.m9)(_),p)})).apply(this,arguments)}let il=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=wn(g)}verifyPhoneNumber(g,b){return zs(this.auth,g,(0,N.m9)(b))}static credential(g,b){return Vs._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Vs._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ia(_,p){return p?ae(p):(H(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class qs extends wr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Jn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Jn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Jn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ze(_){return Di(_.auth,new qs(_),_.bypassAuthState)}function sl(_){const{auth:p,user:g}=_;return H(g,p,"internal-error"),yo(g,new qs(_),_.bypassAuthState)}function Ws(_){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(_){const{auth:p,user:g}=_;return H(g,p,"internal-error"),go(g,new qs(_),_.bypassAuthState)})).apply(this,arguments)}class oa{constructor(p,g,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:Z,error:ce,type:Ve}=p;if(ce)return void g.reject(ce);const et={auth:g.auth,requestUri:b,sessionId:S,tenantId:Z||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(et))}catch(wt){g.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ze;case"linkViaPopup":case"linkViaRedirect":return Ws;case"reauthViaPopup":case"reauthViaRedirect":return sl;default:Me(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new sn(2e3,1e4);function Ks(){return(Ks=(0,u.Z)(function*(_,p,g){const b=wn(_);He(_,p,us);const S=ia(b,g);return new ys(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function _c(){return(_c=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_);He(b.auth,p,us);const S=ia(b.auth,g);return new ys(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_);He(b.auth,p,us);const S=ia(b.auth,g);return new ys(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let ys=(()=>{class _ extends oa{constructor(g,b,S,R,Z){super(g,b,R,Z),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return H(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){Y(1===g.filter.length,"Popup operations only handle one event");const b=Ja();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ln.get())};g()}}return _.currentPopupAction=null,_})();const Mi=new Map;class du extends oa{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=Mi.get(g.auth._key());if(!b){try{const R=(yield function ei(_,p){return Pr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}Mi.set(g.auth._key(),b)}return g.bypassAuthState||Mi.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Pr(){return(Pr=(0,u.Z)(function*(_,p){const g=zn(p),b=_s(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function $i(_,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(_,p){return _s(_)._set(zn(p),"true")})).apply(this,arguments)}function Zs(_,p){Mi.set(_._key(),p)}function _s(_){return ae(_._redirectPersistence)}function zn(_){return Yn("pendingRedirect",_.config.apiKey,_.name)}function C(){return(C=(0,u.Z)(function*(_,p,g){const b=wn(_);He(_,p,us);const S=ia(b,g);return yield $i(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_);He(b.auth,p,us);const S=ia(b.auth,g);yield $i(S,b.auth);const R=yield ct(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(_,p,g){const b=(0,N.m9)(_);He(b.auth,p,us);const S=ia(b.auth,g);yield $t(!1,b,p.providerId),yield $i(S,b.auth);const R=yield ct(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(_,p){return yield wn(_)._initializationPromise,bt(_,p,!1)})).apply(this,arguments)}function bt(_,p){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(_,p,g=!1){const b=wn(_),S=ia(b,p),Z=yield new du(b,S,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function ct(_){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(_){const p=Ja(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class aa{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Gi(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return St(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!St(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(p))}saveEventToCache(p){this.cachedEventUids.add(vs(p)),this.lastProcessedEventTime=Date.now()}}function vs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function St({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function Ys(_){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(_,p={}){return tn(_,"GET","/v1/projects",p)})).apply(this,arguments)}const la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mo=/^https?/;function Tf(){return(Tf=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Ys(_);for(const g of p)try{if(Om(g))return}catch{}Me(_,"unauthorized-domain")})).apply(this,arguments)}function Om(_){const p=Oe(),{protocol:g,hostname:b}=new URL(p);if(_.startsWith("chrome-extension://")){const Z=new URL(_);return""===Z.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===b}if(!Mo.test(g))return!1;if(la.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Pm=new sn(3e4,6e4);function t_(){const _=Fn().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let zi=null;function Af(_){return zi=zi||function tr(_){return new Promise((p,g)=>{var b,S,R;function Z(){t_(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{t_(),g(be(_,"network-request-failed"))},timeout:Pm.get()})}if(null!==(S=null===(b=Fn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Fn().gapi)||void 0===R||!R.load){const ce=lu("iframefcb");return Fn()[ce]=()=>{gapi.load?Z():g(be(_,"network-request-failed"))},ra(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ve=>g(Ve))}Z()}}).catch(p=>{throw zi=null,p})}(_),zi}const Fm=new sn(5e3,15e3),n_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lm(_){const p=_.config;H(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?Nn(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:_.name,v:ue.SDK_VERSION},S=Mf.get(_.config.apiHost);S&&(b.eid=S);const R=_._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,N.xO)(b).slice(1)}`}function al(){return al=(0,u.Z)(function*(_){const p=yield Af(_),g=Fn().gapi;return H(g,_,"internal-error"),p.open({where:document.body,url:Lm(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n_,dontclear:!0},b=>new Promise(function(){var S=(0,u.Z)(function*(R,Z){yield b.restyle({setHideOnLeave:!1});const ce=be(_,"network-request-failed"),Ve=Fn().setTimeout(()=>{Z(ce)},Fm.get());function et(){Fn().clearTimeout(Ve),R(b)}b.ping(et).then(et,()=>{Z(ce)})});return function(R,Z){return S.apply(this,arguments)}}()))}),al.apply(this,arguments)}const Vd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ro(_,p,g,b,S,R){H(_.config.authDomain,_,"auth-domain-config-required"),H(_.config.apiKey,_,"invalid-api-key");const Z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:ue.SDK_VERSION,eventId:S};if(p instanceof us){p.setDefaultLanguage(_.languageCode),Z.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,et]of Object.entries(R||{}))Z[Ve]=et}if(p instanceof cs){const Ve=p.getScopes().filter(et=>""!==et);Ve.length>0&&(Z.scopes=Ve.join(","))}_.tenantId&&(Z.tid=_.tenantId);const ce=Z;for(const Ve of Object.keys(ce))void 0===ce[Ve]&&delete ce[Ve];return`${function Hd({config:_}){return _.emulator?Nn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(ce).slice(1)}`}const ul="webStorageSupport";class Ri extends class r_{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ri(p)}_finalizeEnroll(p,g,b){return function Xl(_,p){return tn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(_,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function au(_,p){return tn(_,"POST","/v2/accounts/mfaSignIn:finalize",Vt(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let No=(()=>{class _{constructor(){}static assertion(g){return Ri._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var kf="@firebase/auth";class i_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ua(){return window}function Of(){return(Of=(0,u.Z)(function*(_,p,g){var b;const{BuildInfo:S}=ua();Y(p.sessionId,"AuthEvent did not contain a session ID");const R=yield c_(p.sessionId),Z={};return Jt()?Z.ibi=S.packageName:jn()?Z.apn=S.packageName:Me(_,"operation-not-supported-in-this-environment"),S.displayName&&(Z.appDisplayName=S.displayName),Z.sessionId=R,Ro(_,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Z)})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(_){const{BuildInfo:p}=ua(),g={};Jt()?g.iosBundleId=p.packageName:jn()?g.androidPackageName=p.packageName:Me(_,"operation-not-supported-in-this-environment"),yield Ys(_,g)})).apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(_,p,g){const{cordova:b}=ua();let S=()=>{};try{yield new Promise((R,Z)=>{let ce=null;function Ve(){var dt;R();const nr=null===(dt=b.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof nr&&nr(),"function"==typeof g?.close&&g.close()}function et(){ce||(ce=window.setTimeout(()=>{Z(be(_,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===document?.visibilityState&&et()}p.addPassiveListener(Ve),document.addEventListener("resume",et,!1),jn()&&document.addEventListener("visibilitychange",wt,!1),S=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",wt,!1),ce&&window.clearTimeout(ce)}})}finally{S()}})).apply(this,arguments)}function c_(_){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,u.Z)(function*(_){const p=P0(_),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function P0(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),g=new Uint8Array(p);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function o_(_){(0,ue._registerComponent)(new ie.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:R,authDomain:Z}=b.options;return((ce,Ve)=>{H(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),H(!Z?.includes(":"),"argument-error",{appName:ce.name});const et={apiKey:R,authDomain:Z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ns(_)},wt=new Pt(ce,Ve,et);return function Pe(_,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(ae);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(b,p?.popupRedirectResolver)}(wt,g),wt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ie.wA("auth-internal",p=>{const g=wn(p.getProvider("auth").getImmediate());return new i_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(kf,"0.20.7",function s_(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(kf,"0.20.7","esm2017")}("Browser");class cl extends aa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function jm(_){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(_){const p=yield Pf()._get(Ff(_));return p&&(yield Pf()._remove(Ff(_))),p})).apply(this,arguments)}function hu(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);_.push(p.charAt(b))}return _.join("")}function Pf(){return ae(Za)}function Ff(_){return Yn("authEvent",_.config.apiKey,_.name)}function hl(_){if(!_?.includes("?"))return{};const[p,...g]=_.split("?");return(0,N.zd)(g.join("?"))}function Gm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function bs(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Bf(_=(0,N.z$)()){return!("file:"!==bs()&&"ionic:"!==bs()&&"capacitor:"!==bs()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function qd(){try{const _=self.localStorage,p=Ja();if(_)return _.setItem(p,"1"),_.removeItem(p),!function Cc(_=(0,N.z$)()){return function L0(){return(0,N.w1)()&&11===document?.documentMode}()||function V0(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch{return Wd()&&(0,N.hl)()}return!1}function Wd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kd(){return(function zd(){return"http:"===bs()||"https:"===bs()}()||(0,N.ru)()||Bf())&&!function h_(){return(0,N.b$)()||(0,N.UG)()}()&&qd()&&!Wd()}function Uf(){return Bf()&&typeof document<"u"}function Zd(){return(Zd=(0,u.Z)(function*(){return!!Uf()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Yd=H,Hf="persistence";function fu(_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(_){yield _._initializationPromise;const p=jf(),g=Yn(Hf,_.config.apiKey,_.name);p&&p.setItem(g,_._getPersistence())})).apply(this,arguments)}function jf(){var _;try{return(null===(_=function qm(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Qd=H;class ws{constructor(){this.browserResolver=ae(class Um{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hi,this._completeRedirectFn=bt,this._overrideRedirectResult=Zs}_openPopup(p,g,b,S){var R=this;return(0,u.Z)(function*(){var Z;Y(null===(Z=R.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ce=Ro(p,g,b,Oe(),S);return function ko(_,p,g,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ve=Object.assign(Object.assign({},Vd),{width:b.toString(),height:S.toString(),top:R,left:Z}),et=(0,N.z$)().toLowerCase();g&&(ce=Li(et)?"_blank":g),bn(et)&&(p=p||"http://localhost",Ve.scrollbars="yes");const wt=Object.entries(Ve).reduce((nr,[Zi,mu])=>`${nr}${Zi}=${mu},`,"");if(function Ii(_=(0,N.z$)()){var p;return Jt(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(et)&&"_self"!==ce)return function Bm(_,p){const g=document.createElement("a");g.href=_,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ce),new vc(null);const dt=window.open(p||"",ce,wt);H(dt,_,"popup-blocked");try{dt.focus()}catch{}return new vc(dt)}(p,ce,Ja())})()}_openRedirect(p,g,b,S){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),function Ti(_){Fn().location.href=_}(Ro(p,g,b,Oe(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(Y(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const b=yield function Vm(_){return al.apply(this,arguments)}(p),S=new aa(p);return b.register("authEvent",R=>(H(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ul,{type:ul},S=>{var R;const Z=null===(R=S?.[0])||void 0===R?void 0:R[ul];void 0!==Z&&g(!!Z),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ki(_){return Tf.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return uo()||Hn()||Jt()}}),this.cordovaResolver=ae(class d_{constructor(){this._redirectPersistence=Hi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bt,this._overrideRedirectResult=Zs}_initialize(p){var g=this;return(0,u.Z)(function*(){const b=p._key();let S=g.eventManagers.get(b);return S||(S=new cl(p),g.eventManagers.set(b,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,S){var R=this;return(0,u.Z)(function*(){!function jd(_){var p,g,b,S,R,Z,ce,Ve,et,wt;const dt=ua();H("function"==typeof(null===(p=dt?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(g=dt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(R=null===(S=null===(b=dt?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ve=null===(ce=null===(Z=dt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(wt=null===(et=dt?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===wt?void 0:wt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield R._initialize(p);yield Z.initialized(),Z.resetRedirect(),function fr(){Mi.clear()}(),yield R._originValidation(p);const ce=function dl(_,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:hu(),postBody:null,tenantId:_.tenantId,error:be(_,"no-auth-event")}}(p,b,S);yield function Ec(_,p){return Pf()._set(Ff(_),p)}(p,ce);const Ve=yield function l_(_,p,g){return Of.apply(this,arguments)}(p,ce,g),et=yield function qi(_){const{cordova:p}=ua();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(_):S=p.InAppBrowser.open(_,function si(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Ve);return function wc(_,p,g){return Qs.apply(this,arguments)}(p,Z,et)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function u_(_){return ca.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=ua(),Z=setTimeout((0,u.Z)(function*(){yield jm(p),g.onEvent(Gm())}),500),ce=function(){var wt=(0,u.Z)(function*(dt){clearTimeout(Z);const nr=yield jm(p);let Zi=null;nr&&dt?.url&&(Zi=function $m(_,p){var g,b;const S=function $d(_){const p=hl(_),g=p.link?decodeURIComponent(p.link):void 0,b=hl(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return hl(S).link||S||b||g||_}(p);if(S.includes("/__/auth/callback")){const R=hl(S),Z=R.firebaseError?function Lf(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(b=null===(g=Z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ve=ce?be(ce):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(nr,dt.url)),g.onEvent(Zi||Gm())});return function(nr){return wt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ve=S,et=`${R.packageName.toLowerCase()}://`;ua().handleOpenURL=function(){var wt=(0,u.Z)(function*(dt){if(dt.toLowerCase().startsWith(et)&&ce({url:dt}),"function"==typeof Ve)try{Ve(dt)}catch(nr){console.error(nr)}});return function(dt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Hi,this._completeRedirectFn=bt,this._overrideRedirectResult=Zs}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,b,S)})()}_openRedirect(p,g,b,S){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,b,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Uf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function f_(){return Zd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function da(_){return _.unwrap()}function Xd(_){return eh(_)}function eh(_){const{_tokenResponse:p}=_ instanceof N.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return il.credentialFromResult(_);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Nl;break;case"facebook.com":b=Ua;break;case"github.com":b=Ju;break;case"twitter.com":b=Qr;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:Z,pendingToken:ce,nonce:Ve}=p;return R||Z||S||ce?ce?g.startsWith("saml.")?mo._create(g,ce):ls._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:S,accessToken:R}):new po(g).credential({idToken:S,accessToken:R,rawNonce:Ve}):null}return _ instanceof N.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Ir(_,p){return p.catch(g=>{throw g instanceof N.ZR&&function Xs(_,p){var g,b;const S=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new nh(_,function kn(_,p){var g;const b=(0,N.m9)(_),S=p;return H(p.customData.operationType,b,"argument-error"),H(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ql._fromError(b,S)}(_,p));else if(S){const R=eh(p),Z=p;R&&(Z.credential=R,Z.tenantId=S.tenantId||void 0,Z.email=S.email||void 0,Z.phoneNumber=S.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Xd(g),additionalUserInfo:Yl(g),user:di.getOrCreate(S)}})}function th(_,p){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*(_,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Ir(_,g.confirm(b))}})).apply(this,arguments)}class nh{constructor(p,g){this.resolver=g,this.auth=function Jd(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ir(da(this.auth),this.resolver.resolveSignIn(p))}}class di{constructor(p){this._delegate=p,this.multiFactor=function Jo(_){const p=(0,N.m9)(_);return Eo.has(p)||Eo.set(p,Cf._fromUser(p)),Eo.get(p)}(p)}static getOrCreate(p){return di.USER_MAP.has(p)||di.USER_MAP.set(p,new di(p)),di.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Ir(g.auth,Ul(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,u.Z)(function*(){return th(b.auth,function hn(_,p,g){return Si.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Ir(g.auth,function cu(_,p,g){return ol.apply(this,arguments)}(g._delegate,p,ws))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield fu(wn(g.auth)),function J(_,p,g){return function se(_,p,g){return Ie.apply(this,arguments)}(_,p,g)}(g._delegate,p,ws)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Ir(g.auth,Hl(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return th(this.auth,function rl(_,p,g){return er.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ir(this.auth,function Nm(_,p,g){return _c.apply(this,arguments)}(this._delegate,p,ws))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield fu(wn(g.auth)),function T(_,p,g){return function x(_,p,g){return L.apply(this,arguments)}(_,p,g)}(g._delegate,p,ws)})()}sendEmailVerification(p){return function sc(_,p){return Wa.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function Or(_,p){return Fl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Ad(_,p){return bo((0,N.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function vo(_,p){return bo((0,N.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Rm(_,p){return gc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function lc(_,p){return uc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function oc(_,p,g){return Wl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}di.USER_MAP=new WeakMap;const Oo=H;let Wm=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Oo(S,"invalid-api-key",{appName:g.name}),Oo(S,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?ws:void 0;this._delegate=b.initialize({options:{persistence:$f(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?di.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function $u(_,p,g){const b=wn(_);H(b._canInitEmulator,b,"emulator-config-failed"),H(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!g?.disableWarnings,R=Vi(p),{host:Z,port:ce}=function $n(_){const p=Vi(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:Os(b.substr(R.length+1))}}{const[R,Z]=b.split(":");return{host:R,port:Os(Z)}}}(p);b.config.emulator={url:`${R}//${Z}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ps(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function li(_,p){return ja.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $a(this._delegate,g)}confirmPasswordReset(g,b){return function zl(_,p,g){return Ko.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,u.Z)(function*(){return Ir(S._delegate,function Ga(_,p,g){return xn.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ql(_,p){return qa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ps(_,p){return"EMAIL_SIGNIN"===Rl.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Oo(Kd(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Re(_,p){return nt.apply(this,arguments)}(g._delegate,ws);return b?Ir(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function zm(_,p){wn(_)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:R,error:Z,complete:ce}=Km(g,b,S);return this._delegate.onAuthStateChanged(R,Z,ce)}onIdTokenChanged(g,b,S){const{next:R,error:Z,complete:ce}=Km(g,b,S);return this._delegate.onIdTokenChanged(R,Z,ce)}sendSignInLinkToEmail(g,b){return function rc(_,p,g){return _o.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Gl(_,p,g){return Mn.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let S;switch(function Dc(_,p){Yd(Object.values(Fr).includes(p),_,"invalid-persistence-type"),(0,N.b$)()?Yd(p!==Fr.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?Yd(p===Fr.NONE,_,"unsupported-persistence-type"):Wd()?Yd(p===Fr.NONE||p===Fr.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):Yd(p===Fr.NONE||qd(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Fr.SESSION:S=Hi;break;case Fr.LOCAL:S=(yield ae(ea)._isAvailable())?ea:Za;break;case Fr.NONE:S=Yt;break;default:return Me("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ir(this._delegate,function bf(_){return Sn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ir(this._delegate,In(this._delegate,g))}signInWithCustomToken(g){return Ir(this._delegate,function ec(_,p){return Ha.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ir(this._delegate,function Ui(_,p,g){return In((0,N.m9)(_),Bi.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ir(this._delegate,function Tm(_,p,g){return za.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return th(this._delegate,function Xe(_,p,g){return an.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return Oo(Kd(),b._delegate,"operation-not-supported-in-this-environment"),Ir(b._delegate,function yc(_,p,g){return Ks.apply(this,arguments)}(b._delegate,g,ws))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return Oo(Kd(),b._delegate,"operation-not-supported-in-this-environment"),yield fu(b._delegate),function ln(_,p,g){return function xi(_,p,g){return C.apply(this,arguments)}(_,p,g)}(b._delegate,g,ws)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function nc(_,p){return Td.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Fr,_})();function Km(_,p,g){let b=_;"function"!=typeof _&&({next:b,error:p,complete:g}=_);const S=b;return{next:Z=>S(Z&&di.getOrCreate(Z)),error:p,complete:g}}function $f(_,p){const g=function Ki(_,p){const g=jf();if(!g)return[];const b=Yn(Hf,_,p);switch(g.getItem(b)){case Fr.NONE:return[Yt];case Fr.LOCAL:return[ea,Hi];case Fr.SESSION:return[Hi];default:return[]}}(_,p);if(typeof self<"u"&&!g.includes(ea)&&g.push(ea),typeof window<"u")for(const b of[Za,Hi])g.includes(b)||g.push(b);return g.includes(Yt)||g.push(Yt),g}class pu{constructor(){this.providerId="phone",this._delegate=new il(da(ne.Z.auth()))}static credential(p,g){return il.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}pu.PHONE_SIGN_IN_METHOD=il.PHONE_SIGN_IN_METHOD,pu.PROVIDER_ID=il.PROVIDER_ID;const Zm=H;class Gf{constructor(p,g,b=ne.Z.app()){var S;Zm(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new hr(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qm(_){_.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Wm(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bi,FacebookAuthProvider:Ua,GithubAuthProvider:Ju,GoogleAuthProvider:Nl,OAuthProvider:po,SAMLAuthProvider:oi,PhoneAuthProvider:pu,PhoneMultiFactorGenerator:No,RecaptchaVerifier:Gf,TwitterAuthProvider:Qr,Auth:Wm,AuthCredential:wr,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.20")}(ne.Z)},9751:(at,Te,P)=>{P.d(Te,{y:()=>he});var u=P(930),ne=P(727),N=P(8822),ue=P(9635),oe=P(2416),fe=P(576),ie=P(2806);let he=(()=>{class Q{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const we=new Q;return we.source=this,we.operator=xe,we}subscribe(xe,we,tt){const _e=function $(Q){return Q&&Q instanceof u.Lv||function j(Q){return Q&&(0,fe.m)(Q.next)&&(0,fe.m)(Q.error)&&(0,fe.m)(Q.complete)}(Q)&&(0,ne.Nn)(Q)}(xe)?xe:new u.Hp(xe,we,tt);return(0,ie.x)(()=>{const{operator:me,source:Qe}=this;_e.add(me?me.call(_e,Qe):Qe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(xe){try{return this._subscribe(xe)}catch(we){xe.error(we)}}forEach(xe,we){return new(we=pe(we))((tt,_e)=>{const me=new u.Hp({next:Qe=>{try{xe(Qe)}catch(st){_e(st),me.unsubscribe()}},error:_e,complete:tt});this.subscribe(me)})}_subscribe(xe){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(xe)}[N.L](){return this}pipe(...xe){return(0,ue.U)(xe)(this)}toPromise(xe){return new(xe=pe(xe))((we,tt)=>{let _e;this.subscribe(me=>_e=me,me=>tt(me),()=>we(_e))})}}return Q.create=Be=>new Q(Be),Q})();function pe(Q){var Be;return null!==(Be=Q??oe.v.Promise)&&void 0!==Be?Be:Promise}},7579:(at,Te,P)=>{P.d(Te,{x:()=>ie});var u=P(9751),ne=P(727);const ue=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),fe=P(2806);let ie=(()=>{class pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new he(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new ue}next($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Be,observers:xe}=this;return Q||Be?ne.Lc:(this.currentObservers=null,xe.push($),new ne.w0(()=>{this.currentObservers=null,(0,oe.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Be,isStopped:xe}=this;Q?$.error(Be):xe&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return pe.create=(j,$)=>new he(j,$),pe})();class he extends ie{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,j)}error(j){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==Q?Q:ne.Lc}}},930:(at,Te,P)=>{P.d(Te,{Hp:()=>tt,Lv:()=>Q});var u=P(576),ne=P(727),N=P(2416),ue=P(7849),oe=P(5032);const fe=pe("C",void 0,void 0);function pe(Me,be,Ce){return{kind:Me,value:be,error:Ce}}var j=P(3410),$=P(2806);class Q extends ne.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,ne.Nn)(be)&&be.add(this)):this.destination=st}static create(be,Ce,He){return new tt(be,Ce,He)}next(be){this.isStopped?Qe(function he(Me){return pe("N",Me,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Qe(function ie(Me){return pe("E",void 0,Me)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Qe(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function xe(Me,be){return Be.call(Me,be)}class we{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(be)}catch(He){_e(He)}}error(be){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(be)}catch(He){_e(He)}else _e(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ce){_e(Ce)}}}class tt extends Q{constructor(be,Ce,He){let je;if(super(),(0,u.m)(be)||!be)je={next:be??void 0,error:Ce??void 0,complete:He??void 0};else{let H;this&&N.v.useDeprecatedNextContext?(H=Object.create(be),H.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&xe(be.next,H),error:be.error&&xe(be.error,H),complete:be.complete&&xe(be.complete,H)}):je=be}this.destination=new we(je)}}function _e(Me){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Me):(0,ue.h)(Me)}function Qe(Me,be){const{onStoppedNotification:Ce}=N.v;Ce&&j.z.setTimeout(()=>Ce(Me,be))}const st={closed:!0,next:oe.Z,error:function me(Me){throw Me},complete:oe.Z}},727:(at,Te,P)=>{P.d(Te,{Lc:()=>fe,w0:()=>oe,Nn:()=>ie});var u=P(576);const N=(0,P(3888).d)(pe=>function($){pe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Be)=>`${Be+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ue=P(8737);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(xe){j=xe instanceof N?xe.errors:[xe]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const xe of Be)try{he(xe)}catch(we){j=j??[],we instanceof N?j=[...j,...we.errors]:j.push(we)}}if(j)throw new N(j)}}add(j){var $;if(j&&j!==this)if(this.closed)he(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ue.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ue.P)($,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const pe=new oe;return pe.closed=!0,pe})();const fe=oe.EMPTY;function ie(pe){return pe instanceof oe||pe&&"closed"in pe&&(0,u.m)(pe.remove)&&(0,u.m)(pe.add)&&(0,u.m)(pe.unsubscribe)}function he(pe){(0,u.m)(pe)?pe():pe.unsubscribe()}},2416:(at,Te,P)=>{P.d(Te,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Te,P)=>{P.d(Te,{E:()=>ne});const ne=new(P(9751).y)(oe=>oe.complete())},8996:(at,Te,P)=>{P.d(Te,{D:()=>be});var u=P(8421),ne=P(5363),N=P(9468),fe=P(9751),he=P(2202),pe=P(576),j=P(9672);function Q(Ce,He){if(!Ce)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,j.f)(je,He,()=>{const H=Ce[Symbol.asyncIterator]();(0,j.f)(je,He,()=>{H.next().then(ye=>{ye.done?je.complete():je.next(ye.value)})},0,!0)})})}var Be=P(3670),xe=P(8239),we=P(1144),tt=P(6495),_e=P(2206),me=P(4532),Qe=P(3260);function be(Ce,He){return He?function Me(Ce,He){if(null!=Ce){if((0,Be.c)(Ce))return function ue(Ce,He){return(0,u.Xf)(Ce).pipe((0,N.R)(He),(0,ne.Q)(He))}(Ce,He);if((0,we.z)(Ce))return function ie(Ce,He){return new fe.y(je=>{let H=0;return He.schedule(function(){H===Ce.length?je.complete():(je.next(Ce[H++]),je.closed||this.schedule())})})}(Ce,He);if((0,xe.t)(Ce))return function oe(Ce,He){return(0,u.Xf)(Ce).pipe((0,N.R)(He),(0,ne.Q)(He))}(Ce,He);if((0,_e.D)(Ce))return Q(Ce,He);if((0,tt.T)(Ce))return function $(Ce,He){return new fe.y(je=>{let H;return(0,j.f)(je,He,()=>{H=Ce[he.h](),(0,j.f)(je,He,()=>{let ye,Y;try{({value:ye,done:Y}=H.next())}catch(X){return void je.error(X)}Y?je.complete():je.next(ye)},0,!0)}),()=>(0,pe.m)(H?.return)&&H.return()})}(Ce,He);if((0,Qe.L)(Ce))return function st(Ce,He){return Q((0,Qe.Q)(Ce),He)}(Ce,He)}throw(0,me.z)(Ce)}(Ce,He):(0,u.Xf)(Ce)}},8421:(at,Te,P)=>{P.d(Te,{Xf:()=>Be});var u=P(655),ne=P(1144),N=P(8239),ue=P(9751),oe=P(3670),fe=P(2206),ie=P(4532),he=P(6495),pe=P(3260),j=P(576),$=P(7849),Q=P(8822);function Be(Me){if(Me instanceof ue.y)return Me;if(null!=Me){if((0,oe.c)(Me))return function xe(Me){return new ue.y(be=>{const Ce=Me[Q.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,ne.z)(Me))return function we(Me){return new ue.y(be=>{for(let Ce=0;Ce<Me.length&&!be.closed;Ce++)be.next(Me[Ce]);be.complete()})}(Me);if((0,N.t)(Me))return function tt(Me){return new ue.y(be=>{Me.then(Ce=>{be.closed||(be.next(Ce),be.complete())},Ce=>be.error(Ce)).then(null,$.h)})}(Me);if((0,fe.D)(Me))return me(Me);if((0,he.T)(Me))return function _e(Me){return new ue.y(be=>{for(const Ce of Me)if(be.next(Ce),be.closed)return;be.complete()})}(Me);if((0,pe.L)(Me))return function Qe(Me){return me((0,pe.Q)(Me))}(Me)}throw(0,ie.z)(Me)}function me(Me){return new ue.y(be=>{(function st(Me,be){var Ce,He,je,H;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Me);!(He=yield Ce.next()).done;)if(be.next(He.value),be.closed)return}catch(ye){je={error:ye}}finally{try{He&&!He.done&&(H=Ce.return)&&(yield H.call(Ce))}finally{if(je)throw je.error}}be.complete()})})(Me,be).catch(Ce=>be.error(Ce))})}},6451:(at,Te,P)=>{P.d(Te,{T:()=>fe});var u=P(8189),ne=P(8421),N=P(515),ue=P(7669),oe=P(8996);function fe(...ie){const he=(0,ue.yG)(ie),pe=(0,ue._6)(ie,1/0),j=ie;return j.length?1===j.length?(0,ne.Xf)(j[0]):(0,u.J)(pe)((0,oe.D)(j,he)):N.E}},5403:(at,Te,P)=>{P.d(Te,{x:()=>ne});var u=P(930);function ne(ue,oe,fe,ie,he){return new N(ue,oe,fe,ie,he)}class N extends u.Lv{constructor(oe,fe,ie,he,pe,j){super(oe),this.onFinalize=pe,this.shouldUnsubscribe=j,this._next=fe?function($){try{fe($)}catch(Q){oe.error(Q)}}:super._next,this._error=he?function($){try{he($)}catch(Q){oe.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch($){oe.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(at,Te,P)=>{P.d(Te,{U:()=>N});var u=P(4482),ne=P(5403);function N(ue,oe){return(0,u.e)((fe,ie)=>{let he=0;fe.subscribe((0,ne.x)(ie,pe=>{ie.next(ue.call(oe,pe,he++))}))})}},8189:(at,Te,P)=>{P.d(Te,{J:()=>N});var u=P(5577),ne=P(4671);function N(ue=1/0){return(0,u.z)(ne.y,ue)}},5577:(at,Te,P)=>{P.d(Te,{z:()=>he});var u=P(4004),ne=P(8421),N=P(4482),ue=P(9672),oe=P(5403),ie=P(576);function he(pe,j,$=1/0){return(0,ie.m)(j)?he((Q,Be)=>(0,u.U)((xe,we)=>j(Q,xe,Be,we))((0,ne.Xf)(pe(Q,Be))),$):("number"==typeof j&&($=j),(0,N.e)((Q,Be)=>function fe(pe,j,$,Q,Be,xe,we,tt){const _e=[];let me=0,Qe=0,st=!1;const Me=()=>{st&&!_e.length&&!me&&j.complete()},be=He=>me<Q?Ce(He):_e.push(He),Ce=He=>{xe&&j.next(He),me++;let je=!1;(0,ne.Xf)($(He,Qe++)).subscribe((0,oe.x)(j,H=>{Be?.(H),xe?be(H):j.next(H)},()=>{je=!0},void 0,()=>{if(je)try{for(me--;_e.length&&me<Q;){const H=_e.shift();we?(0,ue.f)(j,we,()=>Ce(H)):Ce(H)}Me()}catch(H){j.error(H)}}))};return pe.subscribe((0,oe.x)(j,be,()=>{st=!0,Me()})),()=>{tt?.()}}(Q,Be,pe,$)))}},5363:(at,Te,P)=>{P.d(Te,{Q:()=>ue});var u=P(9672),ne=P(4482),N=P(5403);function ue(oe,fe=0){return(0,ne.e)((ie,he)=>{ie.subscribe((0,N.x)(he,pe=>(0,u.f)(he,oe,()=>he.next(pe),fe),()=>(0,u.f)(he,oe,()=>he.complete(),fe),pe=>(0,u.f)(he,oe,()=>he.error(pe),fe)))})}},3099:(at,Te,P)=>{P.d(Te,{B:()=>oe});var u=P(8421),ne=P(7579),N=P(930),ue=P(4482);function oe(ie={}){const{connector:he=(()=>new ne.x),resetOnError:pe=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=ie;return Q=>{let Be,xe,we,tt=0,_e=!1,me=!1;const Qe=()=>{xe?.unsubscribe(),xe=void 0},st=()=>{Qe(),Be=we=void 0,_e=me=!1},Me=()=>{const be=Be;st(),be?.unsubscribe()};return(0,ue.e)((be,Ce)=>{tt++,!me&&!_e&&Qe();const He=we=we??he();Ce.add(()=>{tt--,0===tt&&!me&&!_e&&(xe=fe(Me,$))}),He.subscribe(Ce),!Be&&tt>0&&(Be=new N.Hp({next:je=>He.next(je),error:je=>{me=!0,Qe(),xe=fe(st,pe,je),He.error(je)},complete:()=>{_e=!0,Qe(),xe=fe(st,j),He.complete()}}),(0,u.Xf)(be).subscribe(Be))})(Q)}}function fe(ie,he,...pe){if(!0===he)return void ie();if(!1===he)return;const j=new N.Hp({next:()=>{j.unsubscribe(),ie()}});return he(...pe).subscribe(j)}},9468:(at,Te,P)=>{P.d(Te,{R:()=>ne});var u=P(4482);function ne(N,ue=0){return(0,u.e)((oe,fe)=>{fe.add(N.schedule(()=>oe.subscribe(fe),ue))})}},8505:(at,Te,P)=>{P.d(Te,{b:()=>oe});var u=P(576),ne=P(4482),N=P(5403),ue=P(4671);function oe(fe,ie,he){const pe=(0,u.m)(fe)||ie||he?{next:fe,error:ie,complete:he}:fe;return pe?(0,ne.e)((j,$)=>{var Q;null===(Q=pe.subscribe)||void 0===Q||Q.call(pe);let Be=!0;j.subscribe((0,N.x)($,xe=>{var we;null===(we=pe.next)||void 0===we||we.call(pe,xe),$.next(xe)},()=>{var xe;Be=!1,null===(xe=pe.complete)||void 0===xe||xe.call(pe),$.complete()},xe=>{var we;Be=!1,null===(we=pe.error)||void 0===we||we.call(pe,xe),$.error(xe)},()=>{var xe,we;Be&&(null===(xe=pe.unsubscribe)||void 0===xe||xe.call(pe)),null===(we=pe.finalize)||void 0===we||we.call(pe)}))}):ue.y}},4408:(at,Te,P)=>{P.d(Te,{o:()=>oe});var u=P(727);class ne extends u.w0{constructor(ie,he){super()}schedule(ie,he=0){return this}}const N={setInterval(fe,ie,...he){const{delegate:pe}=N;return pe?.setInterval?pe.setInterval(fe,ie,...he):setInterval(fe,ie,...he)},clearInterval(fe){const{delegate:ie}=N;return(ie?.clearInterval||clearInterval)(fe)},delegate:void 0};var ue=P(8737);class oe extends ne{constructor(ie,he){super(ie,he),this.scheduler=ie,this.work=he,this.pending=!1}schedule(ie,he=0){var pe;if(this.closed)return this;this.state=ie;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,he)),this.pending=!0,this.delay=he,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId($,this.id,he),this}requestAsyncId(ie,he,pe=0){return N.setInterval(ie.flush.bind(ie,this),pe)}recycleAsyncId(ie,he,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return he;null!=he&&N.clearInterval(he)}execute(ie,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ie,he);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,he){let j,pe=!1;try{this.work(ie)}catch($){pe=!0,j=$||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ie,scheduler:he}=this,{actions:pe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(pe,this),null!=ie&&(this.id=this.recycleAsyncId(he,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Te,P)=>{P.d(Te,{v:()=>N});var u=P(6063);class ne{constructor(oe,fe=ne.now){this.schedulerActionCtor=oe,this.now=fe}schedule(oe,fe=0,ie){return new this.schedulerActionCtor(this,oe).schedule(ie,fe)}}ne.now=u.l.now;class N extends ne{constructor(oe,fe=ne.now){super(oe,fe),this.actions=[],this._active=!1}flush(oe){const{actions:fe}=this;if(this._active)return void fe.push(oe);let ie;this._active=!0;do{if(ie=oe.execute(oe.state,oe.delay))break}while(oe=fe.shift());if(this._active=!1,ie){for(;oe=fe.shift();)oe.unsubscribe();throw ie}}}},4986:(at,Te,P)=>{P.d(Te,{z:()=>N});var u=P(4408);const N=new(P(7565).v)(u.o)},6063:(at,Te,P)=>{P.d(Te,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(at,Te,P)=>{P.d(Te,{z:()=>u});const u={setTimeout(ne,N,...ue){const{delegate:oe}=u;return oe?.setTimeout?oe.setTimeout(ne,N,...ue):setTimeout(ne,N,...ue)},clearTimeout(ne){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(at,Te,P)=>{P.d(Te,{h:()=>ne});const ne=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Te,P)=>{P.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(at,Te,P)=>{P.d(Te,{_6:()=>fe,jO:()=>ue,yG:()=>oe});var u=P(576);function N(ie){return ie[ie.length-1]}function ue(ie){return(0,u.m)(N(ie))?ie.pop():void 0}function oe(ie){return function ne(ie){return ie&&(0,u.m)(ie.schedule)}(N(ie))?ie.pop():void 0}function fe(ie,he){return"number"==typeof N(ie)?ie.pop():he}},8737:(at,Te,P)=>{function u(ne,N){if(ne){const ue=ne.indexOf(N);0<=ue&&ne.splice(ue,1)}}P.d(Te,{P:()=>u})},3888:(at,Te,P)=>{function u(ne){const ue=ne(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(Te,{d:()=>u})},2806:(at,Te,P)=>{P.d(Te,{O:()=>ue,x:()=>N});var u=P(2416);let ne=null;function N(oe){if(u.v.useDeprecatedSynchronousErrorHandling){const fe=!ne;if(fe&&(ne={errorThrown:!1,error:null}),oe(),fe){const{errorThrown:ie,error:he}=ne;if(ne=null,ie)throw he}}else oe()}function ue(oe){u.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=oe)}},9672:(at,Te,P)=>{function u(ne,N,ue,oe=0,fe=!1){const ie=N.schedule(function(){ue(),fe?ne.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ne.add(ie),!fe)return ie}P.d(Te,{f:()=>u})},4671:(at,Te,P)=>{function u(ne){return ne}P.d(Te,{y:()=>u})},1144:(at,Te,P)=>{P.d(Te,{z:()=>u});const u=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(at,Te,P)=>{P.d(Te,{D:()=>ne});var u=P(576);function ne(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(at,Te,P)=>{function u(ne){return"function"==typeof ne}P.d(Te,{m:()=>u})},3670:(at,Te,P)=>{P.d(Te,{c:()=>N});var u=P(8822),ne=P(576);function N(ue){return(0,ne.m)(ue[u.L])}},6495:(at,Te,P)=>{P.d(Te,{T:()=>N});var u=P(2202),ne=P(576);function N(ue){return(0,ne.m)(ue?.[u.h])}},8239:(at,Te,P)=>{P.d(Te,{t:()=>ne});var u=P(576);function ne(N){return(0,u.m)(N?.then)}},3260:(at,Te,P)=>{P.d(Te,{L:()=>ue,Q:()=>N});var u=P(655),ne=P(576);function N(oe){return(0,u.FC)(this,arguments,function*(){const ie=oe.getReader();try{for(;;){const{value:he,done:pe}=yield(0,u.qq)(ie.read());if(pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{ie.releaseLock()}})}function ue(oe){return(0,ne.m)(oe?.getReader)}},4482:(at,Te,P)=>{P.d(Te,{A:()=>ne,e:()=>N});var u=P(576);function ne(ue){return(0,u.m)(ue?.lift)}function N(ue){return oe=>{if(ne(oe))return oe.lift(function(fe){try{return ue(fe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,Te,P)=>{function u(){}P.d(Te,{Z:()=>u})},9635:(at,Te,P)=>{P.d(Te,{U:()=>N,z:()=>ne});var u=P(4671);function ne(...ue){return N(ue)}function N(ue){return 0===ue.length?u.y:1===ue.length?ue[0]:function(fe){return ue.reduce((ie,he)=>he(ie),fe)}}},7849:(at,Te,P)=>{P.d(Te,{h:()=>N});var u=P(2416),ne=P(3410);function N(ue){ne.z.setTimeout(()=>{const{onUnhandledError:oe}=u.v;if(!oe)throw ue;oe(ue)})}},4532:(at,Te,P)=>{function u(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Te,{z:()=>u})},655:(at,Te,P)=>{function ue(Y,X){var ae={};for(var re in Y)Object.prototype.hasOwnProperty.call(Y,re)&&X.indexOf(re)<0&&(ae[re]=Y[re]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(re=Object.getOwnPropertySymbols(Y);Pe<re.length;Pe++)X.indexOf(re[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Y,re[Pe])&&(ae[re[Pe]]=Y[re[Pe]])}return ae}function he(Y,X,ae,re){return new(ae||(ae=Promise))(function(Oe,pt){function Gt(sn){try{We(re.next(sn))}catch(Nn){pt(Nn)}}function jt(sn){try{We(re.throw(sn))}catch(Nn){pt(Nn)}}function We(sn){sn.done?Oe(sn.value):function Pe(Oe){return Oe instanceof ae?Oe:new ae(function(pt){pt(Oe)})}(sn.value).then(Gt,jt)}We((re=re.apply(Y,X||[])).next())})}function _e(Y){return this instanceof _e?(this.v=Y,this):new _e(Y)}function me(Y,X,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,re=ae.apply(Y,X||[]),Oe=[];return Pe={},pt("next"),pt("throw"),pt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function pt(Wt){re[Wt]&&(Pe[Wt]=function(Kt){return new Promise(function(xr,Vt){Oe.push([Wt,Kt,xr,Vt])>1||Gt(Wt,Kt)})})}function Gt(Wt,Kt){try{!function jt(Wt){Wt.value instanceof _e?Promise.resolve(Wt.value.v).then(We,sn):Nn(Oe[0][2],Wt)}(re[Wt](Kt))}catch(xr){Nn(Oe[0][3],xr)}}function We(Wt){Gt("next",Wt)}function sn(Wt){Gt("throw",Wt)}function Nn(Wt,Kt){Wt(Kt),Oe.shift(),Oe.length&&Gt(Oe[0][0],Oe[0][1])}}function st(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function Q(Y){var X="function"==typeof Symbol&&Symbol.iterator,ae=X&&Y[X],re=0;if(ae)return ae.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&re>=Y.length&&(Y=void 0),{value:Y&&Y[re++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ae={},re("next"),re("throw"),re("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function re(Oe){ae[Oe]=Y[Oe]&&function(pt){return new Promise(function(Gt,jt){!function Pe(Oe,pt,Gt,jt){Promise.resolve(jt).then(function(We){Oe({value:We,done:Gt})},pt)}(Gt,jt,(pt=Y[Oe](pt)).done,pt.value)})}}}P.d(Te,{FC:()=>me,KL:()=>st,_T:()=>ue,mG:()=>he,qq:()=>_e})},4650:(at,Te,P)=>{P.d(Te,{$8M:()=>au,$Z:()=>yl,AFp:()=>Pb,ALo:()=>fb,AaK:()=>he,BQk:()=>bp,CHM:()=>$l,CRH:()=>gy,CZH:()=>Ey,CqO:()=>Gg,D6c:()=>kA,EJc:()=>bA,EiD:()=>hl,EpF:()=>Sv,F$t:()=>Rv,F4k:()=>$g,FYo:()=>Ve,FiY:()=>Re,G48:()=>Gb,Gf:()=>Sr,GfV:()=>nr,Gpc:()=>$,Hsn:()=>Ep,Ikx:()=>Ea,JOm:()=>ha,JVY:()=>Rf,KtG:()=>Gl,L6k:()=>i_,LAX:()=>o_,LFG:()=>ln,LSH:()=>Gd,Lbi:()=>yA,Lck:()=>UE,MAs:()=>Av,MMx:()=>ed,NdJ:()=>zg,OlP:()=>pn,Oqu:()=>Ch,PXZ:()=>LI,Q6J:()=>vp,QGY:()=>jg,QP$:()=>Li,QbO:()=>_A,Qsj:()=>et,R0b:()=>Ds,RDi:()=>Lm,Rgc:()=>Op,SBq:()=>R,Sil:()=>Iy,Suo:()=>my,TTD:()=>cs,TgZ:()=>wh,VKq:()=>hy,W1O:()=>Fp,X6Q:()=>Yp,XFs:()=>Ze,Xpm:()=>z,Xts:()=>qd,Y36:()=>rr,YKP:()=>Ni,YNc:()=>va,Yjl:()=>Bt,Yz7:()=>Kt,Z0I:()=>Fa,ZZ4:()=>Yb,_Bn:()=>Al,_UZ:()=>Bg,_Vd:()=>g,_c5:()=>Xb,_uU:()=>uE,aQg:()=>Jp,c2e:()=>AI,cJS:()=>Vt,cg1:()=>Ca,dDg:()=>TA,dqk:()=>dn,eBb:()=>s_,eFA:()=>UI,ekj:()=>Vv,eoX:()=>Ty,f3M:()=>C,g9A:()=>Mr,h0i:()=>Lh,hGG:()=>e0,hij:()=>Yg,iGM:()=>py,ifc:()=>lt,ip1:()=>Ob,jDz:()=>jE,kL8:()=>Th,lG2:()=>Yn,lcZ:()=>rI,lqb:()=>Xs,lri:()=>OI,mCW:()=>ca,n5z:()=>gs,n_E:()=>$r,oAB:()=>ot,oxw:()=>kv,pB0:()=>Nf,q3G:()=>Rn,q4F:()=>Zi,qLn:()=>zf,qOj:()=>vv,qZA:()=>Bc,qzn:()=>No,rWj:()=>Dy,sBO:()=>Lu,sIi:()=>yp,s_b:()=>Pp,soG:()=>ad,tb:()=>TI,tp0:()=>bt,uIk:()=>Ev,vHH:()=>we,vpe:()=>Sa,wAp:()=>yt,xp6:()=>mw,ynx:()=>Hg,z2F:()=>My,z3N:()=>Ri,zSh:()=>Qd,zs3:()=>dh});var u=P(7579),ne=P(727),N=P(9751),ue=P(6451),oe=P(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=fe({__forward_ref__:fe});function $(s){return s.__forward_ref__=$,s.toString=function(){return he(this())},s}function Q(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}class we extends Error{constructor(o,l){super(function tt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new we(-201,!1)}function jt(s,o){null==s&&function We(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Vt(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return Wr(s,Fi)||Wr(s,bi)}function Fa(s){return null!==tn(s)}function Wr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Rs(s){return s&&(s.hasOwnProperty(Zr)||s.hasOwnProperty(Go))?s[Zr]:null}const Fi=fe({\u0275prov:fe}),Zr=fe({\u0275inj:fe}),bi=fe({ngInjectableDef:fe}),Go=fe({ngInjectorDef:fe});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let Yr;function On(s){const o=Yr;return Yr=s,o}function wi(s,o,l){const c=tn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&Ze.Optional?null:void 0!==o?o:void be(he(s))}function Pn(s){return{toString:s}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),lt=(()=>{return(s=lt||(lt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",lt;var s})();const dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kr={},Ct=[],as=fe({\u0275cmp:fe}),Zt=fe({\u0275dir:fe}),Ei=fe({\u0275pipe:fe}),zt=fe({\u0275mod:fe}),K=fe({\u0275fac:fe}),G=fe({__NG_ELEMENT_ID__:fe});let B=0;function z(s){return Pn(()=>{const l=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ct,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||lt.Emulated,id:"c"+B++,styles:s.styles||Ct,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=Yt(s.inputs,c),h.outputs=Yt(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(De).filter(Ue):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Hn).filter(Ue):null,h})}function De(s){return Ot(s)||bn(s)}function Ue(s){return null!==s}function ot(s){return Pn(()=>({type:s.type,bootstrap:s.bootstrap||Ct,declarations:s.declarations||Ct,imports:s.imports||Ct,exports:s.exports||Ct,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Yt(s,o){if(null==s)return kr;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=c,o&&(o[h]=m)}return l}const Yn=z;function Bt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ot(s){return s[as]||null}function bn(s){return s[Zt]||null}function Hn(s){return s[Ei]||null}function Li(s){const o=Ot(s)||bn(s)||Hn(s);return null!==o&&o.standalone}function Rr(s,o){const l=s[zt]||null;if(!l&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return l}function ur(s){return Array.isArray(s)&&"object"==typeof s[1]}function Nr(s){return Array.isArray(s)&&!0===s[1]}function Ba(s){return 0!=(8&s.flags)}function qo(s){return 2==(2&s.flags)}function Wu(s){return 1==(1&s.flags)}function Ar(s){return null!==s.template}function mf(s){return 0!=(256&s[2])}function Bi(s,o){return s.hasOwnProperty(K)?s[K]:null}class us{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function cs(){return po}function po(s){return s.type.prototype.ngOnChanges&&(s.setInput=Nl),Ua}function Ua(){const s=_f(this),o=s?.current;if(o){const l=s.previous;if(l===kr)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Nl(s,o,l,c){const h=_f(s)||function mo(s,o){return s[Ju]=o}(s,{previous:kr,current:null}),m=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],I=v[E];m[E]=new us(I&&I.currentValue,o,v===kr),s[c]=o}cs.ngInherit=!0;const Ju="__ngSimpleChanges__";function _f(s){return s[Ju]||null}function Sn(s){for(;Array.isArray(s);)s=s[0];return s}function ai(s,o){return Sn(o[s])}function Or(s,o){return Sn(o[s.index])}function go(s,o){return s.data[o]}function hs(s,o){return s[o]}function $t(s,o){const l=o[s];return ur(l)?l:l[0]}function yo(s){return 64==(64&s[2])}function Di(s,o){return null==o?null:s[o]}function Bl(s){s[18]=0}function In(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Dt={lFrame:lc(null),bindingsEnabled:!0};function fs(){return Dt.bindingsEnabled}function Ae(){return Dt.lFrame.lView}function Ut(){return Dt.lFrame.tView}function $l(s){return Dt.lFrame.contextLView=s,s[8]}function Gl(s){return Dt.lFrame.contextLView=null,s}function Mn(){let s=zl();for(;null!==s&&64===s.type;)s=s.parent;return s}function zl(){return Dt.lFrame.currentTNode}function li(s,o){const l=Dt.lFrame;l.currentTNode=s,l.isParent=o}function ja(){return Dt.lFrame.isParent}function $a(){Dt.lFrame.isParent=!1}function xn(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function _o(){return Dt.lFrame.bindingIndex++}function Am(s,o){const l=Dt.lFrame;l.bindingIndex=l.bindingRootIndex=s,ql(o)}function ql(s){Dt.lFrame.currentDirectiveIndex=s}function sc(){return Dt.lFrame.currentQueryIndex}function Wa(s){Dt.lFrame.currentQueryIndex=s}function oc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Wl(s,o,l){if(l&Ze.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&Ze.Host||(h=oc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const c=Dt.lFrame=ac();return c.currentTNode=o,c.lView=s,!0}function Kl(s){const o=ac(),l=s[1];Dt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function ac(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?lc(s):o}function lc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function uc(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ad=uc;function vo(){const s=uc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Xn(){return Dt.lFrame.selectedIndex}function Jr(s){Dt.lFrame.selectedIndex=s}function _n(){const s=Dt.lFrame;return go(s.tView,s.selectedIndex)}function hc(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function Zo(s,o,l){Qo(s,o,3,l)}function Yo(s,o,l,c){(3&s[2])===l&&Qo(s,o,l,c)}function xd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Qo(s,o,l,c){const m=c??-1,v=o.length-1;let E=0;for(let I=void 0!==c?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=c&&E>=c)break}else o[I]<0&&(s[18]+=65536),(E<m||-1==m)&&(kd(s,l,o,I),s[18]=(4294901760&s[18])+I+2),I++}function kd(s,o,l,c){const h=l[c]<0,m=l[c+1],E=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Us{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Jo(s,o,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const m=l[c++],v=l[c++],E=l[c++];s.setAttribute(o,v,E,m)}else{const m=h,v=l[++c];eu(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),c++}}return c}function Io(s){return 3===s||4===s||6===s}function eu(s){return 64===s.charCodeAt(0)}function Ka(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Nd(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Nd(s,o,l,c,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===l){if(null===c)return void(null!==h&&(s[m+1]=h));if(c===s[m+1])return void(s[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==c&&s.splice(m++,0,c),null!==h&&s.splice(m++,0,h)}function Od(s){return-1!==s}function dr(s){return 32767&s}function Ya(s,o){let l=function Za(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let Hi=!0;function Qa(s){const o=Hi;return Hi=s,o}let Fn=0;const Ti={};function Co(s,o){const l=nu(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Xa(c.data,s),Xa(o,null),Xa(c.blueprint,null));const h=ru(s,o),m=s.injectorIndex;if(Od(h)){const v=dr(h),E=Ya(h,o),I=E[1].data;for(let A=0;A<8;A++)o[m+A]=E[v+A]|I[v+A]}return o[m+8]=h,m}function Xa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function nu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ru(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){if(c=ta(h),null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function Hs(s,o,l){!function tu(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(G)&&(c=l[G]),null==c&&(c=l[G]=Fn++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function js(s,o,l){if(l&Ze.Optional||void 0!==s)return s;be()}function iu(s,o,l,c){if(l&Ze.Optional&&void 0===c&&(c=null),0==(l&(Ze.Self|Ze.Host))){const h=s[9],m=On(void 0);try{return h?h.get(o,c,l&Ze.Optional):wi(o,c,l&Ze.Optional)}finally{On(m)}}return js(c,0,l)}function Do(s,o,l,c=Ze.Default,h){if(null!==s){if(1024&o[2]){const v=function ea(s,o,l,c,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=el(m,v,l,c|Ze.Self,Ti);if(E!==Ti)return E;let I=m.parent;if(!I){const A=v[21];if(A){const k=A.get(l,Ti,c);if(k!==Ti)return k}I=ta(v),v=v[15]}m=I}return h}(s,o,l,c,Ti);if(v!==Ti)return v}const m=el(s,o,l,c,Ti);if(m!==Ti)return m}return iu(o,l,c,h)}function el(s,o,l,c,h){const m=function pc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:mc:o}(l);if("function"==typeof m){if(!Wl(o,s,c))return c&Ze.Host?js(h,0,c):iu(o,l,c,h);try{const v=m(c);if(null!=v||c&Ze.Optional)return v;be()}finally{Ad()}}else if("number"==typeof m){let v=null,E=nu(s,o),I=-1,A=c&Ze.Host?o[16][6]:null;for((-1===E||c&Ze.SkipSelf)&&(I=-1===E?ru(s,o):o[E+8],-1!==I&&tl(c,!1)?(v=o[1],E=dr(I),o=Ya(I,o)):E=-1);-1!==E;){const k=o[1];if(su(m,E,k.data)){const O=Ld(E,o,l,v,c,A);if(O!==Ti)return O}I=o[E+8],-1!==I&&tl(c,o[1].data[E+8]===A)&&su(m,E,o)?(v=k,E=dr(I),o=Ya(I,o)):E=-1}}return h}function Ld(s,o,l,c,h,m){const v=o[1],E=v.data[s+8],k=Xo(E,v,l,null==c?qo(E)&&Hi:c!=v&&0!=(3&E.type),h&Ze.Host&&m===E);return null!==k?ms(o,v,k,E):Ti}function Xo(s,o,l,c,h){const m=s.providerIndexes,v=o.data,E=1048575&m,I=s.directiveStart,k=m>>20,q=h?E+k:s.directiveEnd;for(let ee=c?E:E+k;ee<q;ee++){const Ee=v[ee];if(ee<I&&l===Ee||ee>=I&&Ee.type===l)return ee}if(h){const ee=v[I];if(ee&&Ar(ee)&&ee.type===l)return I}return null}function ms(s,o,l,c){let h=s[l];const m=o.data;if(function wo(s){return s instanceof Us}(h)){const v=h;v.resolving&&function Qe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(m[l]));const E=Qa(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?On(v.injectImpl):null;Wl(s,c,Ze.Default);try{h=s[l]=v.factory(void 0,m,s,c),o.firstCreatePass&&l>=c.directiveStart&&function Md(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(c){const v=po(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==I&&On(I),Qa(E),v.resolving=!1,Ad()}}return h}function su(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function tl(s,o){return!(s&Ze.Self||s&Ze.Host&&o)}class To{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Do(this._tNode,this._lView,o,c,l)}}function mc(){return new To(Mn(),Ae())}function gs(s){return Pn(()=>{const o=s.prototype.constructor,l=o[K]||ou(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const m=h[K]||ou(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function ou(s){return Be(s)?()=>{const o=ou(Q(s));return o&&o()}:Bi(s)}function ta(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function au(s){return function Fd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const m=l[h];if(Io(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Mn(),s)}const $s="__parameters__";function Ao(s,o,l){return Pn(()=>{const c=function lu(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...m){if(this instanceof h)return c.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(I,A,k){const O=I.hasOwnProperty($s)?I[$s]:Object.defineProperty(I,$s,{value:[]})[$s];for(;O.length<=k;)O.push(null);return(O[k]=O[k]||[]).push(v),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Kt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hn(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),hn(c,o)):o!==s&&o.push(c)}return o}function Si(s,o){s.forEach(l=>Array.isArray(l)?Si(l,o):o(l))}function rl(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function er(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function zs(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function ze(s,o,l){let c=Ws(s,o);return c>=0?s[1|c]=l:(c=~c,function gc(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function sl(s,o){const l=Ws(s,o);if(l>=0)return s[1|l]}function Ws(s,o){return function oa(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const m=c+(h-c>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:c=m+1}return~(h<<l)}(s,o,1)}const Mi={},du="__NG_DI_FLAG__",ei="ngTempTokenPath",$i=/\n/gm,fr="__source";let Zs;function _s(s){const o=Zs;return Zs=s,o}function zn(s,o=Ze.Default){if(void 0===Zs)throw new we(-203,!1);return null===Zs?wi(s,void 0,o):Zs.get(s,o&Ze.Optional?null:void 0,o)}function ln(s,o=Ze.Default){return(function os(){return Yr}()||zn)(Q(s),o)}function C(s,o=Ze.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ln(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const c=Q(s[l]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let h,m=Ze.Default;for(let v=0;v<c.length;v++){const E=c[v],I=L(E);"number"==typeof I?-1===I?h=E.token:m|=I:h=E}o.push(ln(h,m))}else o.push(ln(c))}return o}function x(s,o){return s[du]=o,s.prototype[du]=o,s}function L(s){return s[du]}const Re=x(Ao("Optional"),8),bt=x(Ao("SkipSelf"),4);let Mf,al;function Lm(s){Mf=s}function xo(s){return function Vd(){if(void 0===al&&(al=null,dn.trustedTypes))try{al=dn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return al}()?.createHTML(s)||s}class Ro{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hd extends Ro{getTypeName(){return"HTML"}}class ul extends Ro{getTypeName(){return"Style"}}class Um extends Ro{getTypeName(){return"Script"}}class bc extends Ro{getTypeName(){return"URL"}}class r_ extends Ro{getTypeName(){return"ResourceURL"}}function Ri(s){return s instanceof Ro?s.changingThisBreaksApplicationSecurity:s}function No(s,o){const l=function kf(s){return s instanceof Ro&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Rf(s){return new Hd(s)}function i_(s){return new ul(s)}function s_(s){return new Um(s)}function o_(s){return new bc(s)}function Nf(s){return new r_(s)}class a_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(xo(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class l_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=xo(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=xo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const u_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ca(s){return(s=String(s)).match(u_)?s:"unsafe:"+s}function qi(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function wc(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const Qs=qi("area,br,col,hr,img,wbr"),jd=qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c_=qi("rp,rt"),cl=wc(Qs,wc(jd,qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wc(c_,qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wc(c_,jd)),dl=qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ic=wc(dl,qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$m=qi("script,style,template");class hu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!cl.hasOwnProperty(l))return this.sanitizedSomething=!0,!$m.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),v=m.name,E=v.toLowerCase();if(!Ic.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=m.value;dl[E]&&(I=ca(I)),this.buf.push(" ",v,'="',Lf(I),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();cl.hasOwnProperty(l)&&!Qs.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Lf(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Pf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ff=/([^\#-~ |!])/g;function Lf(s){return s.replace(/&/g,"&amp;").replace(Pf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ff,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $d;function hl(s,o){let l=null;try{$d=$d||function ua(s){const o=new l_(s);return function Of(){try{return!!(new window.DOMParser).parseFromString(xo(""),"text/html")}catch{return!1}}()?new a_(o):o}(s);let c=o?String(o):"";l=$d.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=l.innerHTML,l=$d.getInertBodyElement(c)}while(c!==m);return xo((new hu).sanitizeChildren(fl(l)||l))}finally{if(l){const c=fl(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function fl(s){return"content"in s&&function d_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Rn=(()=>((Rn=Rn||{})[Rn.NONE=0]="NONE",Rn[Rn.HTML=1]="HTML",Rn[Rn.STYLE=2]="STYLE",Rn[Rn.SCRIPT=3]="SCRIPT",Rn[Rn.URL=4]="URL",Rn[Rn.RESOURCE_URL=5]="RESOURCE_URL",Rn))();function Gd(s){const o=function Cc(){const s=Ae();return s&&s[12]}();return o?o.sanitize(Rn.URL,s)||"":No(s,"URL")?Ri(s):ca(_e(s))}const qd=new pn("ENVIRONMENT_INITIALIZER"),Wd=new pn("INJECTOR",-1),Kd=new pn("INJECTOR_DEF_TYPES");class Uf{get(o,l=Mi){if(l===Mi){const c=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw c.name="NullInjectorError",c}return l}}function f_(...s){return{\u0275providers:Zd(0,s)}}function Zd(s,...o){const l=[],c=new Set;let h;return Si(o,m=>{const v=m;Fr(v,l,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&qm(h,l),l}function qm(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Si(h,m=>{o.push(m)})}}function Fr(s,o,l,c){if(!(s=Q(s)))return!1;let h=null,m=Rs(s);const v=!m&&Ot(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(m=Rs(I),!m)return!1;h=I}const E=c.has(h);if(v){if(E)return!1;if(c.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of I)Fr(A,o,l,c)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let A;c.add(h);try{Si(m.imports,k=>{Fr(k,o,l,c)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&qm(A,o)}if(!E){const A=Bi(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Ct},{provide:Kd,useValue:h,multi:!0},{provide:qd,useValue:()=>ln(h),multi:!0})}const I=m.providers;null==I||E||Si(I,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}const Hf=fe({provide:String,useValue:fe});function Dc(s){return null!==s&&"object"==typeof s&&Hf in s}function Ki(s){return"function"==typeof s}const Qd=new pn("Set Injector scope."),ws={},da={};let Jd;function Xd(){return void 0===Jd&&(Jd=new Uf),Jd}class Xs{}class eh extends Xs{constructor(o,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pu(o,v=>this.processProvider(v)),this.records.set(Wd,di(void 0,this)),h.has("environment")&&this.records.set(Xs,di(void 0,this));const m=this.records.get(Qd);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Kd.multi,Ct,Ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=_s(this),c=On(void 0);try{return o()}finally{_s(l),On(c)}}get(o,l=Mi,c=Ze.Default){this.assertNotDestroyed();const h=_s(this),m=On(void 0);try{if(!(c&Ze.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=function Km(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&tn(o);E=I&&this.injectableDefInScope(I)?di(Ir(o),ws):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&Ze.Self?Xd():this.parent).get(o,l=c&Ze.Optional&&l===Mi?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[ei]=v[ei]||[]).unshift(he(o)),h)throw v;return function J(s,o,l,c){const h=s[ei];throw o[fr]&&h.unshift(o[fr]),s.message=function se(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${m.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace($i,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[ei]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{On(m),_s(h)}}resolveInjectorInitializers(){const o=_s(this),l=On(void 0);try{const c=this.get(qd.multi,Ct,Ze.Self);for(const h of c)h()}finally{_s(o),On(l)}}toString(){const o=[],l=this.records;for(const c of l.keys())o.push(he(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let l=Ki(o=Q(o))?o:Q(o&&o.provide);const c=function Tc(s){return Dc(s)?di(void 0,s.useValue):di(nh(s),ws)}(o);if(Ki(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=di(void 0,ws,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,c)}hydrate(o,l){return l.value===ws&&(l.value=da,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Wm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ir(s){const o=tn(s),l=null!==o?o.factory:Bi(s);if(null!==l)return l;if(s instanceof pn)throw new we(204,!1);if(s instanceof Function)return function th(s){const o=s.length;if(o>0)throw zs(o,"?"),new we(204,!1);const l=function Tr(s){const o=s&&(s[Fi]||s[bi]);if(o){const l=function Kr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new we(204,!1)}function nh(s,o,l){let c;if(Ki(s)){const h=Q(s);return Bi(h)||Ir(h)}if(Dc(s))c=()=>Q(s.useValue);else if(function Wi(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...T(s.deps||[]));else if(function fu(s){return!(!s||!s.useExisting)}(s))c=()=>ln(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function Oo(s){return!!s.deps}(s))return Bi(h)||Ir(h);c=()=>new h(...T(s.deps))}return c}function di(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function $f(s){return!!s.\u0275providers}function pu(s,o){for(const l of s)Array.isArray(l)?pu(l,o):$f(l)?pu(l.\u0275providers,o):o(l)}class Gf{}class p{resolveComponentFactory(o){throw function Ym(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let g=(()=>{class s{}return s.NULL=new p,s})();function b(){return S(Mn(),Ae())}function S(s,o){return new R(Or(s,o))}let R=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=b,s})();function Z(s){return s instanceof R?s.nativeElement:s}class Ve{}let et=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function wt(){const s=Ae(),l=$t(Mn().index,s);return(ur(l)?l:s)[11]}(),s})(),dt=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class nr{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Zi=new nr("14.2.4"),mu={};function y_(s){return s.ngOriginalError}class zf{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&y_(o);for(;l&&y_(l);)l=y_(l);return l||null}}const __=new Map;let ED=0;const rg="__ngContext__";function Lr(s,o){ur(o)?(s[rg]=o[20],function CD(s){__.set(s[20],s)}(o)):s[rg]=o}function ml(s){return s instanceof Function?s():s}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();function I_(s,o){return undefined(s,o)}function uh(s){const o=s[3];return Nr(o)?o[3]:o}function og(s){return Q0(s[13])}function ag(s){return Q0(s[4])}function Q0(s){for(;null!==s&&!Nr(s);)s=s[4];return s}function ch(s,o,l,c,h){if(null!=c){let m,v=!1;Nr(c)?m=c:ur(c)&&(v=!0,c=c[0]);const E=Sn(c);0===s&&null!==l?null==h?iw(o,l,E):fa(o,l,E,h||null,!0):1===s&&null!==l?fa(o,l,E,h||null,!0):2===s?function VD(s,o,l){const c=cg(s,o);c&&function LD(s,o,l,c){s.removeChild(o,l,c)}(s,c,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=m&&function JM(s,o,l,c,h){const m=l[7];m!==Sn(l)&&ch(o,s,c,m,h);for(let E=10;E<l.length;E++){const I=l[E];kc(I[1],I,s,o,c,m)}}(o,s,m,l,h)}}function lg(s,o,l){return s.createElement(o,l)}function tw(s,o){const l=s[9],c=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,In(h,-1)),l.splice(c,1)}function A_(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&tw(h,c),o>0&&(s[l-1][4]=c[4]);const m=er(s,10+o);!function T_(s,o){kc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=m[19];null!==v&&v.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Kf(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&kc(s,o,l,3,null,null),function YM(s){let o=s[13];if(!o)return ug(s[1],s);for(;o;){let l=null;if(ur(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)ur(o)&&ug(o[1],o),o=o[3];null===o&&(o=s),ur(o)&&ug(o[1],o),l=o&&o[4]}o=l}}(o)}}function ug(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function M_(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Us)){const m=l[c+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],I=m[v+1];try{I.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function S_(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],E="function"==typeof v?v(o):Sn(o[v]),I=c[h=l[m+2]],A=l[m+3];"boolean"==typeof A?E.removeEventListener(l[m],I,A):A>=0?c[h=A]():c[h=-A].unsubscribe(),m+=2}else{const v=c[h=l[m+1]];l[m].call(v)}if(null!==c){for(let m=h+1;m<c.length;m++)(0,c[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Nr(o[3])){l!==o[3]&&tw(l,o);const c=o[19];null!==c&&c.detachView(s)}!function DD(s){__.delete(s[20])}(o)}}function nw(s,o,l){return function rw(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return Or(c,l)}(s,o.parent,l)}function fa(s,o,l,c,h){s.insertBefore(o,l,c,h)}function iw(s,o,l){s.appendChild(o,l)}function sw(s,o,l,c,h){null!==c?fa(s,o,l,c,h):iw(s,o,l)}function cg(s,o){return s.parentNode(o)}function pr(s,o,l){return x_(s,o,l)}let x_=function aw(s,o,l){return 40&s.type?Or(s,l):null};function dg(s,o,l,c){const h=nw(s,c,o),m=o[11],E=pr(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)sw(m,h,l[I],E,!1);else sw(m,h,l,E,!1)}function hg(s,o){if(null!==o){const l=o.type;if(3&l)return Or(o,s);if(4&l)return lw(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return hg(s,c);{const h=s[o.index];return Nr(h)?lw(-1,h):Sn(h)}}if(32&l)return I_(o,s)()||Sn(s[o.index]);{const c=k_(s,o);return null!==c?Array.isArray(c)?c[0]:hg(uh(s[16]),c):hg(s,o.next)}}return null}function k_(s,o){return null!==o?s[16][6].projection[o.projection]:null}function lw(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return hg(c,h)}return o[7]}function R_(s,o,l,c,h,m,v){for(;null!=l;){const E=c[l.index],I=l.type;if(v&&0===o&&(E&&Lr(Sn(E),c),l.flags|=4),64!=(64&l.flags))if(8&I)R_(s,o,l.child,c,h,m,!1),ch(o,s,h,E,m);else if(32&I){const A=I_(l,c);let k;for(;k=A();)ch(o,s,h,k,m);ch(o,s,h,E,m)}else 16&I?Qf(s,o,c,l,h,m):ch(o,s,h,E,m);l=v?l.projectionNext:l.next}}function kc(s,o,l,c,h,m){R_(l,c,s.firstChild,o,h,m,!1)}function Qf(s,o,l,c,h,m){const v=l[16],I=v[6].projection[c.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)ch(o,s,h,I[A],m);else R_(s,o,I,v[3],h,m,!0)}function Rc(s,o,l){s.setAttribute(o,"style",l)}function Jf(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function BD(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===c||s.charCodeAt(h+m)<=32)return h}l=h+1}}const N_="ng-template";function O_(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==BD(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function dw(s){return 4===s.type&&s.value!==N_}function HD(s,o,l){return o===(4!==s.type||l?s.value:N_)}function jD(s,o,l){let c=4;const h=s.attrs||[],m=function XM(s){for(let o=0;o<s.length;o++)if(Io(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!v)if(4&c){if(c=2|1&c,""!==I&&!HD(s,I,l)||""===I&&1===o.length){if(eo(c))return!1;v=!0}}else{const A=8&c?I:o[++E];if(8&c&&null!==s.attrs){if(!O_(s.attrs,A,l)){if(eo(c))return!1;v=!0}continue}const O=$D(8&c?"class":I,h,dw(s),l);if(-1===O){if(eo(c))return!1;v=!0;continue}if(""!==A){let q;q=O>m?"":h[O+1].toLowerCase();const ee=8&c?q:null;if(ee&&-1!==BD(ee,A,0)||2&c&&A!==q){if(eo(c))return!1;v=!0}}}}else{if(!v&&!eo(c)&&!eo(I))return!1;if(v&&eo(I))continue;v=!1,c=I|1&c}}return eo(c)||v}function eo(s){return 0==(1&s)}function $D(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function hw(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function GD(s,o,l=!1){for(let c=0;c<o.length;c++)if(jD(s,o[c],l))return!0;return!1}function zD(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function fw(s,o){return s?":not("+o.trim()+")":o}function pw(s){let o=s[0],l=1,c=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!eo(v)&&(o+=fw(m,h),h=""),c=v,m=m||!eo(c);l++}return""!==h&&(o+=fw(m,h)),o}const Ft={};function mw(s){gw(Ut(),Ae(),Xn()+s,!1)}function gw(s,o,l,c){if(!c)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Zo(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Yo(o,m,0,l)}Jr(l)}function ZD(s,o=null,l=null,c){const h=vw(s,o,l,c);return h.resolveInjectorInitializers(),h}function vw(s,o=null,l=null,c,h=new Set){const m=[l||Ct,f_(s)];return c=c||("object"==typeof s?void 0:he(s)),new eh(m,o||Xd(),c||null,h)}let dh=(()=>{class s{static create(l,c){if(Array.isArray(l))return ZD({name:""},c,l,"");{const h=l.name??"";return ZD({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Mi,s.NULL=new Uf,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>ln(Wd)}),s.__NG_ELEMENT_ID__=-1,s})();function rr(s,o=Ze.Default){const l=Ae();return null===l?ln(s,o):Do(Mn(),l,Q(s),o)}function yl(){throw new Error("invalid")}function gg(s,o){return s<<17|o<<2}function no(s){return s>>17&32767}function Vr(s){return 2|s}function _l(s){return(131068&s)>>2}function hh(s,o){return-131069&s|o<<2}function np(s){return 1|s}function Sg(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],m=l[c+1];if(-1!==m){const v=s.data[m];Wa(h),v.contentQueries(2,o[m],m)}}}function mr(s,o,l,c,h,m,v,E,I,A,k){const O=o.blueprint.slice();return O[0]=h,O[2]=76|c,(null!==k||s&&1024&s[2])&&(O[2]|=1024),Bl(O),O[3]=O[15]=s,O[8]=l,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=I||s&&s[12]||null,O[9]=A||s&&s[9]||null,O[6]=m,O[20]=function ID(){return ED++}(),O[21]=k,O[16]=2==o.type?s[16]:O,O}function ir(s,o,l,c,h){let m=s.data[o];if(null===m)m=function fh(s,o,l,c,h){const m=zl(),v=ja(),I=s.data[o]=function rv(s,o,l,c,h,m){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(s,o,l,c,h),function Tm(){return Dt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=c,m.attrs=h;const v=function Ko(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return li(m,!0),m}function _u(s,o,l,c){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function J_(s,o,l){Kl(o);try{const c=s.viewQuery;null!==c&&hp(1,c,l);const h=s.template;null!==h&&X_(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Sg(s,o),s.staticViewQueries&&hp(2,s.viewQuery,l);const m=s.components;null!==m&&function Q_(s,o){for(let l=0;l<o.length;l++)Og(s,o[l])}(o,m)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,vo()}}function Mg(s,o,l,c){const h=o[2];if(128!=(128&h)){Kl(o);try{Bl(o),function rc(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&X_(s,o,l,2,c);const v=3==(3&h);if(v){const A=s.preOrderCheckHooks;null!==A&&Zo(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Yo(o,A,0,null),xd(o,0)}if(function cv(s){for(let o=og(s);null!==o;o=ag(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],m=h[3];0==(512&h[2])&&In(m,1),h[2]|=512}}}(o),function lp(s){for(let o=og(s);null!==o;o=ag(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];yo(c)&&Mg(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Sg(s,o),v){const A=s.contentCheckHooks;null!==A&&Zo(o,A)}else{const A=s.contentHooks;null!==A&&Yo(o,A,1),xd(o,1)}!function aT(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)Jr(~h);else{const m=h,v=l[++c],E=l[++c];Am(v,m),E(2,o[m])}}}finally{Jr(-1)}}(s,o);const E=s.components;null!==E&&function Y_(s,o){for(let l=0;l<o.length;l++)dv(s,o[l])}(o,E);const I=s.viewQuery;if(null!==I&&hp(2,I,c),v){const A=s.viewCheckHooks;null!==A&&Zo(o,A)}else{const A=s.viewHooks;null!==A&&Yo(o,A,2),xd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,In(o[3],-1))}finally{vo()}}}function X_(s,o,l,c,h){const m=Xn(),v=2&c;try{Jr(-1),v&&o.length>22&&gw(s,o,22,!1),l(c,h)}finally{Jr(m)}}function Ow(s,o,l){if(Ba(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function ev(s,o,l){!fs()||(function hT(s,o,l,c){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||Co(l,o),Lr(c,o);const v=l.initialInputs;for(let E=h;E<m;E++){const I=s.data[E],A=Ar(I);A&&Bw(o,l,I);const k=ms(o,s,E,l);Lr(k,o),null!==v&&Uw(0,E-h,k,I,0,v),A&&($t(l.index,o)[8]=k)}}(s,o,l,Or(l,o)),128==(128&l.flags)&&function fT(s,o,l){const c=l.directiveStart,h=l.directiveEnd,m=l.index,v=function ic(){return Dt.lFrame.currentDirectiveIndex}();try{Jr(m);for(let E=c;E<h;E++){const I=s.data[E],A=o[E];ql(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&vu(I,A)}}finally{Jr(-1),ql(v)}}(s,o,l))}function xg(s,o,l=Or){const c=o.localNames;if(null!==c){let h=o.index+1;for(let m=0;m<c.length;m+=2){const v=c[m+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function kg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=tv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function tv(s,o,l,c,h,m,v,E,I,A){const k=22+c,O=k+h,q=function nv(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:Ft);return l}(k,O),ee="function"==typeof A?A():A;return q[1]={type:s,blueprint:q,template:l,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ee,incompleteFirstPass:!1}}function sp(s,o,l,c){const h=pv(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&mv(s).push(c,h.length-1))}function Rg(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function iv(s,o){const c=o.directiveEnd,h=s.data,m=o.attrs,v=[];let E=null,I=null;for(let A=o.directiveStart;A<c;A++){const k=h[A],O=k.inputs,q=null===m||dw(o)?null:lv(O,m);v.push(q),E=Rg(O,A,E),I=Rg(k.outputs,A,I)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=I}function ti(s,o,l,c,h,m,v,E){const I=Or(o,l);let k,A=o.inputs;!E&&null!=A&&(k=A[c])?(Pg(s,l,k,c,h),qo(o)&&sv(l,o.index)):3&o.type&&(c=function cT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,m.setProperty(I,c,h))}function sv(s,o){const l=$t(o,s);16&l[2]||(l[2]|=32)}function ov(s,o,l,c){let h=!1;if(fs()){const m=function Lw(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];GD(l,v.selectors,!1)&&(h||(h=[]),Hs(Co(l,o),s,v.type),Ar(v)?(op(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==m){h=!0,av(l,s.data.length,m.length);for(let k=0;k<m.length;k++){const O=m[k];O.providersResolver&&O.providersResolver(O)}let E=!1,I=!1,A=_u(s,o,m.length,null);for(let k=0;k<m.length;k++){const O=m[k];l.mergedAttrs=Ka(l.mergedAttrs,O.hostAttrs),gi(s,l,o,A,O),ap(A,O,v),null!==O.contentQueries&&(l.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=128);const q=O.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!I&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),A++}iv(s,l)}v&&function Vw(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new we(-301,!1);c.push(o[h],m)}}}(l,c,v)}return l.mergedAttrs=Ka(l.mergedAttrs,l.attrs),h}function Fw(s,o,l,c,h,m){const v=m.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const I=~o.index;(function ph(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=I&&E.push(I),E.push(c,h,v)}}function vu(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function op(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ap(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Ar(o)&&(l[""]=s)}}function av(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function gi(s,o,l,c,h){s.data[c]=h;const m=h.factory||(h.factory=Bi(h.type)),v=new Us(m,Ar(h),rr);s.blueprint[c]=v,l[c]=v,Fw(s,o,0,c,_u(s,l,h.hostVars,Ft),h)}function Bw(s,o,l){const c=Or(o,s),h=kg(l),m=s[10],v=dp(s,mr(s,h,null,l.onPush?32:16,c,o,m,m.createRenderer(c,l),null,null,null));s[o.index]=v}function Yi(s,o,l,c,h,m){const v=Or(s,o);!function mh(s,o,l,c,h,m,v){if(null==m)s.removeAttribute(o,h,l);else{const E=null==v?_e(m):v(m,c||"",h);s.setAttribute(o,h,E,l)}}(o[11],v,m,s.value,l,c,h)}function Uw(s,o,l,c,h,m){const v=m[o];if(null!==v){const E=c.setInput;for(let I=0;I<v.length;){const A=v[I++],k=v[I++],O=v[I++];null!==E?c.setInput(l,O,A,k):l[k]=O}}}function lv(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function uv(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function dv(s,o){const l=$t(o,s);if(yo(l)){const c=l[1];48&l[2]?Mg(c,l,c.template,l[8]):l[5]>0&&up(l)}}function up(s){for(let c=og(s);null!==c;c=ag(c))for(let h=10;h<c.length;h++){const m=c[h];if(yo(m))if(512&m[2]){const v=m[1];Mg(v,m,v.template,m[8])}else m[5]>0&&up(m)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=$t(l[c],s);yo(h)&&h[5]>0&&up(h)}}function Og(s,o){const l=$t(o,s),c=l[1];(function cp(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),J_(c,l,l[8])}function dp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function hv(s){for(;s;){s[2]|=32;const o=uh(s);if(mf(s)&&!o)return s;s=o}return null}function gh(s,o,l,c=!0){const h=o[10];h.begin&&h.begin();try{Mg(s,o,s.template,l)}catch(v){throw c&&yh(o,v),v}finally{h.end&&h.end()}}function hp(s,o,l){Wa(0),o(s,l)}function pv(s){return s[7]||(s[7]=[])}function mv(s){return s.cleanup||(s.cleanup=[])}function yh(s,o){const l=s[9],c=l?l.get(zf,null):null;c&&c.handleError(o)}function Pg(s,o,l,c,h){for(let m=0;m<l.length;){const v=l[m++],E=l[m++],I=o[v],A=s.data[v];null!==A.setInput?A.setInput(I,h,c,E):I[E]=h}}function bu(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?m=E:1==m?h=pe(h,E):2==m&&(c=pe(c,E+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function ma(s,o,l,c,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&c.push(Sn(m)),Nr(m))for(let E=10;E<m.length;E++){const I=m[E],A=I[1].firstChild;null!==A&&ma(I[1],I,A,c)}const v=l.type;if(8&v)ma(s,o,l.child,c);else if(32&v){const E=I_(l,o);let I;for(;I=E();)c.push(I)}else if(16&v){const E=k_(o,l);if(Array.isArray(E))c.push(...E);else{const I=uh(o[16]);ma(I[1],I,E,c,!0)}}l=h?l.projectionNext:l.next}return c}class Pc{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return ma(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Nr(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(A_(o,c),er(l,c))}this._attachedToViewContainer=!1}Kf(this._lView[1],this._lView)}onDestroy(o){sp(this._lView[1],this._lView,null,o)}markForCheck(){hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ew(s,o){kc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class gT extends Pc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;gh(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class gv extends g{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ot(o);return new Lo(l,this.ngModule)}}function yv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class yT{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,c){const h=this.injector.get(o,mu,c);return h!==mu||l===mu?h:this.parentInjector.get(o,l,c)}}class Lo extends Gf{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function qD(s){return s.map(pw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return yv(this.componentDef.inputs)}get outputs(){return yv(this.componentDef.outputs)}create(o,l,c,h){let m=(h=h||this.ngModule)instanceof Xs?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new yT(o,m):o,E=v.get(Ve,null);if(null===E)throw new we(407,!1);const I=v.get(dt,null),A=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",O=c?function uT(s,o,l){return s.selectRootElement(o,l===lt.ShadowDom)}(A,c,this.componentDef.encapsulation):lg(E.createRenderer(null,this.componentDef),k,function jw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),q=this.componentDef.onPush?288:272,ee=tv(0,null,null,1,0,null,null,null,null,null),Ee=mr(null,ee,null,q,null,null,E,A,I,v,null);let Fe,$e;Kl(Ee);try{const rt=function Vn(s,o,l,c,h,m){const v=l[1];l[22]=s;const I=ir(v,22,2,"#host",null),A=I.mergedAttrs=o.hostAttrs;null!==A&&(bu(I,A,!0),null!==s&&(Jo(h,s,A),null!==I.classes&&Jf(h,s,I.classes),null!==I.styles&&Rc(h,s,I.styles)));const k=c.createRenderer(s,o),O=mr(l,kg(o),null,o.onPush?32:16,l[22],I,c,k,m||null,null,null);return v.firstCreatePass&&(Hs(Co(I,l),v,o.type),op(v,I),av(I,l.length,1)),dp(l,O),l[22]=O}(O,this.componentDef,Ee,E,A);if(O)if(c)Jo(A,O,["ng-version",Zi.full]);else{const{attrs:ft,classes:Se}=function WD(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let m=s[c];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++c]):8===h&&l.push(m);else{if(!eo(h))break;h=m}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ft&&Jo(A,O,ft),Se&&Se.length>0&&Jf(A,O,Se.join(" "))}if($e=go(ee,22),void 0!==l){const ft=$e.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const Et=l[Se];ft.push(null!=Et?Array.from(Et):null)}}Fe=function Lg(s,o,l,c){const h=l[1],m=function Ng(s,o,l){const c=Mn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),gi(s,c,o,_u(s,o,1,null),l),iv(s,c));const h=ms(o,s,c.directiveStart,c);Lr(h,o);const m=Or(c,o);return m&&Lr(m,o),h}(h,l,o);if(s[8]=l[8]=m,null!==c)for(const E of c)E(m,o);if(o.contentQueries){const E=Mn();o.contentQueries(1,m,E.directiveStart)}const v=Mn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Jr(v.index),Fw(l[1],v,0,v.directiveStart,v.directiveEnd,o),vu(o,m)),m}(rt,this.componentDef,Ee,[fp]),J_(ee,Ee,null)}finally{vo()}return new Fg(this.componentType,Fe,S($e,Ee),Ee,$e)}}class Fg extends class Zm{}{constructor(o,l,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new gT(h),this.componentType=o}setInput(o,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const m=this._rootLView;Pg(m[1],m,h,o,l),sv(m,this._tNode.index)}}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function fp(){const s=Mn();hc(Ae()[1],s)}function vv(s){let o=function _h(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Ar(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=bv(s.inputs),v.declaredInputs=bv(s.declaredInputs),v.outputs=bv(s.outputs);const E=h.hostBindings;E&&wT(s,E);const I=h.viewQuery,A=h.contentQueries;if(I&&vT(s,I),A&&bT(s,A),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),Ar(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(s),E===vv&&(l=!1)}}o=Object.getPrototypeOf(o)}!function $w(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Ka(h.hostAttrs,l=Ka(l,h.hostAttrs))}}(c)}function bv(s){return s===kr?{}:s===Ct?[]:s}function vT(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function bT(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,m)=>{o(c,h,m),l(c,h,m)}:o}function wT(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let mp=null;function Eu(){if(!mp){const s=dn.Symbol;if(s&&s.iterator)mp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(mp=c)}}}return mp}function yp(s){return!!wv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Eu()in s)}function wv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Br(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ev(s,o,l,c){const h=Ae();return Br(h,_o(),o)&&(Ut(),Yi(_n(),h,s,o,l,c)),Ev}function va(s,o,l,c,h,m,v,E){const I=Ae(),A=Ut(),k=s+22,O=A.firstCreatePass?function Qw(s,o,l,c,h,m,v,E,I){const A=o.consts,k=ir(o,s,4,v||null,Di(A,E));ov(o,l,k,Di(A,I)),hc(o,k);const O=k.tViews=tv(2,k,c,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,k),O.queries=o.queries.embeddedTView(k)),k}(k,A,I,o,l,c,h,m,v):A.data[k];li(O,!1);const q=I[11].createComment("");dg(A,I,q,O),Lr(q,I),dp(I,I[k]=uv(q,I,q,O)),Wu(O)&&ev(A,I,O),null!=v&&xg(I,O,E)}function Av(s){return hs(function nc(){return Dt.lFrame.contextLView}(),22+s)}function vp(s,o,l){const c=Ae();return Br(c,_o(),o)&&ti(Ut(),_n(),c,s,o,c[11],l,!1),vp}function Vc(s,o,l,c,h){const v=h?"class":"style";Pg(s,l,o.inputs[v],v,c)}function wh(s,o,l,c){const h=Ae(),m=Ut(),v=22+s,E=h[11],I=h[v]=lg(E,o,function Yl(){return Dt.lFrame.currentNamespace}()),A=m.firstCreatePass?function Xw(s,o,l,c,h,m,v){const E=o.consts,A=ir(o,s,2,h,Di(E,m));return ov(o,l,A,Di(E,v)),null!==A.attrs&&bu(A,A.attrs,!1),null!==A.mergedAttrs&&bu(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,m,h,0,o,l,c):m.data[v];li(A,!0);const k=A.mergedAttrs;null!==k&&Jo(E,I,k);const O=A.classes;null!==O&&Jf(E,I,O);const q=A.styles;return null!==q&&Rc(E,I,q),64!=(64&A.flags)&&dg(m,h,I,A),0===function Hl(){return Dt.lFrame.elementDepthCount}()&&Lr(I,h),function jl(){Dt.lFrame.elementDepthCount++}(),Wu(A)&&(ev(m,h,A),Ow(m,A,h)),null!==c&&xg(h,A),wh}function Bc(){let s=Mn();ja()?$a():(s=s.parent,li(s,!1));const o=s;!function Xu(){Dt.lFrame.elementDepthCount--}();const l=Ut();return l.firstCreatePass&&(hc(l,s),Ba(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Xl(s){return 0!=(16&s.flags)}(o)&&Vc(l,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Rd(s){return 0!=(32&s.flags)}(o)&&Vc(l,o,Ae(),o.stylesWithoutHost,!1),Bc}function Bg(s,o,l,c){return wh(s,o,l,c),Bc(),Bg}function Hg(s,o,l){const c=Ae(),h=Ut(),m=s+22,v=h.firstCreatePass?function Ug(s,o,l,c,h){const m=o.consts,v=Di(m,c),E=ir(o,s,8,"ng-container",v);return null!==v&&bu(E,v,!0),ov(o,l,E,Di(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,c,o,l):h.data[m];li(v,!0);const E=c[m]=c[11].createComment("");return dg(h,c,E,v),Lr(E,c),Wu(v)&&(ev(h,c,v),Ow(h,v,c)),null!=l&&xg(c,v),Hg}function bp(){let s=Mn();const o=Ut();return ja()?$a():(s=s.parent,li(s,!1)),o.firstCreatePass&&(hc(o,s),Ba(s)&&o.queries.elementEnd(s)),bp}function Sv(){return Ae()}function jg(s){return!!s&&"function"==typeof s.then}function $g(s){return!!s&&"function"==typeof s.subscribe}const Gg=$g;function zg(s,o,l,c){const h=Ae(),m=Ut(),v=Mn();return function Mv(s,o,l,c,h,m,v,E){const I=Wu(c),k=s.firstCreatePass&&mv(s),O=o[8],q=pv(o);let ee=!0;if(3&c.type||E){const $e=Or(c,o),rt=E?E($e):$e,ft=q.length,Se=E?un=>E(Sn(un[c.index])):c.index;let Et=null;if(!E&&I&&(Et=function eE(s,o,l,c){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===c){const E=o[7],I=h[m+2];return E.length>I?E[I]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,c.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=m,Et.__ngLastListenerFn__=m,ee=!1;else{m=xv(c,o,O,m,!1);const un=l.listen(rt,h,m);q.push(m,un),k&&k.push(h,Se,ft,ft+1)}}else m=xv(c,o,O,m,!1);const Ee=c.outputs;let Fe;if(ee&&null!==Ee&&(Fe=Ee[h])){const $e=Fe.length;if($e)for(let rt=0;rt<$e;rt+=2){const Tn=o[Fe[rt]][Fe[rt+1]].subscribe(m),Pi=q.length;q.push(m,Tn),k&&k.push(h,c.index,Pi,-(Pi+1))}}}(m,h,h[11],v,s,o,0,c),zg}function Du(s,o,l,c){try{return!1!==l(c)}catch(h){return yh(s,h),!1}}function xv(s,o,l,c,h){return function m(v){if(v===Function)return c;hv(2&s.flags?$t(s.index,o):o);let I=Du(o,0,c,v),A=m.__ngNextListenerFn__;for(;A;)I=Du(o,0,A,v)&&I,A=A.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function kv(s=1){return function bo(s){return(Dt.lFrame.contextLView=function Zl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function tE(s,o){let l=null;const c=function fg(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===c?GD(s,m,!0):zD(c,m))return h}else l=h}return l}function Rv(s){const o=Ae()[16][6];if(!o.projection){const c=o.projection=zs(s?s.length:1,null),h=c.slice();let m=o.child;for(;null!==m;){const v=s?tE(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:c[v]=m,h[v]=m),m=m.next}}}function Ep(s,o=0,l){const c=Ae(),h=Ut(),m=ir(h,22+s,16,null,l||null);null===m.projection&&(m.projection=o),$a(),64!=(64&m.flags)&&function uw(s,o,l){Qf(o[11],0,o,l,nw(s,l,o),pr(l.parent||o[6],l,o))}(h,c,m)}function Pv(s,o,l,c,h){const m=s[l+1],v=null===o;let E=c?no(m):_l(m),I=!1;for(;0!==E&&(!1===I||v);){const k=s[E+1];Ur(s[E],o)&&(I=!0,s[E+1]=c?np(k):Vr(k)),E=c?no(k):_l(k)}I&&(s[l+1]=c?Vr(m):np(m))}function Ur(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ws(s,o)>=0}function Vv(s,o){return function io(s,o,l,c){const h=Ae(),m=Ut(),v=function ps(s){const o=Dt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);m.firstUpdatePass&&function oE(s,o,l,c){const h=s.data;if(null===h[l+1]){const m=h[Xn()],v=function ST(s,o){return o>=s.expandoStartIndex}(s,l);(function Au(s,o){return 0!=(s.flags&(o?16:32))})(m,c)&&null===o&&!v&&(o=!1),o=function aE(s,o,l,c){const h=function qa(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=_t(l=Cn(null,s,o,l,c),o.attrs,c),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Cn(h,s,o,l,c),null===m){let I=function Nt(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==_l(c))return s[no(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=Cn(null,s,o,I[1],c),I=_t(I,o.attrs,c),function Ih(s,o,l,c){s[no(l?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else m=function lE(s,o,l){let c;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)c=_t(c,s[m].hostAttrs,l);return _t(c,o.attrs,l)}(s,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,c),function Kg(s,o,l,c,h,m){let v=m?o.classBindings:o.styleBindings,E=no(v),I=_l(v);s[c]=l;let k,A=!1;if(Array.isArray(l)){const O=l;k=O[1],(null===k||Ws(O,k)>0)&&(A=!0)}else k=l;if(h)if(0!==I){const q=no(s[E+1]);s[c+1]=gg(q,E),0!==q&&(s[q+1]=hh(s[q+1],c)),s[E+1]=function Aw(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=gg(E,0),0!==E&&(s[E+1]=hh(s[E+1],c)),E=c;else s[c+1]=gg(I,0),0===E?E=c:s[I+1]=hh(s[I+1],c),I=c;A&&(s[c+1]=Vr(s[c+1])),Pv(s,k,c,!0),Pv(s,k,c,!1),function IT(s,o,l,c,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Ws(m,o)>=0&&(l[c+1]=np(l[c+1]))}(o,k,s,c,m),v=gg(E,I),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,c)}}(m,s,v,c),o!==Ft&&Br(h,v,o)&&function qn(s,o,l,c,h,m,v,E){if(!(3&o.type))return;const I=s.data,A=I[E+1];Hc(function H_(s){return 1==(1&s)}(A)?qe(I,o,l,h,_l(A),v):void 0)||(Hc(m)||function yg(s){return 2==(2&s)}(A)&&(m=qe(I,null,l,h,E,v)),function cw(s,o,l,c,h){if(o)h?s.addClass(l,c):s.removeClass(l,c);else{let m=-1===c.indexOf("-")?void 0:ha.DashCase;null==h?s.removeStyle(l,c,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=ha.Important),s.setStyle(l,c,h,m))}}(c,v,ai(Xn(),l),h,m))}(m,m.data[Xn()],h,h[11],s,h[v+1]=function Bv(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(Ri(s)))),s}(o,l),c,v)}(s,o,null,!0),Vv}function Cn(s,o,l,c,h){let m=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(m=o[E],c=_t(c,m.hostAttrs,h),m!==s);)E++;return null!==s&&(l.directiveStylingLast=E),c}function _t(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ze(s,v,!!l||o[++m]))}return void 0===s?null:s}function qe(s,o,l,c,h,m){const v=null===o;let E;for(;h>0;){const I=s[h],A=Array.isArray(I),k=A?I[1]:I,O=null===k;let q=l[h+1];q===Ft&&(q=O?Ct:void 0);let ee=O?sl(q,c):k===c?q:void 0;if(A&&!Hc(ee)&&(ee=sl(I,c)),Hc(ee)&&(E=ee,v))return E;const Ee=s[h+1];h=v?no(Ee):_l(Ee)}if(null!==o){let I=m?o.residualClasses:o.residualStyles;null!=I&&(E=sl(I,c))}return E}function Hc(s){return void 0!==s}function uE(s,o=""){const l=Ae(),c=Ut(),h=s+22,m=c.firstCreatePass?ir(c,h,1,o,null):c.data[h],v=l[h]=function D_(s,o){return s.createText(o)}(l[11],o);dg(c,l,v,m),li(m,!1)}function Ch(s){return Yg("",s,""),Ch}function Yg(s,o,l){const c=Ae(),h=function bh(s,o,l,c){return Br(s,_o(),l)?o+_e(l)+c:Ft}(c,s,o,l);return h!==Ft&&function ro(s,o,l){const c=ai(o,s);!function J0(s,o,l){s.setValue(o,l)}(s[11],c,l)}(c,Xn(),h),Yg}function Ea(s,o,l){const c=Ae();return Br(c,_o(),o)&&ti(Ut(),_n(),c,s,o,c[11],l,!0),Ea}const Es=void 0;var mE=["en",[["a","p"],["AM","PM"],Es],[["AM","PM"],Es,Es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wv(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Ia={};function Ca(s){const o=function qc(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Kv(o);if(l)return l;const c=o.split("-")[0];if(l=Kv(c),l)return l;if("en"===c)return mE;throw new we(701,!1)}function Th(s){return Ca(s)[yt.PluralCase]}function Kv(s){return s in Ia||(Ia[s]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[s]),Ia[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const Is="en-US";let Sh=Is;function oy(s,o,l,c,h){if(s=Q(s),Array.isArray(s))for(let m=0;m<s.length;m++)oy(s[m],o,l,c,h);else{const m=Ut(),v=Ae();let E=Ki(s)?s:Q(s.provide),I=nh(s);const A=Mn(),k=1048575&A.providerIndexes,O=A.directiveStart,q=A.providerIndexes>>20;if(Ki(s)||!s.multi){const ee=new Us(I,h,rr),Ee=ub(E,o,h?k:k+q,O);-1===Ee?(Hs(Co(A,v),m,E),ku(m,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(ee),v.push(ee)):(l[Ee]=ee,v[Ee]=ee)}else{const ee=ub(E,o,k+q,O),Ee=ub(E,o,k,k+q),Fe=ee>=0&&l[ee],$e=Ee>=0&&l[Ee];if(h&&!$e||!h&&!Fe){Hs(Co(A,v),m,E);const rt=function BE(s,o,l,c,h){const m=new Us(s,l,rr);return m.multi=[],m.index=o,m.componentProviders=0,ay(m,h,c&&!l),m}(h?Qt:Dr,l.length,h,c,I);!h&&$e&&(l[Ee].providerFactory=rt),ku(m,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(rt),v.push(rt)}else ku(m,s,ee>-1?ee:Ee,ay(l[h?Ee:ee],I,!h&&c));!h&&c&&$e&&l[Ee].componentProviders++}}}function ku(s,o,l,c){const h=Ki(o),m=function jf(s){return!!s.useClass}(o);if(h||m){const I=(m?Q(o.useClass):o).prototype.ngOnDestroy;if(I){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=A.indexOf(l);-1===k?A.push(l,[c,I]):A[k+1].push(c,I)}else A.push(l,I)}}}function ay(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function ub(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function Dr(s,o,l,c){return ly(this.multi,[])}function Qt(s,o,l,c){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ms(l,l[1],this.providerFactory.index,c);m=E.slice(0,v),ly(h,m);for(let I=v;I<E.length;I++)m.push(E[I])}else m=[],ly(h,m);return m}function ly(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Al(s,o=[]){return l=>{l.providersResolver=(c,h)=>function VE(s,o,l){const c=Ut();if(c.firstCreatePass){const h=Ar(s);oy(l,c.data,c.blueprint,h,!0),oy(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Lh{}class Ni{}function UE(s,o){return new cb(s,o??null)}class cb extends Lh{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gv(this);const c=Rr(o);this._bootstrapComponents=ml(c.bootstrap),this._r3Injector=vw(o,l,[{provide:Lh,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class oo extends Ni{constructor(o){super(),this.moduleType=o}create(o){return new cb(this.moduleType,o)}}class HE extends Lh{constructor(o,l,c){super(),this.componentFactoryResolver=new gv(this),this.instance=null;const h=new eh([...o,{provide:Lh,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],l||Xd(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ed(s,o,l=null){return new HE(s,o,l).injector}let qT=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const c=Zd(0,l.type),h=c.length>0?ed([c],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Kt({token:s,providedIn:"environment",factory:()=>new s(ln(Xs))}),s})();function jE(s){s.getStandaloneInjector=o=>o.get(qT).getOrCreateStandaloneInjector(s)}function hy(s,o,l,c){return XE(Ae(),xn(),s,o,l,c)}function XE(s,o,l,c,h,m){const v=o+l;return Br(s,v,h)?function Vo(s,o,l){return s[o]=l}(s,v+1,m?c.call(m,h):c(h)):function Uh(s,o){const l=s[o];return l===Ft?void 0:l}(s,v+1)}function fb(s,o){const l=Ut();let c;const h=s+22;l.firstCreatePass?(c=function nI(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const m=c.factory||(c.factory=Bi(c.type)),v=On(rr);try{const E=Qa(!1),I=m();return Qa(E),function Jw(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,Ae(),h,I),I}finally{On(v)}}function rI(s,o,l){const c=s+22,h=Ae(),m=hs(h,c);return function Aa(s,o){return s[1].data[o].pure}(h,c)?XE(h,xn(),o,m.transform,l,m):m.transform(l)}function pb(s){return o=>{setTimeout(s,void 0,o)}}const Sa=class eA extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){let h=o,m=l||(()=>null),v=c;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=pb(m),h&&(h=pb(h)),v&&(v=pb(v)));const E=super.subscribe({next:h,error:m,complete:v});return o instanceof ne.w0&&o.add(E),E}};function sI(){return this._results[Eu()]()}class $r{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Eu(),c=$r.prototype;c[l]||(c[l]=sI)}get changes(){return this._changes||(this._changes=new Sa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=hn(o);(this._changesDetected=!function an(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],m=o[c];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Op=(()=>{class s{}return s.__NG_ELEMENT_ID__=aI,s})();const oI=Op,Ma=class extends oI{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o,l){const c=this._declarationTContainer.tViews,h=mr(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),J_(c,h,o),new Pc(h)}};function aI(){return td(Mn(),Ae())}function td(s,o){return 4&s.type?new Ma(o,s,S(s,o)):null}let Pp=(()=>{class s{}return s.__NG_ELEMENT_ID__=tA,s})();function tA(){return cI(Mn(),Ae())}const nA=Pp,lI=class extends nA{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return S(this._hostTNode,this._hostLView)}get injector(){return new To(this._hostTNode,this._hostLView)}get parentInjector(){const o=ru(this._hostTNode,this._hostLView);if(Od(o)){const l=Ya(o,this._hostLView),c=dr(o);return new To(l[1].data[c+8],l)}return new To(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=uI(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){let h,m;"number"==typeof c?h=c:null!=c&&(h=c.index,m=c.injector);const v=o.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(o,l,c,h,m){const v=o&&!function Ai(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const O=l||{};E=O.index,c=O.injector,h=O.projectableNodes,m=O.environmentInjector||O.ngModuleRef}const I=v?o:new Lo(Ot(o)),A=c||this.parentInjector;if(!m&&null==I.ngModule){const q=(v?A:this.parentInjector).get(Xs,null);q&&(m=q)}const k=I.create(A,h,void 0,m);return this.insert(k.hostView,E),k}insert(o,l){const c=o._lView,h=c[1];if(function Vl(s){return Nr(s[3])}(c)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const O=c[3],q=new lI(O,O[6],O[3]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function PD(s,o,l,c){const h=10+c,m=l.length;c>0&&(l[h-1][4]=o),c<m-10?(o[4]=l[h],rl(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function FD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,c,v,m);const E=lw(m,v),I=c[11],A=cg(I,v[7]);return null!==A&&function X0(s,o,l,c,h,m){c[0]=h,c[6]=o,kc(s,c,l,1,h,m)}(h,v[6],I,c,A,E),o.attachToViewContainerRef(),rl(mb(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=uI(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=A_(this._lContainer,l);c&&(er(mb(this._lContainer),l),Kf(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=A_(this._lContainer,l);return c&&null!=er(mb(this._lContainer),l)?new Pc(c):null}_adjustIndex(o,l=0){return o??this.length+l}};function uI(s){return s[8]}function mb(s){return s[8]||(s[8]=[])}function cI(s,o){let l;const c=o[s.index];if(Nr(c))l=c;else{let h;if(8&s.type)h=Sn(c);else{const m=o[11];h=m.createComment("");const v=Or(s,o);fa(m,cg(m,v),h,function ow(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=l=uv(c,o,h,s),dp(o,l)}return new lI(l,s,o)}class gb{constructor(o){this.queryList=o,this.matches=null}clone(){return new gb(this.queryList)}setDirty(){this.queryList.setDirty()}}class yb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<c;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new yb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Cb(o,l).matches&&this.queries[l].setDirty()}}class dI{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class _b{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,m=this.getByIndex(c).embeddedTView(o,h);m&&(m.indexInDeclarationView=c,null!==l?l.push(m):l=[m])}return null!==l?new _b(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class vb{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new vb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(o,l,sA(l,m)),this.matchTNodeWithReadOption(o,l,Xo(l,o,m,!1,!1))}else c===Op?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Xo(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===R||h===Pp||h===Op&&4&l.type)this.addMatch(l.index,-2);else{const m=Xo(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function sA(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function oA(s,o,l,c){return-1===l?function hI(s,o){return 11&s.type?S(s,o):4&s.type?td(s,o):null}(o,s):-2===l?function fI(s,o,l){return l===R?S(o,s):l===Op?td(o,s):l===Pp?cI(o,s):void 0}(s,o,c):ms(s,s[1],l,o)}function bb(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const m=s.data,v=l.matches,E=[];for(let I=0;I<v.length;I+=2){const A=v[I];E.push(A<0?null:oA(o,m[A],v[I+1],l.metadata.read))}h.matches=E}return h.matches}function wb(s,o,l,c){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=bb(s,o,h,l);for(let E=0;E<m.length;E+=2){const I=m[E];if(I>0)c.push(v[E/2]);else{const A=m[E+1],k=o[-I];for(let O=10;O<k.length;O++){const q=k[O];q[17]===q[3]&&wb(q[1],q,A,c)}if(null!==k[9]){const O=k[9];for(let q=0;q<O.length;q++){const ee=O[q];wb(ee[1],ee,A,c)}}}}}return c}function py(s){const o=Ae(),l=Ut(),c=sc();Wa(c+1);const h=Cb(l,c);if(s.dirty&&function Ll(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?wb(l,o,c,[]):bb(l,o,h,c);s.reset(m,Z),s.notifyOnChanges()}return!0}return!1}function Sr(s,o,l){const c=Ut();c.firstCreatePass&&(Ib(c,new dI(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),Sl(c,Ae(),o)}function my(s,o,l,c){const h=Ut();if(h.firstCreatePass){const m=Mn();Ib(h,new dI(o,l,c),m.index),function aA(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Sl(h,Ae(),l)}function gy(){return function Eb(s,o){return s[19].queries[o].queryList}(Ae(),sc())}function Sl(s,o,l){const c=new $r(4==(4&l));sp(s,o,c,c.destroy),null===o[19]&&(o[19]=new yb),o[19].queries.push(new gb(c))}function Ib(s,o,l){null===s.queries&&(s.queries=new _b),s.queries.track(new vb(o,l))}function Cb(s,o){return s.queries.getByIndex(o)}function Fp(s,o){return td(s,o)}function Ou(...s){}const Ob=new pn("Application Initializer");let Ey=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Ou,this.reject=Ou,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(jg(m))l.push(m);else if(Gg(m)){const v=new Promise((E,I)=>{m.subscribe({complete:E,error:I})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ln(Ob,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Pb=new pn("AppId",{providedIn:"root",factory:function DI(){return`${Gp()}${Gp()}${Gp()}`}});function Gp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mr=new pn("Platform Initializer"),yA=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TI=new pn("appBootstrapListener"),_A=new pn("AnimationModuleType");let AI=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ad=new pn("LocaleId",{providedIn:"root",factory:()=>C(ad,Ze.Optional|Ze.SkipSelf)||function vA(){return typeof $localize<"u"&&$localize.locale||Is}()}),bA=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zp{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Iy=(()=>{class s{compileModuleSync(l){return new oo(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),m=ml(Rr(l).declarations).reduce((v,E)=>{const I=Ot(E);return I&&v.push(new Lo(I)),v},[]);return new zp(c,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const IA=(()=>Promise.resolve(0))();function Cy(s){typeof Zone>"u"?IA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ds{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function CA(){let s=dn.requestAnimationFrame,o=dn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Vb(s){const o=()=>{!function Kh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(dn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zh(s),s.isCheckStableRunning=!0,Pu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,m,v,E)=>{try{return Bb(s),l.invokeTask(h,m,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Ub(s)}},onInvoke:(l,c,h,m,v,E,I)=>{try{return Bb(s),l.invoke(h,m,v,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ub(s)}},onHasTask:(l,c,h,m)=>{l.hasTask(h,m),c===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Zh(s),Pu(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,c,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ds.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ds.isInAngularZone())throw new we(909,!1)}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,DA,Ou,Ou);try{return m.runTask(v,l,c)}finally{m.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const DA={};function Pu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Bb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ub(s){s._nesting--,Pu(s)}class NI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}const OI=new pn(""),Dy=new pn("");let Ay,TA=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ay||(function PI(s){Ay=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ds.assertNotInAngularZone(),Cy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cy(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ln(Ds),ln(Ty),ln(Dy))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),Ty=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Ay?.findTestabilityInTree(this,l,c)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),xa=null;const qp=new pn("AllowMultipleToken"),ld=new pn("PlatformDestroyListeners");class LI{constructor(o,l){this.name=o,this.token=l}}function UI(s,o,l=[]){const c=`Platform: ${o}`,h=new pn(c);return(m=[])=>{let v=Kp();if(!v||v.injector.get(qp,!1)){const E=[...l,...m,{provide:h,useValue:!0}];s?s(E):function AA(s){if(xa&&!xa.get(qp,!1))throw new we(400,!1);xa=s;const o=s.get($b);(function BI(s){const o=s.get(Mr,null);o&&o.forEach(l=>l())})(s)}(function Wp(s=[],o){return dh.create({name:o,providers:[{provide:Qd,useValue:"platform"},{provide:ld,useValue:new Set([()=>xa=null])},...s]})}(E,c))}return function HI(s){const o=Kp();if(!o)throw new we(401,!1);return o}()}}function Kp(){return xa?.get($b)??null}let $b=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function $I(s,o){let l;return l="noop"===s?new NI:("zone.js"===s?void 0:s)||new Ds(o),l}(c?.ngZone,function jI(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),m=[{provide:Ds,useValue:h}];return h.run(()=>{const v=dh.create({providers:m,parent:this.injector,name:l.moduleType.name}),E=l.create(v),I=E.injector.get(zf,null);if(!I)throw new we(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{I.handleError(k)}});E.onDestroy(()=>{Fu(this._modules,E),A.unsubscribe()})}),function GI(s,o,l){try{const c=l();return jg(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(I,h,()=>{const A=E.injector.get(Ey);return A.runInitializers(),A.donePromise.then(()=>(function Zv(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(Sh=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(ad,Is)||Is),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,c=[]){const h=zI({},c);return function Hb(s,o,l){const c=new oo(l);return Promise.resolve(c)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const c=l.injector.get(My);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new we(403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(ld,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ln(dh))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function zI(s,o){return Array.isArray(o)?o.reduce(zI,s):{...s,...o}}let My=(()=>{class s{constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ds.assertNotInAngularZone(),Cy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ue.T)(m,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof Gf;if(!this._injector.get(Ey).done)throw!h&&Li(l),new we(405,false);let v;v=h?l:this._injector.get(g).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function jb(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Lh),A=v.create(dh.NULL,[],c||v.selector,E),k=A.location.nativeElement,O=A.injector.get(OI,null);return O?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),Fu(this.components,A),O?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;Fu(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(TI,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Fu(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new we(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(ln(Ds),ln(Xs),ln(zf))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fu(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let ky=!0,Zp=!1;function Yp(){return Zp=!0,ky}function Gb(){if(Zp)throw new Error("Cannot enable prod mode after platform setup.");ky=!1}let Lu=(()=>{class s{}return s.__NG_ELEMENT_ID__=WI,s})();function WI(s){return function MA(s,o,l){if(qo(s)&&!l){const c=$t(s.index,o);return new Pc(c,c)}return 47&s.type?new Pc(o[16],o):null}(Mn(),Ae(),16==(16&s))}class qb{constructor(){}supports(o){return yp(o)}create(o){return new Kb(o)}}const Wb=(s,o)=>o;class Kb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wb}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,m=null;for(;l||c;){const v=!c||l&&l.currentIndex<Ly(c,h,m)?l:c,E=Ly(v,h,m),I=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const A=E-h,k=I-h;if(A!=k){for(let q=0;q<A;q++){const ee=q<m.length?m[q]:m[q]=0,Ee=ee+q;k<=Ee&&Ee<A&&(m[q]=ee+1)}m[v.previousIndex]=k-A}}E!==I&&o(v,E,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!yp(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],v=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,m,v,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,E),c=!0),l=l._next}else h=0,function zw(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Eu()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new Zb(l,c),m,h),o}_verifyReinsertion(o,l,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new xl),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xl),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Zb{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ef{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class xl{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new ef,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ly(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class cd{constructor(){}supports(o){return o instanceof Map||wv(o)}create(){return new tf}}class tf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||wv(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const c=new tC(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class tC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dd(){return new Yb([new qb])}let Yb=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||dd()),deps:[[s,new bt,new Re]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new we(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:dd}),s})();function Vy(){return new Jp([new cd])}let Jp=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Vy()),deps:[[s,new bt,new Re]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new we(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:Vy}),s})();const Xb=UI(null,"core",[]);let e0=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ln(My))},s.\u0275mod=ot({type:s}),s.\u0275inj=Vt({}),s})();function kA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(at,Te,P)=>{P.d(Te,{Z:()=>we});var u=P(2090),ne=P(4859),N=P(9681),ue=P(1877);class oe{constructor(_e,me){this._delegate=_e,this.firebase=me,(0,N._addComponent)(_e,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(_e,me=N._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(_e);return!st.isInitialized()&&"EXPLICIT"===(null===(Qe=st.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&st.initialize(),st.getImmediate({identifier:me})}_removeServiceInstance(_e,me=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(me)}_addComponent(_e){(0,N._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,N._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function pe(){const tt=function he(tt){const _e={},me={__esModule:!0,initializeApp:function Me(je,H={}){const ye=N.initializeApp(je,H);if((0,u.r3)(_e,ye.name))return _e[ye.name];const Y=new tt(ye,me);return _e[ye.name]=Y,Y},app:st,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ce(je){const H=je.name,ye=H.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const Y=(X=st())=>{if("function"!=typeof X[ye])throw ie.create("invalid-app-argument",{appName:H});return X[ye]()};void 0!==je.serviceProps&&(0,u.ZB)(Y,je.serviceProps),me[ye]=Y,tt.prototype[ye]=function(...X){return this._getService.bind(this,H).apply(this,je.multipleInstances?X:[])}}return"PUBLIC"===je.type?me[ye]:null},removeApp:function Qe(je){delete _e[je]},useAsService:function He(je,H){return"serverAuth"===H?null:H},modularAPIs:N}};function st(je){if(!(0,u.r3)(_e,je=je||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:je});return _e[je]}return me.default=me,Object.defineProperty(me,"apps",{get:function be(){return Object.keys(_e).map(je=>_e[je])}}),st.App=tt,me}(oe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function _e(me){(0,u.ZB)(tt,me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),tt}(),$=new ue.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=j;!function xe(tt){(0,N.registerVersion)("@firebase/app-compat","0.1.34",tt)}()},9681:(at,Te,P)=>{P.r(Te),P.d(Te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>Kt,_apps:()=>sn,_clearComponents:()=>Fa,_components:()=>Nn,_getProvider:()=>Vt,_registerComponent:()=>xr,_removeServiceInstance:()=>tn,deleteApp:()=>Go,getApp:()=>Zr,getApps:()=>bi,initializeApp:()=>Fi,onLog:()=>os,registerVersion:()=>Yr,setLogLevel:()=>On});var u=P(5861),ne=P(4859),N=P(1877),ue=P(2090),oe=P(8766);class fe{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function ie(B){return"VERSION"===B.getComponent()?.type}(W)){const De=W.getImmediate();return`${De.library}/${De.version}`}return null}).filter(W=>W).join(" ")}}const he="@firebase/app",j=new N.Yd("@firebase/app"),jt="[DEFAULT]",We={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Nn=new Map;function Wt(B,z){try{B.container.addComponent(z)}catch(W){j.debug(`Component ${z.name} failed to register with FirebaseApp ${B.name}`,W)}}function Kt(B,z){B.container.addOrOverwriteComponent(z)}function xr(B){const z=B.name;if(Nn.has(z))return j.debug(`There were multiple attempts to register component ${z}.`),!1;Nn.set(z,B);for(const W of sn.values())Wt(W,B);return!0}function Vt(B,z){const W=B.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),B.container.getProvider(z)}function tn(B,z,W=jt){Vt(B,z).clearInstance(W)}function Fa(){Nn.clear()}const Tr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kr{constructor(z,W,De){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=De,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Rs="9.10.0";function Fi(B,z={}){"object"!=typeof z&&(z={name:z});const W=Object.assign({name:jt,automaticDataCollectionEnabled:!1},z),De=W.name;if("string"!=typeof De||!De)throw Tr.create("bad-app-name",{appName:String(De)});const Ue=sn.get(De);if(Ue){if((0,ue.vZ)(B,Ue.options)&&(0,ue.vZ)(W,Ue.config))return Ue;throw Tr.create("duplicate-app",{appName:De})}const ot=new ne.H0(De);for(const Yt of Nn.values())ot.addComponent(Yt);const fn=new Kr(B,W,ot);return sn.set(De,fn),fn}function Zr(B=jt){const z=sn.get(B);if(!z)throw Tr.create("no-app",{appName:B});return z}function bi(){return Array.from(sn.values())}function Go(B){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(B){const z=B.name;sn.has(z)&&(sn.delete(z),yield Promise.all(B.container.getProviders().map(W=>W.delete())),B.isDeleted=!0)})).apply(this,arguments)}function Yr(B,z,W){var De;let Ue=null!==(De=We[B])&&void 0!==De?De:B;W&&(Ue+=`-${W}`);const ot=Ue.match(/\s|\//),fn=z.match(/\s|\//);if(ot||fn){const Yt=[`Unable to register library "${Ue}" with version "${z}":`];return ot&&Yt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),ot&&fn&&Yt.push("and"),fn&&Yt.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void j.warn(Yt.join(" "))}xr(new ne.wA(`${Ue}-version`,()=>({library:Ue,version:z}),"VERSION"))}function os(B,z){if(null!==B&&"function"!=typeof B)throw Tr.create("invalid-log-argument");(0,N.Am)(B,z)}function On(B){(0,N.Ub)(B)}const Pn="firebase-heartbeat-store";let Zn=null;function gn(){return Zn||(Zn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(B,z)=>{0===z&&B.createObjectStore(Pn)}}).catch(B=>{throw Tr.create("idb-open",{originalErrorMessage:B.message})})),Zn}function lt(){return(lt=(0,u.Z)(function*(B){var z;try{return(yield gn()).transaction(Pn).objectStore(Pn).get(lr(B))}catch(W){if(W instanceof ue.ZR)j.warn(W.message);else{const De=Tr.create("idb-get",{originalErrorMessage:null===(z=W)||void 0===z?void 0:z.message});j.warn(De.message)}}})).apply(this,arguments)}function dn(B,z){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(B,z){var W;try{const Ue=(yield gn()).transaction(Pn,"readwrite");return yield Ue.objectStore(Pn).put(z,lr(B)),Ue.done}catch(De){if(De instanceof ue.ZR)j.warn(De.message);else{const Ue=Tr.create("idb-set",{originalErrorMessage:null===(W=De)||void 0===W?void 0:W.message});j.warn(Ue.message)}}})).apply(this,arguments)}function lr(B){return`${B.name}!${B.options.appId}`}class as{constructor(z){this.container=z,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new zt(W),this._heartbeatsCachePromise=this._storage.read().then(De=>(this._heartbeatsCache=De,De))}triggerHeartbeat(){var z=this;return(0,u.Z)(function*(){const De=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Zt();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!z._heartbeatsCache.heartbeats.some(ot=>ot.date===Ue))return z._heartbeatsCache.heartbeats.push({date:Ue,agent:De}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(ot=>{const fn=new Date(ot.date).valueOf();return Date.now()-fn<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,u.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const W=Zt(),{heartbeatsToSend:De,unsentEntries:Ue}=function Ei(B,z=1024){const W=[];let De=B.slice();for(const Ue of B){const ot=W.find(fn=>fn.agent===Ue.agent);if(ot){if(ot.dates.push(Ue.date),K(W)>z){ot.dates.pop();break}}else if(W.push({agent:Ue.agent,dates:[Ue.date]}),K(W)>z){W.pop();break}De=De.slice(1)}return{heartbeatsToSend:W,unsentEntries:De}}(z._heartbeatsCache.heartbeats),ot=(0,ue.L)(JSON.stringify({version:2,heartbeats:De}));return z._heartbeatsCache.lastSentHeartbeatDate=W,Ue.length>0?(z._heartbeatsCache.heartbeats=Ue,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),ot})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class zt{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,u.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function gt(B){return lt.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var W=this;return(0,u.Z)(function*(){var De;if(yield W._canUseIndexedDBPromise){const ot=yield W.read();return dn(W.app,{lastSentHeartbeatDate:null!==(De=z.lastSentHeartbeatDate)&&void 0!==De?De:ot.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var W=this;return(0,u.Z)(function*(){var De;if(yield W._canUseIndexedDBPromise){const ot=yield W.read();return dn(W.app,{lastSentHeartbeatDate:null!==(De=z.lastSentHeartbeatDate)&&void 0!==De?De:ot.lastSentHeartbeatDate,heartbeats:[...ot.heartbeats,...z.heartbeats]})}})()}}function K(B){return(0,ue.L)(JSON.stringify({version:2,heartbeats:B})).length}!function G(B){xr(new ne.wA("platform-logger",z=>new fe(z),"PRIVATE")),xr(new ne.wA("heartbeat",z=>new as(z),"PRIVATE")),Yr(he,"0.7.33",B),Yr(he,"0.7.33","esm2017"),Yr("fire-js","")}("")},4859:(at,Te,P)=>{P.d(Te,{H0:()=>he,wA:()=>N});var u=P(5861),ne=P(2090);class N{constructor(j,$,Q){this.name=j,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ue="[DEFAULT]";class oe{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const Q=new ne.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:$});Be&&Q.resolve(Be)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const Q=this.normalizeInstanceIdentifier(j?.identifier),Be=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(xe){if(Be)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ie(pe){return"EAGER"===pe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:Be});Q.resolve(xe)}catch{}}}}clearInstance(j=ue){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,u.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ue){return this.instances.has(j)}getOptions(j=ue){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[xe,we]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(xe)&&we.resolve(Be);return Be}onInit(j,$){var Q;const Be=this.normalizeInstanceIdentifier($),xe=null!==(Q=this.onInitCallbacks.get(Be))&&void 0!==Q?Q:new Set;xe.add(j),this.onInitCallbacks.set(Be,xe);const we=this.instances.get(Be);return we&&j(we,Be),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Be of Q)try{Be(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=j,pe===ue?void 0:pe),options:$}),this.instances.set(j,Q),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch{}var pe;return Q||null}normalizeInstanceIdentifier(j=ue){return this.component?this.component.multipleInstances?j:ue:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new oe(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Te,P)=>{P.d(Te,{Am:()=>pe,Ub:()=>he,Yd:()=>ie,in:()=>ne});const u=[];var ne=(()=>{return(j=ne||(ne={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",ne;var j})();const N={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ue=ne.INFO,oe={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},fe=(j,$,...Q)=>{if($<j.logLevel)return;const Be=(new Date).toISOString(),xe=oe[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${Be}]  ${j.name}:`,...Q)};class ie{constructor($){this.name=$,this._logLevel=ue,this._logHandler=fe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ne))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...$),this._logHandler(this,ne.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...$),this._logHandler(this,ne.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...$),this._logHandler(this,ne.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...$),this._logHandler(this,ne.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...$),this._logHandler(this,ne.ERROR,...$)}}function he(j){u.forEach($=>{$.setLogLevel(j)})}function pe(j,$){for(const Q of u){let Be=null;$&&$.level&&(Be=N[$.level]),Q.userLogHandler=null===j?null:(xe,we,...tt)=>{const _e=tt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");we>=(Be??xe.logLevel)&&j({level:ne[we].toLowerCase(),message:_e,args:tt,type:xe.name})}}}},8766:(at,Te,P)=>{P.d(Te,{Lj:()=>Me,X3:()=>st});var u=P(5861);let N,ue;const ie=new WeakMap,he=new WeakMap,pe=new WeakMap,j=new WeakMap,$=new WeakMap;let xe={get(H,ye,Y){if(H instanceof IDBTransaction){if("done"===ye)return he.get(H);if("objectStoreNames"===ye)return H.objectStoreNames||pe.get(H);if("store"===ye)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return me(H[ye])},set:(H,ye,Y)=>(H[ye]=Y,!0),has:(H,ye)=>H instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in H};function _e(H){return"function"==typeof H?function tt(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ye){return H.apply(Qe(this),ye),me(ie.get(this))}:function(...ye){return me(H.apply(Qe(this),ye))}:function(ye,...Y){const X=H.call(Qe(this),ye,...Y);return pe.set(X,ye.sort?ye.sort():[ye]),me(X)}}(H):(H instanceof IDBTransaction&&function Be(H){if(he.has(H))return;const ye=new Promise((Y,X)=>{const ae=()=>{H.removeEventListener("complete",re),H.removeEventListener("error",Pe),H.removeEventListener("abort",Pe)},re=()=>{Y(),ae()},Pe=()=>{X(H.error||new DOMException("AbortError","AbortError")),ae()};H.addEventListener("complete",re),H.addEventListener("error",Pe),H.addEventListener("abort",Pe)});he.set(H,ye)}(H),((H,ye)=>ye.some(Y=>H instanceof Y))(H,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,xe):H)}function me(H){if(H instanceof IDBRequest)return function Q(H){const ye=new Promise((Y,X)=>{const ae=()=>{H.removeEventListener("success",re),H.removeEventListener("error",Pe)},re=()=>{Y(me(H.result)),ae()},Pe=()=>{X(H.error),ae()};H.addEventListener("success",re),H.addEventListener("error",Pe)});return ye.then(Y=>{Y instanceof IDBCursor&&ie.set(Y,H)}).catch(()=>{}),$.set(ye,H),ye}(H);if(j.has(H))return j.get(H);const ye=_e(H);return ye!==H&&(j.set(H,ye),$.set(ye,H)),ye}const Qe=H=>$.get(H);function st(H,ye,{blocked:Y,upgrade:X,blocking:ae,terminated:re}={}){const Pe=indexedDB.open(H,ye),Oe=me(Pe);return X&&Pe.addEventListener("upgradeneeded",pt=>{X(me(Pe.result),pt.oldVersion,pt.newVersion,me(Pe.transaction))}),Y&&Pe.addEventListener("blocked",()=>Y()),Oe.then(pt=>{re&&pt.addEventListener("close",()=>re()),ae&&pt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Oe}function Me(H,{blocked:ye}={}){const Y=indexedDB.deleteDatabase(H);return ye&&Y.addEventListener("blocked",()=>ye()),me(Y).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],He=new Map;function je(H,ye){if(!(H instanceof IDBDatabase)||ye in H||"string"!=typeof ye)return;if(He.get(ye))return He.get(ye);const Y=ye.replace(/FromIndex$/,""),X=ye!==Y,ae=Ce.includes(Y);if(!(Y in(X?IDBIndex:IDBObjectStore).prototype)||!ae&&!be.includes(Y))return;const re=function(){var Pe=(0,u.Z)(function*(Oe,...pt){const Gt=this.transaction(Oe,ae?"readwrite":"readonly");let jt=Gt.store;return X&&(jt=jt.index(pt.shift())),(yield Promise.all([jt[Y](...pt),ae&&Gt.done]))[0]});return function(pt){return Pe.apply(this,arguments)}}();return He.set(ye,re),re}!function we(H){xe=H(xe)}(H=>({...H,get:(ye,Y,X)=>je(ye,Y)||H.get(ye,Y,X),has:(ye,Y)=>!!je(ye,Y)||H.has(ye,Y)}))},5861:(at,Te,P)=>{function u(N,ue,oe,fe,ie,he,pe){try{var j=N[he](pe),$=j.value}catch(Q){return void oe(Q)}j.done?ue($):Promise.resolve($).then(fe,ie)}function ne(N){return function(){var ue=this,oe=arguments;return new Promise(function(fe,ie){var he=N.apply(ue,oe);function pe($){u(he,fe,ie,pe,j,"next",$)}function j($){u(he,fe,ie,pe,j,"throw",$)}pe(void 0)})}}P.d(Te,{Z:()=>ne})}},at=>{at(at.s=211)}]);